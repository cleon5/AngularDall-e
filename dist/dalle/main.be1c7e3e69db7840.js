(self.webpackChunkdalle=self.webpackChunkdalle||[]).push([[179],{751:(Z,qt,be)=>{"use strict";function B(t){return"function"==typeof t}function Ce(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const z=Ce(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ie(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Q{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(B(r))try{r()}catch(s){e=s instanceof z?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{De(s)}catch(o){e=e??[],o instanceof z?e=[...e,...o.errors]:e.push(o)}}if(e)throw new z(e)}}add(e){var n;if(e&&e!==this)if(this.closed)De(e);else{if(e instanceof Q){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ie(n,e)}remove(e){const{_finalizers:n}=this;n&&ie(n,e),e instanceof Q&&e._removeParent(this)}}Q.EMPTY=(()=>{const t=new Q;return t.closed=!0,t})();const rt=Q.EMPTY;function Ee(t){return t instanceof Q||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function De(t){B(t)?t():t.unsubscribe()}const oe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Me={setTimeout(t,e,...n){const{delegate:r}=Me;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Me;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rn(t){Me.setTimeout(()=>{const{onUnhandledError:e}=oe;if(!e)throw t;e(t)})}function Gn(){}const Te=qn("C",void 0,void 0);function qn(t,e,n){return{kind:t,value:e,error:n}}let wt=null;function br(t){if(oe.useDeprecatedSynchronousErrorHandling){const e=!wt;if(e&&(wt={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=wt;if(wt=null,n)throw r}}else t()}class Or extends Q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ee(e)&&e.add(this)):this.destination=IH}static create(e,n,r){return new Di(e,n,r)}next(e){this.isStopped?Lm(function vn(t){return qn("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Lm(function Wt(t){return qn("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lm(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const eo=Function.prototype.bind;function ps(t,e){return eo.call(t,e)}class cc{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){la(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){la(r)}else la(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){la(n)}}}class Di extends Or{constructor(e,n,r){let i;if(super(),B(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&oe.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ps(e.next,s),error:e.error&&ps(e.error,s),complete:e.complete&&ps(e.complete,s)}):i=e}this.destination=new cc(i)}}function la(t){oe.useDeprecatedSynchronousErrorHandling?function Ei(t){oe.useDeprecatedSynchronousErrorHandling&&wt&&(wt.errorThrown=!0,wt.error=t)}(t):rn(t)}function Lm(t,e){const{onStoppedNotification:n}=oe;n&&Me.setTimeout(()=>n(t,e))}const IH={closed:!0,next:Gn,error:function Fm(t){throw t},complete:Gn},Vm="function"==typeof Symbol&&Symbol.observable||"@@observable";function gs(t){return t}function OS(t){return 0===t.length?gs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function DH(t){return t&&t instanceof Or||function EH(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}(t)&&Ee(t)}(n)?n:new Di(n,r,i);return br(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=NS(r))((i,s)=>{const o=new Di({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vm](){return this}pipe(...n){return OS(n)(this)}toPromise(n){return new(n=NS(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function NS(t){var e;return null!==(e=t??oe.Promise)&&void 0!==e?e:Promise}const TH=Ce(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xr=(()=>{class t extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new FS(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TH}next(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rt:(this.currentObservers=null,s.push(n),new Q(()=>{this.currentObservers=null,ie(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Je;return n.source=this,n}}return t.create=(e,n)=>new FS(e,n),t})();class FS extends Xr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:rt}}function LS(t){return B(t?.lift)}function bt(t){return e=>{if(LS(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new VS(t,e,n,r,i)}class VS extends Or{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function pe(t,e){return bt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function Bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function BS(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function to(t){return this instanceof to?(this.v=t,this):new to(t)}function xH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function jS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const HS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function zS(t){return B(t?.then)}function GS(t){return B(t[Vm])}function qS(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function WS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const KS=function RH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function QS(t){return B(t?.[KS])}function YS(t){return function AH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof to?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield to(n.read());if(i)return yield to(void 0);yield yield to(r)}}finally{n.releaseLock()}})}function XS(t){return B(t?.getReader)}function Ir(t){if(t instanceof Je)return t;if(null!=t){if(GS(t))return function PH(t){return new Je(e=>{const n=t[Vm]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(HS(t))return function kH(t){return new Je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(zS(t))return function OH(t){return new Je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rn)})}(t);if(qS(t))return JS(t);if(QS(t))return function NH(t){return new Je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(XS(t))return function FH(t){return JS(YS(t))}(t)}throw WS(t)}function JS(t){return new Je(e=>{(function LH(t,e){var n,r,i,s;return BS(this,void 0,void 0,function*(){try{for(n=xH(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ti(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Kt(t,e,n=1/0){return B(e)?Kt((r,i)=>pe((s,o)=>e(r,s,i,o))(Ir(t(r,i))),n):("number"==typeof e&&(n=e),bt((r,i)=>function VH(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;Ir(n(m,l++)).subscribe(dt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const _=u.shift();o?Ti(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function da(t=1/0){return Kt(gs,t)}const Jr=new Je(t=>t.complete());function $m(t){return t[t.length-1]}function ZS(t){return B($m(t))?t.pop():void 0}function lc(t){return function BH(t){return t&&B(t.schedule)}($m(t))?t.pop():void 0}function hh(t,e=0){return bt((n,r)=>{n.subscribe(dt(r,i=>Ti(r,t,()=>r.next(i),e),()=>Ti(r,t,()=>r.complete(),e),i=>Ti(r,t,()=>r.error(i),e)))})}function fh(t,e=0){return bt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function eA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Je(n=>{Ti(n,e,()=>{const r=t[Symbol.asyncIterator]();Ti(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Pt(t,e){return e?function WH(t,e){if(null!=t){if(GS(t))return function jH(t,e){return Ir(t).pipe(fh(e),hh(e))}(t,e);if(HS(t))return function zH(t,e){return new Je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(zS(t))return function HH(t,e){return Ir(t).pipe(fh(e),hh(e))}(t,e);if(qS(t))return eA(t,e);if(QS(t))return function GH(t,e){return new Je(n=>{let r;return Ti(n,e,()=>{r=t[KS](),Ti(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>B(r?.return)&&r.return()})}(t,e);if(XS(t))return function qH(t,e){return eA(YS(t),e)}(t,e)}throw WS(t)}(t,e):Ir(t)}function jm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Di({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function qe(t){for(let e in t)if(t[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function Hm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ke(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ke).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function zm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const YH=qe({__forward_ref__:qe});function Qe(t){return t.__forward_ref__=Qe,t.toString=function(){return Ke(this())},t}function ee(t){return Gm(t)?t():t}function Gm(t){return"function"==typeof t&&t.hasOwnProperty(YH)&&t.__forward_ref__===Qe}function qm(t){return t&&!!t.\u0275providers}const tA="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(ph(e,n)),this.code=e}}function ph(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function gh(t,e){throw new x(-201,!1)}function Cr(t,e){null==t&&function Ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function mh(t){return nA(t,yh)||nA(t,iA)}function nA(t,e){return t.hasOwnProperty(e)?t[e]:null}function rA(t){return t&&(t.hasOwnProperty(Wm)||t.hasOwnProperty(sz))?t[Wm]:null}const yh=qe({\u0275prov:qe}),Wm=qe({\u0275inj:qe}),iA=qe({ngInjectableDef:qe}),sz=qe({ngInjectorDef:qe});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let Km;function Er(t){const e=Km;return Km=t,e}function sA(t,e,n){const r=mh(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&te.Optional?null:void 0!==e?e:void gh(Ke(t))}const Ze=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dc={},Qm="__NG_DI_FLAG__",_h="ngTempTokenPath",az="ngTokenPath",uz=/\n/gm,cz="\u0275",oA="__source";let hc;function ha(t){const e=hc;return hc=t,e}function lz(t,e=te.Default){if(void 0===hc)throw new x(-203,!1);return null===hc?sA(t,void 0,e):hc.get(t,e&te.Optional?null:void 0,e)}function k(t,e=te.Default){return(function oz(){return Km}()||lz)(ee(t),e)}function ge(t,e=te.Default){return k(t,vh(e))}function vh(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ym(t){const e=[];for(let n=0;n<t.length;n++){const r=ee(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],u=dz(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function fc(t,e){return t[Qm]=e,t.prototype[Qm]=e,t}function dz(t){return t[Qm]}function Si(t){return{toString:t}.toString()}var Zr=(()=>((Zr=Zr||{})[Zr.OnPush=0]="OnPush",Zr[Zr.Default=1]="Default",Zr))(),ei=(()=>{return(t=ei||(ei={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ei;var t})();const Ai={},Le=[],wh=qe({\u0275cmp:qe}),Xm=qe({\u0275dir:qe}),Jm=qe({\u0275pipe:qe}),uA=qe({\u0275mod:qe}),xi=qe({\u0275fac:qe}),pc=qe({__NG_ELEMENT_ID__:qe});let pz=0;function ti(t){return Si(()=>{const e=lA(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||ei.Emulated,id:"c"+pz++,styles:t.styles||Le,_:null,schemas:t.schemas||null,tView:null};dA(n);const r=t.dependencies;return n.directiveDefs=bh(r,!1),n.pipeDefs=bh(r,!0),n})}function mz(t){return Be(t)||wn(t)}function yz(t){return null!==t}function sn(t){return Si(()=>({type:t.type,bootstrap:t.bootstrap||Le,declarations:t.declarations||Le,imports:t.imports||Le,exports:t.exports||Le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cA(t,e){if(null==t)return Ai;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ae(t){return Si(()=>{const e=lA(t);return dA(e),e})}function Be(t){return t[wh]||null}function wn(t){return t[Xm]||null}function Kn(t){return t[Jm]||null}function ar(t,e){const n=t[uA]||null;if(!n&&!0===e)throw new Error(`Type ${Ke(t)} does not have '\u0275mod' property.`);return n}function lA(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cA(t.inputs,e),outputs:cA(t.outputs)}}function dA(t){t.features?.forEach(e=>e(t))}function bh(t,e){if(!t)return null;const n=e?Kn:mz;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(yz)}const Mi=0,V=1,ye=2,ht=3,Nr=4,no=5,bn=6,pa=7,It=8,Ih=9,Ch=10,ve=11,Zm=12,gc=13,hA=14,ga=15,In=16,mc=17,ma=18,ni=19,yc=20,fA=21,et=22,ey=1,pA=2,Eh=7,Dh=8,ya=9,Pn=10;function ur(t){return Array.isArray(t)&&"object"==typeof t[ey]}function Fr(t){return Array.isArray(t)&&!0===t[ey]}function ty(t){return 0!=(4&t.flags)}function _c(t){return t.componentOffset>-1}function Th(t){return 1==(1&t.flags)}function Lr(t){return!!t.template}function vz(t){return 0!=(256&t[ye])}function ro(t,e){return t.hasOwnProperty(xi)?t[xi]:null}class Iz{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dr(){return yA}function yA(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ez),Cz}function Cz(){const t=vA(this),e=t?.current;if(e){const n=t.previous;if(n===Ai)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ez(t,e,n,r){const i=this.declaredInputs[n],s=vA(t)||function Dz(t,e){return t[_A]=e}(t,{previous:Ai,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Iz(u&&u.currentValue,e,a===Ai),t[r]=e}Dr.ngInherit=!0;const _A="__ngSimpleChanges__";function vA(t){return t[_A]||null}const Tr=function(t,e,n){};function on(t){for(;Array.isArray(t);)t=t[Mi];return t}function Sh(t,e){return on(e[t])}function cr(t,e){return on(e[t.index])}function IA(t,e){return t.data[e]}function lr(t,e){const n=e[t];return ur(n)?n:n[Mi]}function Ah(t){return 64==(64&t[ye])}function ys(t,e){return null==e?null:t[e]}function CA(t){t[ma]=0}function ry(t,e){t[no]+=e;let n=t,r=t[ht];for(;null!==r&&(1===e&&1===n[no]||-1===e&&0===n[no]);)r[no]+=e,n=r,r=r[ht]}const de={lFrame:kA(null),bindingsEnabled:!0};function DA(){return de.bindingsEnabled}function T(){return de.lFrame.lView}function Re(){return de.lFrame.tView}function Pe(t){return de.lFrame.contextLView=t,t[It]}function ke(t){return de.lFrame.contextLView=null,t}function an(){let t=TA();for(;null!==t&&64===t.type;)t=t.parent;return t}function TA(){return de.lFrame.currentTNode}function ri(t,e){const n=de.lFrame;n.currentTNode=t,n.isParent=e}function iy(){return de.lFrame.isParent}function va(){return de.lFrame.bindingIndex++}function Vz(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,oy(e)}function oy(t){de.lFrame.currentDirectiveIndex=t}function uy(t){de.lFrame.currentQueryIndex=t}function Bz(t){const e=t[V];return 2===e.type?e.declTNode:1===e.type?t[bn]:null}function RA(t,e,n){if(n&te.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&te.Host||(i=Bz(s),null===i||(s=s[ga],10&i.type))););if(null===i)return!1;e=i,t=s}const r=de.lFrame=PA();return r.currentTNode=e,r.lView=t,!0}function cy(t){const e=PA(),n=t[V];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function PA(){const t=de.lFrame,e=null===t?null:t.child;return null===e?kA(t):e}function kA(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function OA(){const t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const NA=OA;function ly(){const t=OA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function On(){return de.lFrame.selectedIndex}function io(t){de.lFrame.selectedIndex=t}function at(){const t=de.lFrame;return IA(t.tView,t.selectedIndex)}function xh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks??(t.contentHooks=[])).push(n,a),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks??(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks??(t.viewHooks=[])).push(n,c),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks??(t.destroyHooks=[])).push(n,l)}}function Mh(t,e,n){FA(t,e,3,n)}function Rh(t,e,n,r){(3&t[ye])===n&&FA(t,e,n,r)}function dy(t,e){let n=t[ye];(3&n)===e&&(n&=2047,n+=1,t[ye]=n)}function FA(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[ma]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[ma]+=65536),(a<s||-1==s)&&(Qz(t,n,e,u),t[ma]=(4294901760&t[ma])+u+2),u++}function Qz(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[ye]>>11<t[ma]>>16&&(3&t[ye])===e){t[ye]+=2048,Tr(4,a,s);try{s.call(a)}finally{Tr(5,a,s)}}}else{Tr(4,a,s);try{s.call(a)}finally{Tr(5,a,s)}}}const wa=-1;class wc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];VA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function LA(t){return 3===t||4===t||6===t}function VA(t){return 64===t.charCodeAt(0)}function bc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||UA(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function UA(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function BA(t){return t!==wa}function Ph(t){return 32767&t}function kh(t,e){let n=function Zz(t){return t>>16}(t),r=e;for(;n>0;)r=r[ga],n--;return r}let py=!0;function Oh(t){const e=py;return py=t,e}const $A=255,jA=5;let eG=0;const ii={};function Nh(t,e){const n=HA(t,e);if(-1!==n)return n;const r=e[V];r.firstCreatePass&&(t.injectorIndex=e.length,gy(r.data,t),gy(e,null),gy(r.blueprint,null));const i=my(t,e),s=t.injectorIndex;if(BA(i)){const o=Ph(i),a=kh(i,e),u=a[V].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function gy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function my(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=YA(i),null===r)return wa;if(n++,i=i[ga],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return wa}function yy(t,e,n){!function tG(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(pc)&&(r=n[pc]),null==r&&(r=n[pc]=eG++);const i=r&$A;e.data[t+(i>>jA)]|=1<<i}(t,e,n)}function zA(t,e,n){if(n&te.Optional||void 0!==t)return t;gh()}function GA(t,e,n,r){if(n&te.Optional&&void 0===r&&(r=null),!(n&(te.Self|te.Host))){const i=t[Ih],s=Er(void 0);try{return i?i.get(e,r,n&te.Optional):sA(e,r,n&te.Optional)}finally{Er(s)}}return zA(r,0,n)}function qA(t,e,n,r=te.Default,i){if(null!==t){if(1024&e[ye]){const o=function oG(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[ye]&&!(256&o[ye]);){const a=WA(s,o,n,r|te.Self,ii);if(a!==ii)return a;let u=s.parent;if(!u){const c=o[fA];if(c){const l=c.get(n,ii,r);if(l!==ii)return l}u=YA(o),o=o[ga]}s=u}return i}(t,e,n,r,ii);if(o!==ii)return o}const s=WA(t,e,n,r,ii);if(s!==ii)return s}return GA(e,n,r,i)}function WA(t,e,n,r,i){const s=function iG(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(pc)?t[pc]:void 0;return"number"==typeof e?e>=0?e&$A:sG:e}(n);if("function"==typeof s){if(!RA(e,t,r))return r&te.Host?zA(i,0,r):GA(e,n,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;gh()}finally{NA()}}else if("number"==typeof s){let o=null,a=HA(t,e),u=wa,c=r&te.Host?e[In][bn]:null;for((-1===a||r&te.SkipSelf)&&(u=-1===a?my(t,e):e[a+8],u!==wa&&QA(r,!1)?(o=e[V],a=Ph(u),e=kh(u,e)):a=-1);-1!==a;){const l=e[V];if(KA(s,a,l.data)){const d=rG(a,e,n,o,r,c);if(d!==ii)return d}u=e[a+8],u!==wa&&QA(r,e[V].data[a+8]===c)&&KA(s,a,e)?(o=l,a=Ph(u),e=kh(u,e)):a=-1}}return i}function rG(t,e,n,r,i,s){const o=e[V],a=o.data[t+8],l=function Fh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Lr(f)&&f.type===n)return u}return null}(a,o,n,null==r?_c(a)&&py:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==l?so(e,o,l,a):ii}function so(t,e,n,r){let i=t[n];const s=e.data;if(function Yz(t){return t instanceof wc}(i)){const o=i;o.resolving&&function XH(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}(s[n]));const a=Oh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Er(o.injectImpl):null;RA(t,r,te.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Kz(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=yA(e);(n.preOrderHooks??(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Er(u),Oh(a),o.resolving=!1,NA()}}return i}function KA(t,e,n){return!!(n[e+(t>>jA)]&1<<t)}function QA(t,e){return!(t&te.Self||t&te.Host&&e)}class ba{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qA(this._tNode,this._lView,e,vh(r),n)}}function sG(){return new ba(an(),T())}function un(t){return Si(()=>{const e=t.prototype.constructor,n=e[xi]||_y(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[xi]||_y(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function _y(t){return Gm(t)?()=>{const e=_y(ee(t));return e&&e()}:ro(t)}function YA(t){const e=t[V],n=e.type;return 2===n?e.declTNode:1===n?t[bn]:null}const Ca="__parameters__";function Da(t,e,n){return Si(()=>{const r=function vy(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ca)?u[Ca]:Object.defineProperty(u,Ca,{value:[]})[Ca];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class U{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oo(t,e){t.forEach(n=>Array.isArray(n)?oo(n,e):e(n))}function JA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dr(t,e,n){let r=Ta(t,e);return r>=0?t[1|r]=n:(r=~r,function lG(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function by(t,e){const n=Ta(t,e);if(n>=0)return t[1|n]}function Ta(t,e){return function ZA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ft=fc(Da("Optional"),8),Dc=fc(Da("SkipSelf"),4);var Qn=(()=>((Qn=Qn||{})[Qn.Important=1]="Important",Qn[Qn.DashCase=2]="DashCase",Qn))();const Sy=new Map;let PG=0;const xy="__ngContext__";function Cn(t,e){ur(e)?(t[xy]=e[yc],function OG(t){Sy.set(t[yc],t)}(e)):t[xy]=e}let My;function Ry(t,e){return My(t,e)}function xc(t){const e=t[ht];return Fr(e)?e[ht]:e}function Py(t){return vx(t[gc])}function ky(t){return vx(t[Nr])}function vx(t){for(;null!==t&&!Fr(t);)t=t[Nr];return t}function Aa(t,e,n,r,i){if(null!=r){let s,o=!1;Fr(r)?s=r:ur(r)&&(o=!0,r=r[Mi]);const a=on(r);0===t&&null!==n?null==i?Dx(e,n,a):ao(e,n,a,i||null,!0):1===t&&null!==n?ao(e,n,a,i||null,!0):2===t?function By(t,e,n){const r=jh(t,e);r&&function e3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function r3(t,e,n,r,i){const s=n[Eh];s!==on(n)&&Aa(e,t,r,s,i);for(let a=Pn;a<n.length;a++){const u=n[a];Mc(u[V],u,t,e,r,s)}}(e,t,s,n,i)}}function Ny(t,e,n){return t.createElement(e,n)}function bx(t,e){const n=t[ya],r=n.indexOf(e),i=e[ht];512&e[ye]&&(e[ye]&=-513,ry(i,-1)),n.splice(r,1)}function Fy(t,e){if(t.length<=Pn)return;const n=Pn+e,r=t[n];if(r){const i=r[mc];null!==i&&i!==t&&bx(i,r),e>0&&(t[n-1][Nr]=r[Nr]);const s=Vh(t,Pn+e);!function qG(t,e){Mc(t,e,e[ve],2,null,null),e[Mi]=null,e[bn]=null}(r[V],r);const o=s[ni];null!==o&&o.detachView(s[V]),r[ht]=null,r[Nr]=null,r[ye]&=-65}return r}function Ix(t,e){if(!(128&e[ye])){const n=e[ve];n.destroyNode&&Mc(t,e,n,3,null,null),function QG(t){let e=t[gc];if(!e)return Ly(t[V],t);for(;e;){let n=null;if(ur(e))n=e[gc];else{const r=e[Pn];r&&(n=r)}if(!n){for(;e&&!e[Nr]&&e!==t;)ur(e)&&Ly(e[V],e),e=e[ht];null===e&&(e=t),ur(e)&&Ly(e[V],e),n=e&&e[Nr]}e=n}}(e)}}function Ly(t,e){if(!(128&e[ye])){e[ye]&=-65,e[ye]|=128,function ZG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof wc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Tr(4,a,u);try{u.call(a)}finally{Tr(5,a,u)}}else{Tr(4,i,s);try{s.call(i)}finally{Tr(5,i,s)}}}}}(t,e),function JG(t,e){const n=t.cleanup,r=e[pa];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[pa]=null}}(t,e),1===e[V].type&&e[ve].destroy();const n=e[mc];if(null!==n&&Fr(e[ht])){n!==e[ht]&&bx(n,e);const r=e[ni];null!==r&&r.detachView(t)}!function NG(t){Sy.delete(t[yc])}(e)}}function Cx(t,e,n){return function Ex(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Mi];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===ei.None||s===ei.Emulated)return null}return cr(r,n)}}(t,e.parent,n)}function ao(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Dx(t,e,n){t.appendChild(e,n)}function Tx(t,e,n,r,i){null!==r?ao(t,e,n,r,i):Dx(t,e,n)}function jh(t,e){return t.parentNode(e)}let Vy,Hy,qh,xx=function Ax(t,e,n){return 40&t.type?cr(t,n):null};function Hh(t,e,n,r){const i=Cx(t,r,e),s=e[ve],a=function Sx(t,e,n){return xx(t,e,n)}(r.parent||e[bn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Tx(s,i,n[u],a,!1);else Tx(s,i,n,a,!1);void 0!==Vy&&Vy(s,r,e,n,i)}function zh(t,e){if(null!==e){const n=e.type;if(3&n)return cr(e,t);if(4&n)return Uy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return zh(t,r);{const i=t[e.index];return Fr(i)?Uy(-1,i):on(i)}}if(32&n)return Ry(e,t)()||on(t[e.index]);{const r=Rx(t,e);return null!==r?Array.isArray(r)?r[0]:zh(xc(t[In]),r):zh(t,e.next)}}return null}function Rx(t,e){return null!==e?t[In][bn].projection[e.projection]:null}function Uy(t,e){const n=Pn+t+1;if(n<e.length){const r=e[n],i=r[V].firstChild;if(null!==i)return zh(r,i)}return e[Eh]}function $y(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Cn(on(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)$y(t,e,n.child,r,i,s,!1),Aa(e,t,i,a,s);else if(32&u){const c=Ry(n,r);let l;for(;l=c();)Aa(e,t,i,l,s);Aa(e,t,i,a,s)}else 16&u?Px(t,e,r,n,i,s):Aa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mc(t,e,n,r,i,s){$y(n,r,t.firstChild,e,i,s,!1)}function Px(t,e,n,r,i,s){const o=n[In],u=o[bn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Aa(e,t,i,u[c],s);else $y(t,e,u,o[ht],i,s,!0)}function kx(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ox(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&fy(t,e,r),null!==i&&kx(t,e,i),null!==s&&function s3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function Vx(t){return function zy(){if(void 0===qh&&(qh=null,Ze.trustedTypes))try{qh=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qh}()?.createScriptURL(t)||t}class Ux{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tA})`}}function _s(t){return t instanceof Ux?t.changingThisBreaksApplicationSecurity:t}function Rc(t,e){const n=function g3(t){return t instanceof Ux&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tA})`)}return n===e}const v3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var kt=(()=>((kt=kt||{})[kt.NONE=0]="NONE",kt[kt.HTML=1]="HTML",kt[kt.STYLE=2]="STYLE",kt[kt.SCRIPT=3]="SCRIPT",kt[kt.URL=4]="URL",kt[kt.RESOURCE_URL=5]="RESOURCE_URL",kt))();function Oi(t){const e=kc();return e?e.sanitize(kt.URL,t)||"":Rc(t,"URL")?_s(t):function Gy(t){return(t=String(t)).match(v3)?t:"unsafe:"+t}(le(t))}function qx(t){const e=kc();if(e)return Vx(e.sanitize(kt.RESOURCE_URL,t)||"");if(Rc(t,"ResourceURL"))return Vx(_s(t));throw new x(904,!1)}function kc(){const t=T();return t&&t[Zm]}const Kh=new U("ENVIRONMENT_INITIALIZER"),Kx=new U("INJECTOR",-1),Qx=new U("INJECTOR_DEF_TYPES");class Yx{get(e,n=dc){if(n===dc){const r=new Error(`NullInjectorError: No provider for ${Ke(e)}!`);throw r.name="NullInjectorError",r}return n}}function k3(...t){return{\u0275providers:Xx(0,t),\u0275fromNgModule:!0}}function Xx(t,...e){const n=[],r=new Set;let i;return oo(e,s=>{const o=s;Qy(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Jx(i,n),n}function Jx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Yy(i,s=>{e.push(s)})}}function Qy(t,e,n,r){if(!(t=ee(t)))return!1;let i=null,s=rA(t);const o=!s&&Be(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=rA(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Qy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{oo(s.imports,l=>{Qy(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&Jx(c,e)}if(!a){const c=ro(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Le},{provide:Qx,useValue:i,multi:!0},{provide:Kh,useValue:()=>k(i),multi:!0})}const u=s.providers;null==u||a||Yy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Yy(t,e){for(let n of t)qm(n)&&(n=n.\u0275providers),Array.isArray(n)?Yy(n,e):e(n)}const O3=qe({provide:String,useValue:qe});function Xy(t){return null!==t&&"object"==typeof t&&O3 in t}function uo(t){return"function"==typeof t}const Jy=new U("Set Injector scope."),Qh={},F3={};let Zy;function Yh(){return void 0===Zy&&(Zy=new Yx),Zy}class si{}class tM extends si{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t_(e,o=>this.processProvider(o)),this.records.set(Kx,Ma(void 0,this)),i.has("environment")&&this.records.set(si,Ma(void 0,this));const s=this.records.get(Jy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Qx.multi,Le,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=ha(this),r=Er(void 0);try{return e()}finally{ha(n),Er(r)}}get(e,n=dc,r=te.Default){this.assertNotDestroyed(),r=vh(r);const i=ha(this),s=Er(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function $3(t){return"function"==typeof t||"object"==typeof t&&t instanceof U}(e)&&mh(e);a=u&&this.injectableDefInScope(u)?Ma(e_(e),Qh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?Yh():this.parent).get(e,n=r&te.Optional&&n===dc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[_h]=o[_h]||[]).unshift(Ke(e)),i)throw o;return function hz(t,e,n,r){const i=t[_h];throw e[oA]&&i.unshift(e[oA]),t.message=function fz(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==cz?t.slice(2):t;let i=Ke(e);if(Array.isArray(e))i=e.map(Ke).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ke(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uz,"\n  ")}`}("\n"+t.message,i,n,r),t[az]=i,t[_h]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Er(s),ha(i)}}resolveInjectorInitializers(){const e=ha(this),n=Er(void 0);try{const r=this.get(Kh.multi,Le,te.Self);for(const i of r)i()}finally{ha(e),Er(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ke(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=uo(e=ee(e))?e:ee(e&&e.provide);const r=function V3(t){return Xy(t)?Ma(void 0,t.useValue):Ma(nM(t),Qh)}(e);if(uo(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ma(void 0,Qh,!0),i.factory=()=>Ym(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Qh&&(n.value=F3,n.value=n.factory()),"object"==typeof n.value&&n.value&&function B3(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ee(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function e_(t){const e=mh(t),n=null!==e?e.factory:ro(t);if(null!==n)return n;if(t instanceof U)throw new x(204,!1);if(t instanceof Function)return function L3(t){const e=t.length;if(e>0)throw function Ec(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function rz(t){const e=t&&(t[yh]||t[iA]);return e?(function iz(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function nM(t,e,n){let r;if(uo(t)){const i=ee(t);return ro(i)||e_(i)}if(Xy(t))r=()=>ee(t.useValue);else if(function eM(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Ym(t.deps||[]));else if(function Zx(t){return!(!t||!t.useExisting)}(t))r=()=>k(ee(t.useExisting));else{const i=ee(t&&(t.useClass||t.provide));if(!function U3(t){return!!t.deps}(t))return ro(i)||e_(i);r=()=>new i(...Ym(t.deps))}return r}function Ma(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function t_(t,e){for(const n of t)Array.isArray(n)?t_(n,e):n&&qm(n)?t_(n.\u0275providers,e):e(n)}class j3{}class rM{}class z3{resolveComponentFactory(e){throw function H3(t){const e=Error(`No component factory found for ${Ke(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Ra=(()=>{class t{}return t.NULL=new z3,t})();function G3(){return Pa(an(),T())}function Pa(t,e){return new hr(cr(t,e))}let hr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=G3,t})();class sM{}let Ni=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function W3(){const t=T(),n=lr(an().index,t);return(ur(n)?n:t)[ve]}(),t})(),K3=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oM=new ka("15.2.6"),n_={},r_="ngOriginalError";function i_(t){return t[r_]}class Oa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&i_(e);for(;n&&i_(n);)n=i_(n);return n||null}}function Fi(t){return t instanceof Function?t():t}function uM(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const cM="ng-template";function sq(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==uM(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function lM(t){return 4===t.type&&t.value!==cM}function oq(t,e,n){return e===(4!==t.type||n?t.value:cM)}function aq(t,e,n){let r=4;const i=t.attrs||[],s=function lq(t){for(let e=0;e<t.length;e++)if(LA(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!oq(t,u,n)||""===u&&1===e.length){if(Vr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!sq(t.attrs,c,n)){if(Vr(r))return!1;o=!0}continue}const d=uq(8&r?"class":u,i,lM(t),n);if(-1===d){if(Vr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==uM(f,c,0)||2&r&&c!==h){if(Vr(r))return!1;o=!0}}}}else{if(!o&&!Vr(r)&&!Vr(u))return!1;if(o&&Vr(u))continue;o=!1,r=u|1&r}}return Vr(r)||o}function Vr(t){return 0==(1&t)}function uq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function dq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function dM(t,e,n=!1){for(let r=0;r<e.length;r++)if(aq(t,e[r],n))return!0;return!1}function hM(t,e){return t?":not("+e.trim()+")":e}function fq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Vr(o)&&(e+=hM(s,i),i=""),r=o,s=s||!Vr(r);n++}return""!==i&&(e+=hM(s,i)),e}const he={};function ne(t){fM(Re(),T(),On()+t,!1)}function fM(t,e,n,r){if(!r)if(3==(3&e[ye])){const s=t.preOrderCheckHooks;null!==s&&Mh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Rh(e,s,0,n)}io(n)}function yM(t,e=null,n=null,r){const i=_M(t,e,n,r);return i.resolveInjectorInitializers(),i}function _M(t,e=null,n=null,r,i=new Set){const s=[n||Le,k3(t)];return r=r||("object"==typeof t?void 0:Ke(t)),new tM(s,e||Yh(),r||null,i)}let cn=(()=>{class t{static create(n,r){if(Array.isArray(n))return yM({name:""},r,n,"");{const i=n.name??"";return yM({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=dc,t.NULL=new Yx,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>k(Kx)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=te.Default){const n=T();return null===n?k(t,e):qA(an(),n,ee(t),e)}function TM(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];uy(n[r]),o.contentQueries(2,e[s],s)}}}function Jh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Mi]=i,d[ye]=76|r,(null!==l||t&&1024&t[ye])&&(d[ye]|=1024),CA(d),d[ht]=d[ga]=t,d[It]=n,d[Ch]=o||t&&t[Ch],d[ve]=a||t&&t[ve],d[Zm]=u||t&&t[Zm]||null,d[Ih]=c||t&&t[Ih]||null,d[bn]=s,d[yc]=function kG(){return PG++}(),d[fA]=l,d[In]=2==e.type?t[In]:d,d}function La(t,e,n,r,i){let s=t.data[e];if(null===s)s=function c_(t,e,n,r,i){const s=TA(),o=iy(),u=t.data[e]=function Uq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Lz(){return de.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function vc(){const t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ri(s,!0),s}function Oc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function l_(t,e,n){cy(e);try{const r=t.viewQuery;null!==r&&w_(1,r,n);const i=t.template;null!==i&&SM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&TM(t,e),t.staticViewQueries&&w_(2,t.viewQuery,n);const s=t.components;null!==s&&function Fq(t,e){for(let n=0;n<e.length;n++)i4(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,ly()}}function Zh(t,e,n,r){const i=e[ye];if(128!=(128&i)){cy(e);try{CA(e),function AA(t){return de.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&SM(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Mh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Rh(e,c,0,null),dy(e,0)}if(function n4(t){for(let e=Py(t);null!==e;e=ky(e)){if(!e[pA])continue;const n=e[ya];for(let r=0;r<n.length;r++){const i=n[r];512&i[ye]||ry(i[ht],1),i[ye]|=512}}}(e),function t4(t){for(let e=Py(t);null!==e;e=ky(e))for(let n=Pn;n<e.length;n++){const r=e[n],i=r[V];Ah(r)&&Zh(i,r,i.template,r[It])}}(e),null!==t.contentQueries&&TM(t,e),o){const c=t.contentCheckHooks;null!==c&&Mh(e,c)}else{const c=t.contentHooks;null!==c&&Rh(e,c,1),dy(e,1)}!function Oq(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)io(~i);else{const s=i,o=n[++r],a=n[++r];Vz(o,s),a(2,e[s])}}}finally{io(-1)}}(t,e);const a=t.components;null!==a&&function Nq(t,e){for(let n=0;n<e.length;n++)r4(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&w_(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Mh(e,c)}else{const c=t.viewHooks;null!==c&&Rh(e,c,2),dy(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-41,512&e[ye]&&(e[ye]&=-513,ry(e[ht],-1))}finally{ly()}}}function SM(t,e,n,r,i){const s=On(),o=2&r;try{io(-1),o&&e.length>et&&fM(t,e,et,!1),Tr(o?2:0,i),n(r,i)}finally{io(s),Tr(o?3:1,i)}}function d_(t,e,n){if(ty(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function h_(t,e,n){DA()&&(function Gq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;_c(n)&&function Jq(t,e,n){const r=cr(e,t),i=AM(n),s=t[Ch],o=ef(t,Jh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Nh(n,e),Cn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=so(e,t,a,n);Cn(c,e),null!==o&&Zq(0,a-i,c,u,0,o),Lr(u)&&(lr(n.index,e)[It]=so(e,t,a,n))}}(t,e,n,cr(n,e)),64==(64&n.flags)&&OM(t,e,n))}function f_(t,e,n=cr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function AM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=p_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function p_(t,e,n,r,i,s,o,a,u,c){const l=et+r,d=l+i,h=function Lq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:he);return n}(l,d),f="function"==typeof c?c():c;return h[V]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function MM(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?RM(n,e,i,s):r.hasOwnProperty(i)&&RM(n,e,r[i],s)}return n}function RM(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fr(t,e,n,r,i,s,o,a){const u=cr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(b_(t,n,l,r,i),_c(e)&&PM(n,e.index)):3&e.type&&(r=function $q(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function PM(t,e){const n=lr(e,t);16&n[ye]||(n[ye]|=32)}function g_(t,e,n,r){if(DA()){const i=null===r?null:{"":-1},s=function Wq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(dM(e,o.selectors,!1))if(r||(r=[]),Lr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),m_(t,e,a.length)}else r.unshift(o),m_(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&kM(t,e,n,o,i,a),i&&function Kq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=bc(n.mergedAttrs,n.attrs)}function kM(t,e,n,r,i,s){for(let c=0;c<r.length;c++)yy(Nh(n,e),t,r[c].type);!function Yq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Oc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=bc(n.mergedAttrs,l.hostAttrs),Xq(t,n,e,u,l),Qq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function Bq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=MM(d.inputs,l,u,h?h.inputs:null),c=MM(d.outputs,l,c,p);const m=null===u||null===o||lM(e)?null:e4(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function OM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Uz(){return de.lFrame.currentDirectiveIndex}();try{io(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];oy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&qq(u,c)}}finally{io(-1),oy(o)}}function qq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function m_(t,e,n){e.componentOffset=n,(t.components??(t.components=[])).push(e.index)}function Qq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lr(e)&&(n[""]=t)}}function Xq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ro(i.type)),o=new wc(s,Lr(i),D);t.blueprint[r]=o,n[r]=o,function Hq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function zq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Oc(t,n,i.hostVars,he),i)}function oi(t,e,n,r,i,s){const o=cr(t,e);!function y_(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?le(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ve],o,s,t.value,n,r,i)}function Zq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function e4(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function NM(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function r4(t,e){const n=lr(e,t);if(Ah(n)){const r=n[V];48&n[ye]?Zh(r,n,r.template,n[It]):n[no]>0&&__(n)}}function __(t){for(let r=Py(t);null!==r;r=ky(r))for(let i=Pn;i<r.length;i++){const s=r[i];if(Ah(s))if(512&s[ye]){const o=s[V];Zh(o,s,o.template,s[It])}else s[no]>0&&__(s)}const n=t[V].components;if(null!==n)for(let r=0;r<n.length;r++){const i=lr(n[r],t);Ah(i)&&i[no]>0&&__(i)}}function i4(t,e){const n=lr(e,t),r=n[V];(function s4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),l_(r,n,n[It])}function ef(t,e){return t[gc]?t[hA][Nr]=e:t[gc]=e,t[hA]=e,e}function v_(t){for(;t;){t[ye]|=32;const e=xc(t);if(vz(t)&&!e)return t;t=e}return null}function tf(t,e,n,r=!0){const i=e[Ch];i.begin&&i.begin();try{Zh(t,e,t.template,n)}catch(o){throw r&&UM(e,o),o}finally{i.end&&i.end()}}function w_(t,e,n){uy(0),e(t,n)}function FM(t){return t[pa]||(t[pa]=[])}function LM(t){return t.cleanup||(t.cleanup=[])}function UM(t,e){const n=t[Ih],r=n?n.get(Oa,null):null;r&&r.handleError(e)}function b_(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function nf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=zm(i,a):2==s&&(r=zm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function rf(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(on(s)),Fr(s))for(let a=Pn;a<s.length;a++){const u=s[a],c=u[V].firstChild;null!==c&&rf(u[V],u,c,r)}const o=n.type;if(8&o)rf(t,e,n.child,r);else if(32&o){const a=Ry(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Rx(e,n);if(Array.isArray(a))r.push(...a);else{const u=xc(e[In]);rf(u[V],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Nc{get rootNodes(){const e=this._lView,n=e[V];return rf(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[It]}set context(e){this._lView[It]=e}get destroyed(){return 128==(128&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ht];if(Fr(e)){const n=e[Dh],r=n?n.indexOf(this):-1;r>-1&&(Fy(e,r),Vh(n,r))}this._attachedToViewContainer=!1}Ix(this._lView[V],this._lView)}onDestroy(e){!function xM(t,e,n,r){const i=FM(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&LM(t).push(r,i.length-1))}(this._lView[V],this._lView,null,e)}markForCheck(){v_(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-65}reattach(){this._lView[ye]|=64}detectChanges(){tf(this._lView[V],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KG(t,e){Mc(t,e,e[ve],2,null,null)}(this._lView[V],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class o4 extends Nc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;tf(e[V],e,e[It],!1)}checkNoChanges(){}get context(){return null}}class BM extends Ra{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Be(e);return new Fc(n,this.ngModule)}}function $M(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class u4{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vh(r);const i=this.injector.get(e,n_,r);return i!==n_||n===n_?i:this.parentInjector.get(e,n,r)}}class Fc extends rM{get inputs(){return $M(this.componentDef.inputs)}get outputs(){return $M(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function pq(t){return t.map(fq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof si?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new u4(e,s):e,a=o.get(sM,null);if(null===a)throw new x(407,!1);const u=o.get(K3,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function Vq(t,e,n){return t.selectRootElement(e,n===ei.ShadowDom)}(c,r,this.componentDef.encapsulation):Ny(c,l,function a4(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=p_(0,null,null,1,0,null,null,null,null,null),p=Jh(null,f,null,h,null,null,a,c,u,o,null);let m,y;cy(p);try{const _=this.componentDef;let C,v=null;_.findHostDirectiveDefs?(C=[],v=new Map,_.findHostDirectiveDefs(_,C,v),C.push(_)):C=[_];const M=function l4(t,e){const n=t[V],r=et;return t[r]=e,La(n,r,2,"#host",null)}(p,d),q=function d4(t,e,n,r,i,s,o,a){const u=i[V];!function h4(t,e,n,r){for(const i of t)e.mergedAttrs=bc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(nf(e,e.mergedAttrs,!0),null!==n&&Ox(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Jh(i,AM(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&m_(u,t,r.length-1),ef(i,l),i[t.index]=l}(M,d,_,C,p,a,c);y=IA(f,et),d&&function p4(t,e,n,r){if(r)fy(t,n,["ng-version",oM.full]);else{const{attrs:i,classes:s}=function gq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Vr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&fy(t,n,i),s&&s.length>0&&kx(t,n,s.join(" "))}}(c,_,d,r),void 0!==n&&function g4(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function f4(t,e,n,r,i,s){const o=an(),a=i[V],u=cr(o,i);kM(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Cn(so(i,a,o.directiveStart+l,o),i);OM(a,i,o),u&&Cn(u,i);const c=so(i,a,o.directiveStart+o.componentOffset,o);if(t[It]=i[It]=c,null!==s)for(const l of s)l(c,e);return d_(a,o,t),c}(q,_,C,v,p,[m4]),l_(f,p,null)}finally{ly()}return new c4(this.componentType,m,Pa(y,p),p,y)}}class c4 extends j3{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new o4(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;b_(s[V],s,i,e,n),PM(s,this._tNode.index)}}get injector(){return new ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function m4(){const t=an();xh(T()[V],t)}function $e(t){let e=function jM(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Lr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=I_(t.inputs),o.declaredInputs=I_(t.declaredInputs),o.outputs=I_(t.outputs);const a=i.hostBindings;a&&w4(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&_4(t,u),c&&v4(t,c),Hm(t.inputs,i.inputs),Hm(t.declaredInputs,i.declaredInputs),Hm(t.outputs,i.outputs),Lr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===$e&&(n=!1)}}e=Object.getPrototypeOf(e)}!function y4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=bc(i.hostAttrs,n=bc(n,i.hostAttrs))}}(r)}function I_(t){return t===Ai?{}:t===Le?[]:t}function _4(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function v4(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function w4(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function sf(t){return!!function C_(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function En(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ui(t,e,n,r){const i=T();return En(i,va(),e)&&(Re(),oi(at(),i,t,e,n,r)),ui}function Ua(t,e,n,r){return En(t,va(),n)?e+le(n)+r:he}function Ur(t,e,n,r,i,s,o,a){const u=T(),c=Re(),l=t+et,d=c.firstCreatePass?function M4(t,e,n,r,i,s,o,a,u){const c=e.consts,l=La(e,t,4,o||null,ys(c,a));g_(e,n,l,ys(c,u)),xh(e,l);const d=l.tView=p_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ri(d,!1);const h=u[ve].createComment("");Hh(c,u,h,d),Cn(h,u),ef(u,u[l]=NM(h,u,h,d)),Th(d)&&h_(c,u,d),null!=o&&f_(u,d,a)}function re(t,e,n){const r=T();return En(r,va(),e)&&fr(Re(),at(),r,t,e,r[ve],n,!1),re}function E_(t,e,n,r,i){const o=i?"class":"style";b_(t,n,e.inputs[o],o,r)}function I(t,e,n,r){const i=T(),s=Re(),o=et+t,a=i[ve],u=s.firstCreatePass?function k4(t,e,n,r,i,s){const o=e.consts,u=La(e,t,2,r,ys(o,i));return g_(e,n,u,ys(o,s)),null!==u.attrs&&nf(u,u.attrs,!1),null!==u.mergedAttrs&&nf(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=i[o]=Ny(a,e,function Wz(){return de.lFrame.currentNamespace}()),l=Th(u);return ri(u,!0),Ox(a,c,u),32!=(32&u.flags)&&Hh(s,i,c,u),0===function Rz(){return de.lFrame.elementDepthCount}()&&Cn(c,i),function Pz(){de.lFrame.elementDepthCount++}(),l&&(h_(s,i,u),d_(s,u,i)),null!==r&&f_(i,u),I}function E(){let t=an();iy()?function sy(){de.lFrame.isParent=!1}():(t=t.parent,ri(t,!1));const e=t;!function kz(){de.lFrame.elementDepthCount--}();const n=Re();return n.firstCreatePass&&(xh(n,t),ty(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Xz(t){return 0!=(8&t.flags)}(e)&&E_(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Jz(t){return 0!=(16&t.flags)}(e)&&E_(n,e,T(),e.stylesWithoutHost,!1),E}function F(t,e,n,r){return I(t,e,n,r),E(),F}function lo(){return T()}function Vc(t){return!!t&&"function"==typeof t.then}const S_=function nR(t){return!!t&&"function"==typeof t.subscribe};function X(t,e,n,r){const i=T(),s=Re(),o=an();return function iR(t,e,n,r,i,s,o){const a=Th(r),c=t.firstCreatePass&&LM(t),l=e[It],d=FM(e);let h=!0;if(3&r.type||o){const m=cr(r,e),y=o?o(m):m,_=d.length,C=o?M=>o(on(M[r.index])):r.index;let v=null;if(!o&&a&&(v=function N4(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[pa],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=oR(r,e,l,s,!1);const M=n.listen(y,i,s);d.push(s,M),c&&c.push(i,C,_,_+1)}}else s=oR(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const q=e[p[y]][p[y+1]].subscribe(s),K=d.length;d.push(s,q),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[ve],o,t,e,r),X}function sR(t,e,n,r){try{return Tr(6,e,n),!1!==n(r)}catch(i){return UM(t,i),!1}finally{Tr(7,e,n)}}function oR(t,e,n,r,i){return function s(o){if(o===Function)return r;v_(t.componentOffset>-1?lr(t.index,e):e);let u=sR(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=sR(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function we(t=1){return function $z(t){return(de.lFrame.contextLView=function jz(t,e){for(;t>0;)e=e[ga],t--;return e}(t,de.lFrame.contextLView))[It]}(t)}function A_(t,e,n){return x_(t,"",e,"",n),A_}function x_(t,e,n,r,i){const s=T(),o=Ua(s,e,n,r);return o!==he&&fr(Re(),at(),s,t,o,s[ve],i,!1),x_}function uf(t,e){return t<<17|e<<2}function vs(t){return t>>17&32767}function M_(t){return 2|t}function ho(t){return(131068&t)>>2}function R_(t,e){return-131069&t|e<<2}function P_(t){return 1|t}function gR(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vs(s):ho(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];z4(t[a],e)&&(u=!0,t[a+1]=r?P_(l):M_(l)),a=r?vs(l):ho(l)}u&&(t[n+1]=r?M_(s):P_(s))}function z4(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ta(t,e)>=0}function cf(t,e){return function Br(t,e,n,r){const i=T(),s=Re(),o=function Pi(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function ER(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[On()],o=function CR(t,e){return e>=t.expandoStartIndex}(t,n);(function AR(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Z4(t,e,n,r){const i=function ay(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Uc(n=k_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=k_(i,t,e,n,r),null===s){let u=function eW(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ho(r))return t[vs(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=k_(null,t,e,u[1],r),u=Uc(u,e.attrs,r),function tW(t,e,n,r){t[vs(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function nW(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Uc(r,t[s].hostAttrs,n);return Uc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function j4(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vs(o),u=ho(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Ta(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=vs(t[a+1]);t[r+1]=uf(h,a),0!==h&&(t[h+1]=R_(t[h+1],r)),t[a+1]=function B4(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=uf(a,0),0!==a&&(t[a+1]=R_(t[a+1],r)),a=r;else t[r+1]=uf(u,0),0===a?a=r:t[u+1]=R_(t[u+1],r),u=r;c&&(t[r+1]=M_(t[r+1])),gR(t,l,r,!0),gR(t,l,r,!1),function H4(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Ta(s,e)>=0&&(n[r+1]=P_(n[r+1]))}(e,l,t,r,s),o=uf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==he&&En(i,o,e)&&function TR(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function $4(t){return 1==(1&t)}(c)?SR(u,e,n,i,ho(c),o):void 0;lf(l)||(lf(s)||function U4(t){return 2==(2&t)}(c)&&(s=SR(u,null,n,i,a,o)),function i3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Qn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qn.Important),t.setStyle(n,r,i,s))}}(r,o,Sh(On(),n),i,s))}(s,s.data[On()],i,i[ve],t,i[o+1]=function sW(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ke(_s(t)))),t}(e,n),r,o)}(t,e,null,!0),cf}function k_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Uc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Uc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dr(t,o,!!n||e[++s]))}return void 0===t?null:t}function SR(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===he&&(h=d?Le:void 0);let f=d?by(h,r):l===r?h:void 0;if(c&&!lf(f)&&(f=by(u,r)),lf(f)&&(a=f,o))return a;const p=t[i+1];i=o?vs(p):ho(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=by(u,r))}return a}function lf(t){return void 0!==t}function R(t,e=""){const n=T(),r=Re(),i=t+et,s=r.firstCreatePass?La(r,i,1,e,null):r.data[i],o=n[i]=function Oy(t,e){return t.createText(e)}(n[ve],e);Hh(r,n,o,s),ri(s,!1)}function df(t){return Ka("",t,""),df}function Ka(t,e,n){const r=T(),i=Ua(r,t,e,n);return i!==he&&function Li(t,e,n){const r=Sh(e,t);!function wx(t,e,n){t.setValue(e,n)}(t[ve],r,n)}(r,On(),i),Ka}const Ya="en-US";let YR=Ya;function F_(t,e,n,r,i){if(t=ee(t),Array.isArray(t))for(let s=0;s<t.length;s++)F_(t[s],e,n,r,i);else{const s=Re(),o=T();let a=uo(t)?t:ee(t.provide),u=nM(t);const c=an(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(uo(t)||!t.multi){const f=new wc(u,i,D),p=V_(a,e,i?l:l+h,d);-1===p?(yy(Nh(c,o),s,a),L_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=V_(a,e,l+h,d),p=V_(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){yy(Nh(c,o),s,a);const _=function C8(t,e,n,r,i){const s=new wc(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,b1(s,i,r&&!n),s}(i?I8:b8,n.length,i,r,u);!i&&y&&(n[p].providerFactory=_),L_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(_),o.push(_)}else L_(s,t,f>-1?f:p,b1(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function L_(t,e,n,r){const i=uo(e),s=function N3(t){return!!t.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function b1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function V_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function b8(t,e,n,r){return U_(this.multi,[])}function I8(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=so(n,n[V],this.providerFactory.index,r);s=a.slice(0,o),U_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],U_(i,s);return s}function U_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function it(t,e=[]){return n=>{n.providersResolver=(r,i)=>function w8(t,e,n){const r=Re();if(r.firstCreatePass){const i=Lr(t);F_(n,r.data,r.blueprint,i,!0),F_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Xa{}class I1{}class C1 extends Xa{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BM(this);const r=ar(e);this._bootstrapComponents=Fi(r.bootstrap),this._r3Injector=_M(e,n,[{provide:Xa,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],Ke(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class B_ extends I1{constructor(e){super(),this.moduleType=e}create(e){return new C1(this.moduleType,e)}}class D8 extends Xa{constructor(e,n,r){super(),this.componentFactoryResolver=new BM(this),this.instance=null;const i=new tM([...e,{provide:Xa,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],n||Yh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mf(t,e,n=null){return new D8(t,e,n).injector}let T8=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Xx(0,n.type),i=r.length>0?mf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(k(si))}),t})();function E1(t){t.getStandaloneInjector=e=>e.get(T8).getOrCreateStandaloneInjector(t)}function Vi(t,e,n){const r=function kn(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=T();return i[r]===he?function ai(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function Lc(t,e){return t[e]}(i,r)}function j_(t){return e=>{setTimeout(t,void 0,e)}}const gt=class X8 extends Xr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=j_(s),i&&(i=j_(i)),o&&(o=j_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Q&&e.add(a),a}};let Ui=(()=>{class t{}return t.__NG_ELEMENT_ID__=t5,t})();const Z8=Ui,e5=class extends Z8{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=Jh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[mc]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ni];return null!==o&&(i[ni]=o.createEmbeddedView(r)),l_(r,i,e),new Nc(i)}};function t5(){return function yf(t,e){return 4&t.type?new e5(e,t,Pa(t,e)):null}(an(),T())}let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=n5,t})();function n5(){return function V1(t,e){let n;const r=e[t.index];if(Fr(r))n=r;else{let i;if(8&t.type)i=on(r);else{const s=e[ve];i=s.createComment("");const o=cr(t,e);ao(s,jh(s,o),i,function t3(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=NM(r,e,i,t),ef(e,n)}return new F1(n,t,e)}(an(),T())}const r5=jr,F1=class extends r5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pa(this._hostTNode,this._hostLView)}get injector(){return new ba(this._hostTNode,this._hostLView)}get parentInjector(){const e=my(this._hostTNode,this._hostLView);if(BA(e)){const n=kh(e,this._hostLView),r=Ph(e);return new ba(n[V].data[r+8],n)}return new ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=L1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Cc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Fc(Be(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(si,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[V];if(function Mz(t){return Fr(t[ht])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[ht],h=new F1(d,d[bn],d[ht]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function YG(t,e,n,r){const i=Pn+r,s=n.length;r>0&&(n[i-1][Nr]=e),r<s-Pn?(e[Nr]=n[i],JA(n,Pn+r,e)):(n.push(e),e[Nr]=null),e[ht]=n;const o=e[mc];null!==o&&n!==o&&function XG(t,e){const n=t[ya];e[In]!==e[ht][ht][In]&&(t[pA]=!0),null===n?t[ya]=[e]:n.push(e)}(o,e);const a=e[ni];null!==a&&a.insertView(t),e[ye]|=64}(i,r,o,s);const a=Uy(s,o),u=r[ve],c=jh(u,o[Eh]);return null!==c&&function WG(t,e,n,r,i,s){r[Mi]=i,r[bn]=e,Mc(t,r,n,1,i,s)}(i,o[bn],u,r,c,a),e.attachToViewContainerRef(),JA(z_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=L1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Fy(this._lContainer,n);r&&(Vh(z_(this._lContainer),n),Ix(r[V],r))}detach(e){const n=this._adjustIndex(e,-1),r=Fy(this._lContainer,n);return r&&null!=Vh(z_(this._lContainer),n)?new Nc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function L1(t){return t[Dh]}function z_(t){return t[Dh]||(t[Dh]=[])}function vf(...t){}const Kc=new U("Application Initializer");let wf=(()=>{class t{constructor(n){this.appInits=n,this.resolve=vf,this.reject=vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Vc(s))n.push(s);else if(S_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(k(Kc,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qc=new U("AppId",{providedIn:"root",factory:function lP(){return`${tv()}${tv()}${tv()}`}});function tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dP=new U("Platform Initializer"),Yc=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let R5=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Bi=new U("LocaleId",{providedIn:"root",factory:()=>ge(Bi,te.Optional|te.SkipSelf)||function P5(){return typeof $localize<"u"&&$localize.locale||Ya}()});class O5{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let hP=(()=>{class t{compileModuleSync(n){return new B_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Fi(ar(n).declarations).reduce((o,a)=>{const u=Be(a);return u&&o.push(new Fc(u)),o},[]);return new O5(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L5=(()=>Promise.resolve(0))();function nv(t){typeof Zone>"u"?L5.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function V5(){let t=Ze.requestAnimationFrame,e=Ze.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $5(t){const e=()=>{!function B5(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ze,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,iv(t),t.isCheckStableRunning=!0,rv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),iv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return gP(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),mP(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return gP(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),mP(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,iv(t),rv(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(je.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U5,vf,vf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const U5={};function rv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function iv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gP(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mP(t){t._nesting--,rv(t)}class j5{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const yP=new U(""),bf=new U("");let av,sv=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,av||(function H5(t){av=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),nv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nv(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(k(je),k(ov),k(bf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),ov=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return av?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const $i=!1;let ws=null;const _P=new U("AllowMultipleToken"),uv=new U("PlatformDestroyListeners"),vP=new U("appBootstrapListener");class wP{constructor(e,n){this.name=e,this.token=n}}function IP(t,e,n=[]){const r=`Platform: ${e}`,i=new U(r);return(s=[])=>{let o=cv();if(!o||o.injector.get(_P,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function q5(t){if(ws&&!ws.get(_P,!1))throw new x(400,!1);ws=t;const e=t.get(EP);(function bP(t){const e=t.get(dP,null);e&&e.forEach(n=>n())})(t)}(function CP(t=[],e){return cn.create({name:e,providers:[{provide:Jy,useValue:"platform"},{provide:uv,useValue:new Set([()=>ws=null])},...t]})}(a,r))}return function K5(t){const e=cv();if(!e)throw new x(401,!1);return e}()}}function cv(){return ws?.get(EP)??null}let EP=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function TP(t,e){let n;return n="noop"===t?new j5:("zone.js"===t?void 0:t)||new je(e),n}(r?.ngZone,function DP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:je,useValue:i}];return i.run(()=>{const o=cn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(Oa,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Cf(this._modules,a),c.unsubscribe()})}),function SP(t,e,n){try{const r=n();return Vc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(wf);return c.runInitializers(),c.donePromise.then(()=>(function XR(t){Cr(t,"Expected localeId to be defined"),"string"==typeof t&&(YR=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Bi,Ya)||Ya),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=AP({},r);return function z5(t,e,n){const r=new B_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(If);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new x(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(uv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(k(cn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function AP(t,e){return Array.isArray(e)?e.reduce(AP,t):{...t,...e}}let If=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Je(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),nv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function KH(...t){const e=lc(t),n=function $H(t,e){return"number"==typeof $m(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Ir(r[0]):da(n)(Pt(r,e)):Jr}(s,o.pipe(function QH(t={}){const{connector:e=(()=>new Xr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return bt((m,y)=>{c++,!d&&!l&&h();const _=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=jm(p,i))}),_.subscribe(y),!o&&c>0&&(o=new Di({next:C=>_.next(C),error:C=>{d=!0,h(),a=jm(f,n,C),_.error(C)},complete:()=>{l=!0,h(),a=jm(f,r),_.complete()}}),Ir(m).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof rM;if(!this._injector.get(wf).done){!i&&function fa(t){const e=Be(t)||wn(t)||Kn(t);return null!==e&&e.standalone}(n);throw new x(405,$i)}let o;o=i?n:this._injector.get(Ra).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function G5(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Xa),c=o.create(cn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(yP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Cf(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(vP,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(k(je),k(si),k(Oa))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Cf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Ef=(()=>{class t{}return t.__NG_ELEMENT_ID__=Y5,t})();function Y5(t){return function X5(t,e,n){if(_c(t)&&!n){const r=lr(t.index,e);return new Nc(r,r)}return 47&t.type?new Nc(e[In],e):null}(an(),T(),16==(16&t))}class kP{constructor(){}supports(e){return sf(e)}create(e){return new r6(e)}}const n6=(t,e)=>e;class r6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<NP(r,i,s)?n:r,a=NP(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!sf(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function S4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new i6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new OP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class i6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class s6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class OP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new s6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NP(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function LP(){return new Sf([new kP])}let Sf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||LP()),deps:[[t,new Dc,new ft]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t.\u0275prov=j({token:t,providedIn:"root",factory:LP}),t})();const l6=IP(null,"core",[]);let d6=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(k(If))},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({}),t})();function eu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let pv=null;function ji(){return pv}class p6{}const Ln=new U("DocumentToken");let gv=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return function g6(){return k(UP)}()},providedIn:"platform"}),t})();const m6=new U("Location Initialized");let UP=(()=>{class t extends gv{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ji().getBaseHref(this._doc)}onPopState(n){const r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){BP()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){BP()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(k(Ln))},t.\u0275prov=j({token:t,factory:function(){return function y6(){return new UP(k(Ln))}()},providedIn:"platform"}),t})();function BP(){return!!window.history.pushState}function mv(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function $P(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hi(t){return t&&"?"!==t[0]?"?"+t:t}let go=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return ge(HP)},providedIn:"root"}),t})();const jP=new U("appBaseHref");let HP=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ge(Ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return mv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Hi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(k(gv),k(jP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_6=(()=>{class t extends go{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=mv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Hi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(k(gv),k(jP,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),yv=(()=>{class t{constructor(n){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function b6(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}($P(zP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hi(r))}normalize(n){return t.stripTrailingSlash(function w6(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,zP(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Hi,t.joinWithSlash=mv,t.stripTrailingSlash=$P,t.\u0275fac=function(n){return new(n||t)(k(go))},t.\u0275prov=j({token:t,factory:function(){return function v6(){return new yv(k(go))}()},providedIn:"root"}),t})();function zP(t){return t.replace(/\/index.html$/,"")}function ZP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class o7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new o7(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ik(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ik(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(jr),D(Ui),D(Sf))},t.\u0275dir=ae({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function ik(t,e){t.context.$implicit=e.item}let el=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new u7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(jr),D(Ui))},t.\u0275dir=ae({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class u7{constructor(){this.$implicit=null,this.ngIf=null}}function sk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ke(e)}'.`)}let k7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({}),t})();let L7=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new V7(k(Ln),window)}),t})();class V7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function U7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ck(this.window.history)||ck(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ck(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class lk{}class hK extends p6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ov extends hK{static makeCurrent(){!function f6(t){pv||(pv=t)}(new Ov)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function fK(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}();return null==n?null:function pK(t){Uf=Uf||document.createElement("a"),Uf.setAttribute("href",t);const e=Uf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZP(document.cookie,e)}}let Uf,nl=null;const gk=new U("TRANSITION_ID"),mK=[{provide:Kc,useFactory:function gK(t,e,n){return()=>{n.get(wf).donePromise.then(()=>{const r=ji(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[gk,Ln,cn],multi:!0}];let _K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Bf=new U("EventManagerPlugins");let $f=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(k(Bf),k(je))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class mk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=ji().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let yk=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let s=i.get(n)??0;return s+=r,s>0?i.set(n,s):i.delete(n),s}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),rl=(()=>{class t extends yk{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(k(Ln))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Nv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fv=/%COMP%/g,wk=new U("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bk(t,e){return e.flat(100).map(n=>n.replace(Fv,t))}function Ik(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lv=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Vv(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof Dk?i.applyToHost(n):i instanceof Uv&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,u=this.removeStylesOnCompDestory;switch(r.encapsulation){case ei.Emulated:s=new Dk(o,a,r,this.appId,u);break;case ei.ShadowDom:return new DK(o,a,n,r);default:s=new Uv(o,a,r,u)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(k($f),k(rl),k(Qc),k(wk))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class Vv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Nv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(Ek(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ek(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Nv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Nv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ik(r)):this.eventManager.addEventListener(e,n,Ik(r))}}function Ek(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class DK extends Vv{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=bk(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Uv extends Vv{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=bk(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Dk extends Uv{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function IK(t){return"_ngcontent-%COMP%".replace(Fv,t)}(o),this.hostAttr=function CK(t){return"_nghost-%COMP%".replace(Fv,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let TK=(()=>{class t extends mk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(k(Ln))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Tk=["alt","control","meta","shift"],SK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let xK=(()=>{class t extends mk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ji().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Tk.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=SK[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tk.forEach(o=>{o!==i&&(0,AK[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(k(Ln))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Ak=[{provide:Yc,useValue:"browser"},{provide:dP,useValue:function MK(){Ov.makeCurrent()},multi:!0},{provide:Ln,useFactory:function PK(){return function c3(t){Hy=t}(document),document},deps:[]}],kK=IP(l6,"browser",Ak),xk=new U(""),Mk=[{provide:bf,useClass:class yK{addToWindow(e){Ze.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Ze.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ze.getAllAngularRootElements=()=>e.getAllRootElements(),Ze.frameworkStabilizers||(Ze.frameworkStabilizers=[]),Ze.frameworkStabilizers.push(r=>{const i=Ze.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ji().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:yP,useClass:sv,deps:[je,ov,bf]},{provide:sv,useClass:sv,deps:[je,ov,bf]}],Rk=[{provide:Jy,useValue:"root"},{provide:Oa,useFactory:function RK(){return new Oa},deps:[]},{provide:Bf,useClass:TK,multi:!0,deps:[Ln,je,Yc]},{provide:Bf,useClass:xK,multi:!0,deps:[Ln]},{provide:Lv,useClass:Lv,deps:[$f,rl,Qc,wk]},{provide:sM,useExisting:Lv},{provide:yk,useExisting:rl},{provide:rl,useClass:rl,deps:[Ln]},{provide:$f,useClass:$f,deps:[Bf,je]},{provide:lk,useClass:_K,deps:[]},[]];let OK=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Qc,useValue:n.appId},{provide:gk,useExisting:Qc},mK]}}}return t.\u0275fac=function(n){return new(n||t)(k(xk,12))},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[...Rk,...Mk],imports:[k7,d6]}),t})(),$v=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(k(Ln))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function FK(){return new $v(k(Ln))}(),r},providedIn:"root"}),t})();function Y(...t){return Pt(t,lc(t))}function Is(t,e){return B(e)?Kt(t,e,1):Kt(t,1)}function qr(t,e){return bt((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}typeof window<"u"&&window;class jf{}class Hv{}class pr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new pr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof pr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class jK{encodeKey(e){return Ok(e)}encodeValue(e){return Ok(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const zK=/%(\d[a-f0-9])/gi,GK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ok(t){return encodeURIComponent(t).replace(zK,(e,n)=>GK[n]??e)}function Hf(t){return`${t}`}class Cs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new jK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HK(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Hf):[Hf(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Cs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Hf(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Hf(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qK{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Nk(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Fk(t){return typeof Blob<"u"&&t instanceof Blob}function Lk(t){return typeof FormData<"u"&&t instanceof FormData}class il{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function WK(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new pr),this.context||(this.context=new qK),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Cs,this.urlWithParams=n}serializeBody(){return null===this.body?null:Nk(this.body)||Fk(this.body)||Lk(this.body)||function KK(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lk(this.body)?null:Fk(this.body)?this.body.type||null:Nk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new il(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Ft=(()=>((Ft=Ft||{})[Ft.Sent=0]="Sent",Ft[Ft.UploadProgress=1]="UploadProgress",Ft[Ft.ResponseHeader=2]="ResponseHeader",Ft[Ft.DownloadProgress=3]="DownloadProgress",Ft[Ft.Response=4]="Response",Ft[Ft.User=5]="User",Ft))();class zv{constructor(e,n=200,r="OK"){this.headers=e.headers||new pr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Gv extends zv{constructor(e={}){super(e),this.type=Ft.ResponseHeader}clone(e={}){return new Gv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zf extends zv{constructor(e={}){super(e),this.type=Ft.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vk extends zv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Wv=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof il)s=n;else{let u,c;u=i.headers instanceof pr?i.headers:new pr(i.headers),i.params&&(c=i.params instanceof Cs?i.params:new Cs({fromObject:i.params})),s=new il(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=Y(s).pipe(Is(u=>this.handler.handle(u)));if(n instanceof il||"events"===i.observe)return o;const a=o.pipe(qr(u=>u instanceof zf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Cs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,qv(i,r))}post(n,r,i={}){return this.request("POST",n,qv(i,r))}put(n,r,i={}){return this.request("PUT",n,qv(i,r))}}return t.\u0275fac=function(n){return new(n||t)(k(jf))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Uk(t,e){return e(t)}function QK(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const XK=new U("HTTP_INTERCEPTORS"),sl=new U("HTTP_INTERCEPTOR_FNS");function JK(){let t=null;return(e,n)=>(null===t&&(t=(ge(XK,{optional:!0})??[]).reduceRight(QK,Uk)),t(e,n))}let Bk=(()=>{class t extends jf{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(sl)));this.chain=r.reduceRight((i,s)=>function YK(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(i,s,this.injector),Uk)}return this.chain(n,r=>this.backend.handle(r))}}return t.\u0275fac=function(n){return new(n||t)(k(Hv),k(si))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const n9=/^\)\]\}',?\n/;let jk=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Je(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new pr(i.getAllResponseHeaders()),m=function r9(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new Gv({headers:p,status:i.status,statusText:f,url:m}),o},u=()=>{let{headers:f,status:p,statusText:m,url:y}=a(),_=null;204!==p&&(_=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=_?200:0);let C=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof _){const v=_;_=_.replace(n9,"");try{_=""!==_?JSON.parse(_):null}catch(M){_=v,C&&(C=!1,_={error:M,text:_})}}C?(r.next(new zf({body:_,headers:f,status:p,statusText:m,url:y||void 0})),r.complete()):r.error(new Vk({error:_,headers:f,status:p,statusText:m,url:y||void 0}))},c=f=>{const{url:p}=a(),m=new Vk({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:Ft.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Ft.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Ft.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(k(lk))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const Kv=new U("XSRF_ENABLED"),Hk=new U("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),zk=new U("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gk{}let o9=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZP(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(k(Ln),k(Yc),k(Hk))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function a9(t,e){const n=t.url.toLowerCase();if(!ge(Kv)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=ge(Gk).getToken(),i=ge(zk);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Dt=(()=>((Dt=Dt||{})[Dt.Interceptors=0]="Interceptors",Dt[Dt.LegacyInterceptors=1]="LegacyInterceptors",Dt[Dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dt[Dt.NoXsrfProtection=3]="NoXsrfProtection",Dt[Dt.JsonpSupport=4]="JsonpSupport",Dt[Dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dt))();function tu(t,e){return{\u0275kind:t,\u0275providers:e}}function u9(...t){const e=[Wv,jk,Bk,{provide:jf,useExisting:Bk},{provide:Hv,useExisting:jk},{provide:sl,useValue:a9,multi:!0},{provide:Kv,useValue:!0},{provide:Gk,useClass:o9}];for(const n of t)e.push(...n.\u0275providers);return function P3(t){return{\u0275providers:t}}(e)}const qk=new U("LEGACY_INTERCEPTOR_FN");let l9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[u9(tu(Dt.LegacyInterceptors,[{provide:qk,useFactory:JK},{provide:sl,useExisting:qk,multi:!0}]))]}),t})();class Wr extends Xr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Gf=Ce(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:d9}=Array,{getPrototypeOf:h9,prototype:f9,keys:p9}=Object;function Wk(t){if(1===t.length){const e=t[0];if(d9(e))return{args:e,keys:null};if(function g9(t){return t&&"object"==typeof t&&h9(t)===f9}(e)){const n=p9(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:m9}=Array;function Kk(t){return pe(e=>function y9(t,e){return m9(e)?t(...e):t(e)}(t,e))}function Qk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yk(...t){const e=lc(t),n=ZS(t),{args:r,keys:i}=Wk(t);if(0===r.length)return Pt([],e);const s=new Je(function _9(t,e,n=gs){return r=>{Xk(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Xk(e,()=>{const c=Pt(t[u],e);let l=!1;c.subscribe(dt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Qk(i,o):gs));return n?s.pipe(Kk(n)):s}function Xk(t,e,n){t?Ti(n,t,e):e()}function Qv(...t){return function v9(){return da(1)}()(Pt(t,lc(t)))}function Jk(t){return new Je(e=>{Ir(t()).subscribe(e)})}function ol(t,e){const n=B(t)?t:()=>t,r=i=>i.error(n());return new Je(e?i=>e.schedule(r,0,i):r)}function Yv(){return bt((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Zk extends Je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,LS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Q;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Q.EMPTY)}return e}refCount(){return Yv()(this)}}function Rr(t,e){return bt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Ir(t(u,l)).subscribe(i=dt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function nu(t){return t<=0?()=>Jr:bt((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function eO(...t){const e=lc(t);return bt((n,r)=>{(e?Qv(t,n,e):Qv(t,n)).subscribe(r)})}function qf(t){return bt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tO(t=w9){return bt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function w9(){return new Gf}function Es(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qr((i,s)=>t(i,s,r)):gs,nu(1),n?qf(e):tO(()=>new Gf))}function ln(t,e,n){const r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?bt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):gs}function Ds(t){return bt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=Ir(t(o,Ds(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function nO(t,e){return bt(function b9(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(dt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}function Xv(t){return t<=0?()=>Jr:bt((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rO(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qr((i,s)=>t(i,s,r)):gs,Xv(1),n?qf(e):tO(()=>new Gf))}function Jv(t){return bt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const fe="primary",al=Symbol("RouteTitle");class E9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ru(t){return new E9(t)}function D9(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function di(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iO(t[i],e[i]))return!1;return!0}function iO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function sO(t){return Array.prototype.concat.apply([],t)}function oO(t){return t.length>0?t[t.length-1]:null}function dn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ts(t){return S_(t)?t:Vc(t)?Pt(Promise.resolve(t)):Y(t)}const Wf=!1,S9={exact:function cO(t,e,n){if(!mo(t.segments,e.segments)||!Kf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!cO(t.children[r],e.children[r],n))return!1;return!0},subset:lO},aO={exact:function A9(t,e){return di(t,e)},subset:function x9(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iO(t[n],e[n]))},ignored:()=>!0};function uO(t,e,n){return S9[n.paths](t.root,e.root,n.matrixParams)&&aO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function lO(t,e,n){return dO(t,e,e.segments,n)}function dO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!mo(i,n)||e.hasChildren()||!Kf(i,n,r))}if(t.segments.length===n.length){if(!mo(t.segments,n)||!Kf(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!lO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(mo(t.segments,i)&&Kf(t.segments,i,r)&&t.children[fe])&&dO(t.children[fe],e,s,r)}}function Kf(t,e,n){return e.every((r,i)=>aO[n](t[i].parameters,r.parameters))}class Ss{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return P9.serialize(this)}}class Ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,dn(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qf(this)}}class ul{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ru(this.parameters)),this._parameterMap}toString(){return pO(this)}}function mo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let cl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new Zv},providedIn:"root"}),t})();class Zv{parse(e){const n=new $9(e);return new Ss(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${ll(e.root,!0)}`,r=function N9(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Yf(n)}=${Yf(i)}`).join("&"):`${Yf(n)}=${Yf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function k9(t){return encodeURI(t)}(e.fragment)}`:""}`}}const P9=new Zv;function Qf(t){return t.segments.map(e=>pO(e)).join("/")}function ll(t,e){if(!t.hasChildren())return Qf(t);if(e){const n=t.children[fe]?ll(t.children[fe],!1):"",r=[];return dn(t.children,(i,s)=>{s!==fe&&r.push(`${s}:${ll(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function R9(t,e){let n=[];return dn(t.children,(r,i)=>{i===fe&&(n=n.concat(e(r,i)))}),dn(t.children,(r,i)=>{i!==fe&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===fe?[ll(t.children[fe],!1)]:[`${i}:${ll(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[fe]?`${Qf(t)}/${n[0]}`:`${Qf(t)}/(${n.join("//")})`}}function hO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(t){return hO(t).replace(/%3B/gi,";")}function ew(t){return hO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xf(t){return decodeURIComponent(t)}function fO(t){return Xf(t.replace(/\+/g,"%20"))}function pO(t){return`${ew(t.path)}${function O9(t){return Object.keys(t).map(e=>`;${ew(e)}=${ew(t[e])}`).join("")}(t.parameters)}`}const F9=/^[^\/()?;=#]+/;function Jf(t){const e=t.match(F9);return e?e[0]:""}const L9=/^[^=?&#]+/,U9=/^[^&#]+/;class $9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[fe]=new Ie(e,n)),r}parseSegment(){const e=Jf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,Wf);return this.capture(e),new ul(Xf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Jf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Jf(this.remaining);i&&(r=i,this.capture(r))}e[Xf(n)]=Xf(r)}parseQueryParam(e){const n=function V9(t){const e=t.match(L9);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function B9(t){const e=t.match(U9);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fO(n),s=fO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Jf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,Wf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[fe]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,Wf)}}function tw(t){return t.segments.length>0?new Ie([],{[fe]:t}):t}function Zf(t){const e={};for(const r of Object.keys(t.children)){const s=Zf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function j9(t){if(1===t.numberOfChildren&&t.children[fe]){const e=t.children[fe];return new Ie(t.segments.concat(e.segments),e.children)}return t}(new Ie(t.segments,e))}function yo(t){return t instanceof Ss}const nw=!1;function H9(t,e,n,r,i){if(0===n.length)return iu(e.root,e.root,e.root,r,i);const s=function vO(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _O(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return dn(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new _O(n,e,r)}(n);return s.toRoot()?iu(e.root,e.root,new Ie([],{}),r,i):function o(u){const c=function G9(t,e,n,r){if(t.isAbsolute)return new su(e.root,!0,0);if(-1===r)return new su(n,n===e.root,0);return function wO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,nw&&"Invalid number of '../'");i=r.segments.length}return new su(r,!1,i-s)}(n,r+(dl(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?ou(c.segmentGroup,c.index,s.commands):rw(c.segmentGroup,c.index,s.commands);return iu(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function dl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hl(t){return"object"==typeof t&&null!=t&&t.outlets}function iu(t,e,n,r,i){let o,s={};r&&dn(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:yO(t,e,n);const a=tw(Zf(o));return new Ss(a,s,i)}function yO(t,e,n){const r={};return dn(t.children,(i,s)=>{r[s]=i===e?n:yO(i,e,n)}),new Ie(t.segments,r)}class _O{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dl(r[0]))throw new x(4003,nw&&"Root segment cannot have matrix parameters");const i=r.find(hl);if(i&&i!==oO(r))throw new x(4004,nw&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class su{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function rw(t,e,n){if(t||(t=new Ie([],{})),0===t.segments.length&&t.hasChildren())return ou(t,e,n);const r=function W9(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!IO(u,c,o))return s;r+=2}else{if(!IO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[fe]=new Ie(t.segments.slice(r.pathIndex),t.children),ou(s,0,i)}return r.match&&0===i.length?new Ie(t.segments,{}):r.match&&!t.hasChildren()?iw(t,e,n):r.match?ou(t,0,i):iw(t,e,n)}function ou(t,e,n){if(0===n.length)return new Ie(t.segments,{});{const r=function q9(t){return hl(t[0])?t[0].outlets:{[fe]:t}}(n),i={};if(!r[fe]&&t.children[fe]&&1===t.numberOfChildren&&0===t.children[fe].segments.length){const s=ou(t.children[fe],e,n);return new Ie(t.segments,s.children)}return dn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=rw(t.children[o],e,s))}),dn(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ie(t.segments,i)}}function iw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hl(s)){const u=K9(s.outlets);return new Ie(r,u)}if(0===i&&dl(n[0])){r.push(new ul(t.segments[e].path,bO(n[0]))),i++;continue}const o=hl(s)?s.outlets[fe]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dl(a)?(r.push(new ul(o,bO(a))),i+=2):(r.push(new ul(o,{})),i++)}return new Ie(r,{})}function K9(t){const e={};return dn(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=iw(new Ie([],{}),0,n))}),e}function bO(t){const e={};return dn(t,(n,r)=>e[r]=`${n}`),e}function IO(t,e,n){return t==n.path&&di(e,n.parameters)}const fl="imperative";class hi{constructor(e,n){this.id=e,this.url=n}}class sw extends hi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends hi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ep extends hi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tp extends hi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ow extends hi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q9 extends hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y9 extends hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X9 extends hi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J9 extends hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z9 extends hi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eQ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tQ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nQ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rQ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iQ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CO{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let aQ=(()=>{class t{createUrlTree(n,r,i,s,o,a){return H9(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),cQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(e){return aQ.\u0275fac(e)},providedIn:"root"}),t})();class DO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=aw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=aw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=uw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uw(e,this._root).map(n=>n.value)}}function aw(t,e){if(t===e.value)return e;for(const n of e.children){const r=aw(t,n);if(r)return r}return null}function uw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=uw(t,n);if(r.length)return r.unshift(e),r}return[]}class Gi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function au(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class TO extends DO{constructor(e,n){super(e),this.snapshot=n,cw(this,e)}toString(){return this.snapshot.toString()}}function SO(t,e){const n=function lQ(t,e){const o=new np([],{},{},"",{},fe,e,null,t.root,-1,{});return new xO("",new Gi(o,[]))}(t,e),r=new Wr([new ul("",{})]),i=new Wr({}),s=new Wr({}),o=new Wr({}),a=new Wr(""),u=new uu(r,i,o,a,s,fe,e,n.root);return u.snapshot=n.root,new TO(new Gi(u,[]),n)}class uu{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(pe(c=>c[al]))??Y(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>ru(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>ru(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function dQ(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class np{get title(){return this.data?.[al]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xO extends DO{constructor(e,n){super(n),this.url=e,cw(this,n)}toString(){return MO(this._root)}}function cw(t,e){e.value._routerState=t,e.children.forEach(n=>cw(t,n))}function MO(t){const e=t.children.length>0?` { ${t.children.map(MO).join(", ")} } `:"";return`${t.value}${e}`}function lw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,di(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),di(e.params,n.params)||t.params.next(n.params),function T9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!di(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),di(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function dw(t,e){const n=di(t.params,e.params)&&function M9(t,e){return mo(t,e)&&t.every((n,r)=>di(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||dw(t.parent,e.parent))}function pl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function fQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pl(t,r,i);return pl(t,r)})}(t,e,n);return new Gi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pl(t,a)),o}}const r=function pQ(t){return new uu(new Wr(t.url),new Wr(t.params),new Wr(t.queryParams),new Wr(t.fragment),new Wr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>pl(t,s));return new Gi(r,i)}}const hw="ngNavigationCancelingError";function RO(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PO(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function PO(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[hw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function kO(t){return OO(t)&&yo(t.url)}function OO(t){return t&&t[hw]}class gQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gl,this.attachRef=null}}let gl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gQ,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rp=!1;let fw=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=ge(gl),this.location=ge(jr),this.changeDetector=ge(Ef),this.environmentInjector=ge(si)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,rp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,rp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,rp);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,rp);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new mQ(n,a,i.injector);if(r&&function yQ(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ae({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dr]}),t})();class mQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===uu?this.route:e===gl?this.childContexts:this.parent.get(e,n)}}let ip=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ti({type:t,selectors:[["ng-component"]],standalone:!0,features:[E1],decls:1,vars:0,template:function(n,r){1&n&&F(0,"router-outlet")},dependencies:[fw],encapsulation:2}),t})();function NO(t,e){return t.providers&&!t._injector&&(t._injector=mf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gw(t){const e=t.children&&t.children.map(gw),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=ip),n}function Pr(t){return t.outlet||fe}function FO(t,e){const n=t.filter(r=>Pr(r)===e);return n.push(...t.filter(r=>Pr(r)!==e)),n}function ml(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class IQ{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=au(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),dn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=au(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=au(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=au(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new CO(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(lw(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),lw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ml(i.snapshot),u=a?.get(Ra)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class LO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sp{constructor(e,n){this.component=e,this.route=n}}function CQ(t,e,n){const r=t._root;return yl(r,e?e._root:null,n,[r.value])}function cu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function nz(t){return null!==mh(t)}(t)?e.get(t):t:r}function yl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=au(e);return t.children.forEach(o=>{(function DQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function TQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(t.url,e.url)||!di(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dw(t,e)||!di(t.queryParams,e.queryParams);default:return!dw(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new LO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),yl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sp(a.outlet.component,o))}else o&&_l(e,a,i),i.canActivateChecks.push(new LO(r)),yl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),dn(s,(o,a)=>_l(o,n.getContext(a),i)),i}function _l(t,e,n){const r=au(t),i=t.value;dn(r,(s,o)=>{_l(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function vl(t){return"function"==typeof t}function mw(t){return t instanceof Gf||"EmptyError"===t?.name}const op=Symbol("INITIAL_VALUE");function lu(){return Rr(t=>Yk(t.map(e=>e.pipe(nu(1),eO(op)))).pipe(pe(e=>{for(const n of e)if(!0!==n){if(n===op)return op;if(!1===n||n instanceof Ss)return n}return!0}),qr(e=>e!==op),nu(1)))}function VO(t){return function CH(...t){return OS(t)}(ln(e=>{if(yo(e))throw RO(0,e)}),pe(e=>!0===e))}const yw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UO(t,e,n,r,i){const s=_w(t,e,n);return s.matched?function HQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Y(i.map(o=>{const a=cu(o,t);return Ts(function PQ(t){return t&&vl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(lu(),VO()):Y(!0)}(r=NO(e,r),e,n).pipe(pe(o=>!0===o?s:{...yw})):Y(s)}function _w(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...yw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||D9)(n,t,e);if(!i)return{...yw};const s={};dn(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ap(t,e,n,r){if(n.length>0&&function qQ(t,e,n){return n.some(r=>up(t,e,r)&&Pr(r)!==fe)}(t,n,r)){const s=new Ie(e,function GQ(t,e,n,r){const i={};i[fe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Pr(s)!==fe){const o=new Ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Pr(s)]=o}return i}(t,e,r,new Ie(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function WQ(t,e,n){return n.some(r=>up(t,e,r))}(t,n,r)){const s=new Ie(t.segments,function zQ(t,e,n,r,i){const s={};for(const o of r)if(up(t,n,o)&&!i[Pr(o)]){const a=new Ie([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Pr(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new Ie(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function up(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function BO(t,e,n,r){return!!(Pr(t)===r||r!==fe&&up(e,n,t))&&("**"===t.path||_w(e,t,n).matched)}function $O(t,e,n){return 0===e.length&&!t.children[n]}const cp=!1;class lp{constructor(e){this.segmentGroup=e||null}}class jO{constructor(e){this.urlTree=e}}function wl(t){return ol(new lp(t))}function HO(t){return ol(new jO(t))}class XQ{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=ap(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,fe).pipe(pe(s=>this.createUrlTree(Zf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ds(s=>{if(s instanceof jO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof lp?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,fe).pipe(pe(i=>this.createUrlTree(Zf(i),e.queryParams,e.fragment))).pipe(Ds(i=>{throw i instanceof lp?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,cp)}createUrlTree(e,n,r){const i=tw(e);return new Ss(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(pe(s=>new Ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Pt(i).pipe(Is(s=>{const o=r.children[s],a=FO(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(u=>({segment:u,outlet:s})))}),nO((s,o)=>(s[o.outlet]=o.segment,s),{}),rO())}expandSegment(e,n,r,i,s,o){return Pt(r).pipe(Is(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ds(c=>{if(c instanceof lp)return Y(null);throw c}))),Es(a=>!!a),Ds((a,u)=>{if(mw(a))return $O(n,i,s)?Y(new Ie([],{})):wl(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return BO(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):wl(n):wl(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HO(s):this.lineralizeSegments(r,s).pipe(Kt(o=>{const a=new Ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=_w(n,i,s);if(!a)return wl(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?HO(d):this.lineralizeSegments(i,d).pipe(Kt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=NO(r,e),r.loadChildren?(r._loadedRoutes?Y({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Ie(i,{})))):Y(new Ie(i,{}))):UO(n,r,i,e).pipe(Rr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Kt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=ap(n,a,u,h),m=new Ie(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(pe(v=>new Ie(a,v)));if(0===h.length&&0===p.length)return Y(new Ie(a,{}));const y=Pr(r)===s;return this.expandSegment(d,m,h,p,y?fe:s,!0).pipe(pe(C=>new Ie(a.concat(C.segments),C.children)))})):wl(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):function jQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(o=>{const a=cu(o,t);return Ts(function AQ(t){return t&&vl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(lu(),VO())}(e,n,r).pipe(Kt(i=>i?this.configLoader.loadChildren(e,n).pipe(ln(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function QQ(t){return ol(PO(cp,3))}())):Y({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[fe])return e.redirectTo,ol(new x(4e3,cp));i=i.children[fe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ss(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return dn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return dn(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,cp);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class ZQ{}class nY{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=ap(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(pe(n=>{if(null===n)return null;const r=new np([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Gi(r,n),s=new xO(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=AO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return Pt(Object.keys(r.children)).pipe(Is(i=>{const s=r.children[i],o=FO(n,i);return this.processSegmentGroup(e,o,s,i)}),nO((i,s)=>i&&s?(i.push(...s),i):null),function I9(t,e=!1){return bt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),qf(null),rO(),pe(i=>{if(null===i)return null;const s=GO(i);return function rY(t){t.sort((e,n)=>e.value.outlet===fe?-1:n.value.outlet===fe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return Pt(n).pipe(Is(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Es(o=>!!o),Ds(o=>{if(mw(o))return $O(r,i,s)?Y([]):Y(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!BO(n,r,i,s))return Y(null);let o;if("**"===n.path){const a=i.length>0?oO(i).parameters:{},u=WO(r)+i.length;o=Y({snapshot:new np(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KO(n),Pr(n),n.component??n._loadedComponent??null,n,qO(r),u,QO(n)),consumedSegments:[],remainingSegments:[]})}else o=UO(r,n,i,e).pipe(pe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=WO(r)+u.length;return{snapshot:new np(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KO(n),Pr(n),n.component??n._loadedComponent??null,n,qO(r),d,QO(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Rr(a=>{if(null===a)return Y(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function iY(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=ap(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(pe(y=>null===y?null:[new Gi(u,y)]));if(0===h.length&&0===p.length)return Y([new Gi(u,[])]);const m=Pr(n)===s;return this.processSegment(d,h,f,p,m?fe:s).pipe(pe(y=>null===y?null:[new Gi(u,y)]))}))}}function sY(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GO(t){const e=[],n=new Set;for(const r of t){if(!sY(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=GO(r.children);e.push(new Gi(r.value,i))}return e.filter(r=>!n.has(r))}function qO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WO(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function KO(t){return t.data||{}}function QO(t){return t.resolve||{}}function YO(t){return"string"==typeof t.title||null===t.title}function vw(t){return Rr(e=>{const n=t(e);return n?Pt(n).pipe(pe(()=>e)):Y(e)})}const du=new U("ROUTES");let ww=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(hP)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ts(n.loadComponent()).pipe(pe(JO),ln(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Jv(()=>{this.componentLoaders.delete(n)})),i=new Zk(r,()=>new Xr).pipe(Yv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=sO(u.get(du,[],te.Self|te.Optional)));return{routes:c.map(gw),injector:u}}),Jv(()=>{this.childrenLoaders.delete(r)})),o=new Zk(s,()=>new Xr).pipe(Yv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ts(n()).pipe(pe(JO),Kt(r=>r instanceof I1||Array.isArray(r)?Y(r):Pt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JO(t){return function fY(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hp=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Xr,this.configLoader=ge(ww),this.environmentInjector=ge(si),this.urlSerializer=ge(cl),this.rootContexts=ge(gl),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new tQ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new eQ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Wr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fl,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qr(r=>0!==r.id),pe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Rr(r=>{let i=!1,s=!1;return Y(r).pipe(ln(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new tp(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Jr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ZO(o.source)&&(n.browserUrlTree=o.extractedUrl),Y(o).pipe(Rr(l=>{const d=this.transitions?.getValue();return this.events.next(new sw(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Jr:Promise.resolve(l)}),function JQ(t,e,n,r){return Rr(i=>function YQ(t,e,n,r,i){return new XQ(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(pe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),ln(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function aY(t,e,n,r,i){return Kt(s=>function tY(t,e,n,r,i,s,o="emptyOnly"){return new nY(t,e,n,r,i,o,s).recognize().pipe(Rr(a=>null===a?function eY(t){return new Je(e=>e.error(t))}(new ZQ):Y(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(pe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ln(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new Q9(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,m=new sw(l,this.urlSerializer.serialize(d),h,f);this.events.next(m);const y=SO(d,this.rootComponentType).snapshot;return Y(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new tp(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Jr}}),ln(o=>{const a=new Y9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),pe(o=>r={...o,guards:CQ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function OQ(t,e){return Kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Y({...n,guardsResult:!0}):function NQ(t,e,n,r){return Pt(t).pipe(Kt(i=>function $Q(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Y(s.map(a=>{const u=ml(e)??i,c=cu(a,u);return Ts(function RQ(t){return t&&vl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Es())})).pipe(lu()):Y(!0)}(i.component,i.route,n,e,r)),Es(i=>!0!==i,!0))}(o,r,i,t).pipe(Kt(a=>a&&function SQ(t){return"boolean"==typeof t}(a)?function FQ(t,e,n,r){return Pt(e).pipe(Is(i=>Qv(function VQ(t,e){return null!==t&&e&&e(new nQ(t)),Y(!0)}(i.route.parent,r),function LQ(t,e){return null!==t&&e&&e(new iQ(t)),Y(!0)}(i.route,r),function BQ(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function EQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Jk(()=>Y(o.guards.map(u=>{const c=ml(o.node)??n,l=cu(u,c);return Ts(function MQ(t){return t&&vl(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Es())})).pipe(lu())));return Y(s).pipe(lu())}(t,i.path,n),function UQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(s=>Jk(()=>{const o=ml(e)??n,a=cu(s,o);return Ts(function xQ(t){return t&&vl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Es())}));return Y(i).pipe(lu())}(t,i.route,n))),Es(i=>!0!==i,!0))}(r,s,t,e):Y(a)),pe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),ln(o=>{if(r.guardsResult=o.guardsResult,yo(o.guardsResult))throw RO(0,o.guardsResult);const a=new X9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),qr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),vw(o=>{if(o.guards.canActivateChecks.length)return Y(o).pipe(ln(a=>{const u=new J9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Rr(a=>{let u=!1;return Y(a).pipe(function uY(t,e){return Kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=0;return Pt(i).pipe(Is(o=>function cY(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!YO(i)&&(s[al]=i.title),function lY(t,e,n,r){const i=function dY(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Y({});const s={};return Pt(i).pipe(Kt(o=>function hY(t,e,n,r){const i=ml(e)??r,s=cu(t,i);return Ts(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Es(),ln(a=>{s[o]=a}))),Xv(1),function C9(t){return pe(()=>t)}(s),Ds(o=>mw(o)?Jr:ol(o)))}(s,t,e,r).pipe(pe(o=>(t._resolvedData=o,t.data=AO(t,n).resolve,i&&YO(i)&&(t.data[al]=i.title),null)))}(o.route,r,t,e)),ln(()=>s++),Xv(1),Kt(o=>s===i.length?Y(n):Jr))})}(n.paramsInheritanceStrategy,this.environmentInjector),ln({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ln(a=>{const u=new Z9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),vw(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(ln(l=>{u.component=l}),pe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return Yk(a(o.targetSnapshot.root)).pipe(qf(),nu(1))}),vw(()=>this.afterPreactivation()),pe(o=>{const a=function hQ(t,e,n){const r=pl(t,e._root,n?n._root:void 0);return new TO(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),ln(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>pe(r=>(new IQ(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),nu(1),ln({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new _o(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Jv(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ds(o=>{if(s=!0,OO(o)){kO(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new ep(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),kO(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||ZO(r.source)};n.scheduleNavigation(u,fl,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new ow(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Jr}))}))}cancelNavigationTransition(n,r,i){const s=new ep(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ZO(t){return t!==fl}let eN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(n){return n.data[al]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return ge(pY)},providedIn:"root"}),t})(),pY=(()=>{class t extends eN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(k($v))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return ge(yY)},providedIn:"root"}),t})();class mY{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let yY=(()=>{class t extends mY{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=un(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fp=new U("",{providedIn:"root",factory:()=>({})});let vY=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return ge(wY)},providedIn:"root"}),t})(),wY=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bY(t){throw t}function IY(t,e,n){return e.parse("/")}const CY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(R5),this.isNgZoneEnabled=!1,this.options=ge(fp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||bY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||IY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(vY),this.routeReuseStrategy=ge(gY),this.urlCreationStrategy=ge(cQ),this.titleStrategy=ge(eN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sO(ge(du,{optional:!0})??[]),this.navigationTransitions=ge(hp),this.urlSerializer=ge(cl),this.location=ge(yv),this.isNgZoneEnabled=ge(je)instanceof je&&je.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ss,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SO(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(gw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=yo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,fl,null,r)}navigate(n,r={skipLocationChange:!1}){return function DY(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new x(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...CY}:!1===r?{...EY}:r,yo(n))return uO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return uO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),bl=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Xr;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof _o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=eu(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=eu(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=eu(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Wx(t,e,n){return function R3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?qx:Oi}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(D(Dn),D(uu),function Lh(t){return function nG(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(LA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(an(),t)}("tabindex"),D(Ni),D(hr),D(go))},t.\u0275dir=ae({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&X("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&ui("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Dr]}),t})();class tN{}let AY=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qr(n=>n instanceof _o),Is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=mf(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Pt(i).pipe(da())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Y(null);const s=i.pipe(Kt(o=>null===o?Y(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Pt([s,this.loader.loadComponent(r)]).pipe(da()):s})}}return t.\u0275fac=function(n){return new(n||t)(k(Dn),k(hP),k(si),k(tN),k(ww))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Iw=new U("");let nN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof sw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _o&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof EO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new EO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function DM(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();var gr=(()=>((gr=gr||{})[gr.COMPLETE=0]="COMPLETE",gr[gr.FAILED=1]="FAILED",gr[gr.REDIRECTING=2]="REDIRECTING",gr))();const hu=!1;function As(t,e){return{\u0275kind:t,\u0275providers:e}}const Cw=new U("",{providedIn:"root",factory:()=>!1});function iN(){const t=ge(cn);return e=>{const n=t.get(If);if(e!==n.components[0])return;const r=t.get(Dn),i=t.get(sN);1===t.get(Ew)&&r.initialNavigation(),t.get(oN,null,te.Optional)?.setUpPreloading(),t.get(Iw,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const sN=new U(hu?"bootstrap done indicator":"",{factory:()=>new Xr}),Ew=new U(hu?"initial navigation":"",{providedIn:"root",factory:()=>1});function kY(){let t=[];return t=hu?[{provide:Kh,multi:!0,useFactory:()=>{const e=ge(Dn);return()=>e.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function sQ(t){if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${t.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${t.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],As(1,t)}const oN=new U(hu?"router preloader":"");function OY(t){return As(0,[{provide:oN,useExisting:AY},{provide:tN,useExisting:t}])}const Il=!1,aN=new U(Il?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),NY=[yv,{provide:cl,useClass:Zv},Dn,gl,{provide:uu,useFactory:function rN(t){return t.routerState.root},deps:[Dn]},ww,Il?{provide:Cw,useValue:!0}:[]];function FY(){return new wP("Router",Dn)}let uN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[NY,Il&&r?.enableTracing?kY().\u0275providers:[],{provide:du,multi:!0,useValue:n},{provide:aN,useFactory:BY,deps:[[Dn,new ft,new Dc]]},{provide:fp,useValue:r||{}},r?.useHash?{provide:go,useClass:_6}:{provide:go,useClass:HP},{provide:Iw,useFactory:()=>{const t=ge(L7),e=ge(je),n=ge(fp),r=ge(hp),i=ge(cl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nN(i,r,t,e,n)}},r?.preloadingStrategy?OY(r.preloadingStrategy).\u0275providers:[],{provide:wP,multi:!0,useFactory:FY},r?.initialNavigation?$Y(r):[],[{provide:cN,useFactory:iN},{provide:vP,multi:!0,useExisting:cN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:du,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(k(aN,8))},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({imports:[ip]}),t})();function BY(t){if(Il&&t)throw new x(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $Y(t){return["disabled"===t.initialNavigation?As(3,[{provide:Kc,multi:!0,useFactory:()=>{const e=ge(Dn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ew,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?As(2,[{provide:Ew,useValue:0},{provide:Kc,multi:!0,deps:[cn],useFactory:e=>{const n=e.get(m6,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Dn),s=e.get(sN);(function xY(t,e){t.events.pipe(qr(n=>n instanceof _o||n instanceof ep||n instanceof ow||n instanceof tp),pe(n=>n instanceof _o||n instanceof tp?gr.COMPLETE:n instanceof ep&&(0===n.code||1===n.code)?gr.REDIRECTING:gr.FAILED),qr(n=>n!==gr.REDIRECTING),nu(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(hp).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const cN=new U(Il?"Router Initializer":"");function lN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){lN(s,r,i,o,a,"next",u)}function a(u){lN(s,r,i,o,a,"throw",u)}o(void 0)})}}const dN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new qY;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pp=function(t){return function(t){const e=dN(t);return Tw.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gp=function(t){try{return Tw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},mp=()=>{try{return function QY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gp(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},fN=t=>{var e,n;return null===(n=null===(e=mp())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},pN=t=>{const e=fN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZY=()=>{var t;return null===(t=mp())||void 0===t?void 0:t.config},gN=t=>{var e;return null===(e=mp())||void 0===e?void 0:e[`_${t}`]};class yp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function mN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pp(JSON.stringify({alg:"none",type:"JWT"})),pp(JSON.stringify(o)),""].join(".")}function Yt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Sw(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function vo(){try{return"object"==typeof indexedDB}catch{return!1}}function Cl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Aw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fi.prototype.create)}}class fi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function iX(t,e){return t.replace(sX,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new mr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const sX=/\{\$([^}]+)}/g;function El(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vN(s)&&vN(o)){if(!El(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vN(t){return null!==t&&"object"==typeof t}function Dl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class uX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function cX(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=xw),void 0===i.error&&(i.error=xw),void 0===i.complete&&(i.complete=xw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xw(){}const lX=1e3,dX=2,hX=144e5,fX=.5;function Rw(t,e=lX,n=dX){const r=e*Math.pow(n,t),i=Math.round(fX*r*(Math.random()-.5)*2);return Math.min(hX,r+i)}function We(t){return t&&t._delegate?t._delegate:t}class hn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wo="[DEFAULT]";class gX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function yX(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===wo?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _X{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Pw=[];var Oe=(()=>{return(t=Oe||(Oe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",Oe;var t})();const wN={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},vX=Oe.INFO,wX={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},bX=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=wX[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class fu{constructor(e){this.name=e,this._logLevel=vX,this._logHandler=bX,this._userLogHandler=null,Pw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?wN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const IX=(t,e)=>e.some(n=>t instanceof n);let bN,IN;const CN=new WeakMap,kw=new WeakMap,EN=new WeakMap,Ow=new WeakMap,Nw=new WeakMap;let Fw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return kw.get(t);if("objectStoreNames"===e)return t.objectStoreNames||EN.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xX(t){return"function"==typeof t?function AX(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function EX(){return IN||(IN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Lw(this),e),qi(CN.get(this))}:function(...e){return qi(t.apply(Lw(this),e))}:function(e,...n){const r=t.call(Lw(this),e,...n);return EN.set(r,e.sort?e.sort():[e]),qi(r)}}(t):(t instanceof IDBTransaction&&function TX(t){if(kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});kw.set(t,e)}(t),IX(t,function CX(){return bN||(bN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Fw):t)}function qi(t){if(t instanceof IDBRequest)return function DX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CN.set(n,t)}).catch(()=>{}),Nw.set(e,t),e}(t);if(Ow.has(t))return Ow.get(t);const e=xX(t);return e!==t&&(Ow.set(t,e),Nw.set(e,t)),e}const Lw=t=>Nw.get(t);function vp(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qi(o.result),u.oldVersion,u.newVersion,qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Vw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),qi(n).then(()=>{})}const MX=["get","getKey","getAll","getAllKeys","count"],RX=["put","add","delete","clear"],Uw=new Map;function DN(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Uw.get(e))return Uw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MX.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Uw.set(e,s),s}!function SX(t){Fw=t(Fw)}(t=>({...t,get:(e,n,r)=>DN(e,n)||t.get(e,n,r),has:(e,n)=>!!DN(e,n)||t.has(e,n)}));class PX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function kX(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Bw="@firebase/app",bo=new fu("@firebase/app"),wp="[DEFAULT]",sJ={[Bw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Io=new Map,bp=new Map;function oJ(t,e){try{t.container.addComponent(e)}catch(n){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){const e=t.name;if(bp.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,t);for(const n of Io.values())oJ(n,t);return!0}function Wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ki=new fi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class uJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const Co="9.19.1";function SN(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=ZY()),!n)throw Ki.create("no-options");const s=Io.get(i);if(s){if(El(n,s.options)&&El(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new _X(i);for(const u of bp.values())o.addComponent(u);const a=new uJ(n,r,o);return Io.set(i,a),a}function Al(t=wp){const e=Io.get(t);if(!e&&t===wp)return SN();if(!e)throw Ki.create("no-app",{appName:t});return e}function AN(){return Array.from(Io.values())}function ze(t,e,n){var r;let i=null!==(r=sJ[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void bo.warn(a.join(" "))}Tn(new hn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cJ="firebase-heartbeat-database",lJ=1,xl="firebase-heartbeat-store";let jw=null;function xN(){return jw||(jw=vp(cJ,lJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(xl)}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),jw}function Hw(){return(Hw=g(function*(t){try{return(yield xN()).transaction(xl).objectStore(xl).get(RN(t))}catch(e){if(e instanceof mr)bo.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e?.message});bo.warn(n.message)}}})).apply(this,arguments)}function MN(t,e){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(t,e){try{const r=(yield xN()).transaction(xl,"readwrite");return yield r.objectStore(xl).put(e,RN(t)),r.done}catch(n){if(n instanceof mr)bo.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n?.message});bo.warn(r.message)}}})).apply(this,arguments)}function RN(t){return`${t.name}!${t.options.appId}`}class pJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PN();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=PN(),{heartbeatsToSend:r,unsentEntries:i}=function gJ(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=pp(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function PN(){return(new Date).toISOString().substring(0,10)}class mJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!vo()&&Cl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function dJ(t){return Hw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return MN(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kN(t){return pp(JSON.stringify({version:2,heartbeats:t})).length}!function yJ(t){Tn(new hn("platform-logger",e=>new PX(e),"PRIVATE")),Tn(new hn("heartbeat",e=>new pJ(e),"PRIVATE")),ze(Bw,"0.9.7",t),ze(Bw,"0.9.7","esm2017"),ze("fire-js","")}(""),ze("firebase","9.19.1","app");const ON="@firebase/installations",Gw="0.6.4",NN=1e4,FN=`w:${Gw}`,LN="FIS_v2",wJ="https://firebaseinstallations.googleapis.com/v1",bJ=36e5,Qi=new fi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function VN(t){return t instanceof mr&&t.code.includes("request-failed")}function qw({projectId:t}){return`${wJ}/projects/${t}/installations`}function UN(t){return{token:t.token,requestStatus:2,expiresIn:DJ(t.expiresIn),creationTime:Date.now()}}function Ww(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(t,e){const r=(yield e.json()).error;return Qi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function BN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Qw(t){return Yw.apply(this,arguments)}function Yw(){return(Yw=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function DJ(t){return Number(t.replace("s","000"))}function Xw(){return(Xw=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qw(t),i=BN(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:LN,appId:t.appId,sdkVersion:FN})},u=yield Qw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:UN(c.authToken)}}throw yield Ww("Create Installation",u)})).apply(this,arguments)}function jN(t){return new Promise(e=>{setTimeout(e,t)})}const xJ=/^[cdef][\w-]{21}$/,Jw="";function MJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function RJ(t){return function AJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return xJ.test(n)?n:Jw}catch{return Jw}}function pu(t){return`${t.appName}!${t.appId}`}const gu=new Map;function HN(t,e){const n=pu(t);zN(n,e),function OJ(t,e){const n=function GN(){return!Eo&&"BroadcastChannel"in self&&(Eo=new BroadcastChannel("[Firebase] FID Change"),Eo.onmessage=t=>{zN(t.data.key,t.data.fid)}),Eo}();n&&n.postMessage({key:t,fid:e}),function qN(){0===gu.size&&Eo&&(Eo.close(),Eo=null)}()}(n,e)}function zN(t,e){const n=gu.get(t);if(n)for(const r of n)r(e)}let Eo=null;const NJ="firebase-installations-database",FJ=1,Do="firebase-installations-store";let Zw=null;function eb(){return Zw||(Zw=vp(NJ,FJ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Do)}})),Zw}function Ip(t,e){return tb.apply(this,arguments)}function tb(){return(tb=g(function*(t,e){const n=pu(t),i=(yield eb()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&HN(t,e.fid),e})).apply(this,arguments)}function nb(t){return rb.apply(this,arguments)}function rb(){return(rb=g(function*(t){const e=pu(t),r=(yield eb()).transaction(Do,"readwrite");yield r.objectStore(Do).delete(e),yield r.done})).apply(this,arguments)}function Ml(t,e){return ib.apply(this,arguments)}function ib(){return(ib=g(function*(t,e){const n=pu(t),i=(yield eb()).transaction(Do,"readwrite"),s=i.objectStore(Do),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&HN(t,a.fid),a})).apply(this,arguments)}function sb(t){return ob.apply(this,arguments)}function ob(){return ob=g(function*(t){let e;const n=yield Ml(t.appConfig,r=>{const i=function LJ(t){return KN(t||{fid:MJ(),registrationStatus:0})}(r),s=function VJ(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Qi.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function UJ(t,e){return ab.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:BJ(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Jw?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),ob.apply(this,arguments)}function ab(){return ab=g(function*(t,e){try{const n=yield function SJ(t,e){return Xw.apply(this,arguments)}(t,e);return Ip(t.appConfig,n)}catch(n){throw VN(n)&&409===n.customData.serverCode?yield nb(t.appConfig):yield Ip(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),ab.apply(this,arguments)}function BJ(t){return ub.apply(this,arguments)}function ub(){return(ub=g(function*(t){let e=yield WN(t.appConfig);for(;1===e.registrationStatus;)yield jN(100),e=yield WN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield sb(t);return r||n}return e})).apply(this,arguments)}function WN(t){return Ml(t,e=>{if(!e)throw Qi.create("installation-not-found");return KN(e)})}function KN(t){return function $J(t){return 1===t.registrationStatus&&t.registrationTime+NN<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function cb(){return(cb=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function HJ(t,{fid:e}){return`${qw(t)}/${e}/authTokens:generate`}(t,n),i=function $N(t,{refreshToken:e}){const n=BN(t);return n.append("Authorization",function TJ(t){return`${LN} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:FN,appId:t.appId}})},u=yield Qw(()=>fetch(r,a));if(u.ok)return UN(yield u.json());throw yield Ww("Generate Auth Token",u)})).apply(this,arguments)}function lb(t){return db.apply(this,arguments)}function db(){return db=g(function*(t,e=!1){let n;const r=yield Ml(t.appConfig,s=>{if(!YN(s))throw Qi.create("not-registered");const o=s.authToken;if(!e&&function qJ(t){return 2===t.requestStatus&&!function WJ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bJ}(t)}(o))return s;if(1===o.requestStatus)return n=function zJ(t,e){return hb.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Qi.create("app-offline");const a=function KJ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function GJ(t,e){return fb.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),db.apply(this,arguments)}function hb(){return(hb=g(function*(t,e){let n=yield QN(t.appConfig);for(;1===n.authToken.requestStatus;)yield jN(100),n=yield QN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?lb(t,e):r})).apply(this,arguments)}function QN(t){return Ml(t,e=>{if(!YN(e))throw Qi.create("not-registered");return function QJ(t){return 1===t.requestStatus&&t.requestTime+NN<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fb(){return fb=g(function*(t,e){try{const n=yield function jJ(t,e){return cb.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ip(t.appConfig,r),n}catch(n){if(!VN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ip(t.appConfig,r)}else yield nb(t.appConfig);throw n}}),fb.apply(this,arguments)}function YN(t){return void 0!==t&&2===t.registrationStatus}function pb(){return(pb=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield sb(e);return r?r.catch(console.error):lb(e).catch(console.error),n.fid})).apply(this,arguments)}function gb(){return gb=g(function*(t,e=!1){const n=t;return yield function JJ(t){return mb.apply(this,arguments)}(n),(yield lb(n,e)).token}),gb.apply(this,arguments)}function mb(){return(mb=g(function*(t){const{registrationPromise:e}=yield sb(t);e&&(yield e)})).apply(this,arguments)}function vb(t){return Qi.create("missing-app-config-values",{valueName:t})}const XN="installations",rZ=t=>{const e=t.getProvider("app").getImmediate(),n=function tZ(t){if(!t||!t.options)throw vb("App Configuration");if(!t.name)throw vb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Wi(e,"heartbeat"),_delete:()=>Promise.resolve()}},iZ=t=>{const n=Wi(t.getProvider("app").getImmediate(),XN).getImmediate();return{getId:()=>function YJ(t){return pb.apply(this,arguments)}(n),getToken:i=>function XJ(t){return gb.apply(this,arguments)}(n,i)}};(function sZ(){Tn(new hn(XN,rZ,"PUBLIC")),Tn(new hn("installations-internal",iZ,"PRIVATE"))})(),ze(ON,Gw),ze(ON,Gw,"esm2017");const wb="@firebase/remote-config",Jn=new fi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function yZ(t=navigator){return t.languages&&t.languages[0]||t.language}class _Z{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:yZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((_,C)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",C(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(_){let C="fetch-client-network";throw"AbortError"===_?.name&&(C="fetch-timeout"),Jn.create(C,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let _;try{_=yield h.json()}catch(C){throw Jn.create("fetch-client-parse",{originalErrorMessage:C?.message})}m=_.entries,y=_.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class bZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function vZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function wZ(t){if(!(t instanceof mr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Rw(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class EZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ep(t,e){const n=t.target.error||void 0;return Jn.create(e,{originalErrorMessage:n&&n?.message})}const To="app_namespace_store";class AZ{constructor(e,n,r,i=function SZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Ep(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(To,{keyPath:"compositeKey"})}}catch(n){e(Jn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([To],"readonly").objectStore(To),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Ep(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Jn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([To],"readwrite").objectStore(To),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Ep(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Jn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([To],"readwrite").objectStore(To),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Ep(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Jn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function RZ(){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(){if(!vo())return!1;try{return yield Cl()}catch{return!1}})).apply(this,arguments)}!function MZ(){Tn(new hn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!vo())throw Jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Jn.create("registration-project-id");if(!o)throw Jn.create("registration-api-key");if(!a)throw Jn.create("registration-app-id");const u=new AZ(a,r.name,n=n||"firebase"),c=new xZ(u),l=new fu(wb);l.logLevel=Oe.ERROR;const d=new _Z(i,Co,n,s,o,a),h=new bZ(d,u),f=new mZ(h,u,c,l),p=new EZ(r,f,c,u,l);return function fZ(t){const e=We(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ze(wb,"0.4.4"),ze(wb,"0.4.4","esm2017")}();const PZ="/firebase-messaging-sw.js",kZ="/firebase-cloud-messaging-push-scope",tF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OZ="https://fcmregistrations.googleapis.com/v1",nF="google.c.a.c_id",NZ="google.c.a.c_l",FZ="google.c.a.ts",LZ="google.c.a.e";var mu=(()=>{return(t=mu||(mu={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",mu;var t})();function Yi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function VZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Tb="fcm_token_details_db",UZ=5,rF="fcm_token_object_Store";function Sb(){return Sb=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Tb))return null;let e=null;return(yield vp(Tb,UZ,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(rF))return;const c=a.objectStore(rF),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Yi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yi(d.auth),p256dh:Yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Yi(d.auth),p256dh:Yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Yi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield Vw(Tb),yield Vw("fcm_vapid_details_db"),yield Vw("undefined"),function $Z(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Sb.apply(this,arguments)}const jZ="firebase-messaging-database",HZ=1,So="firebase-messaging-store";let Ab=null;function xb(){return Ab||(Ab=vp(jZ,HZ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(So)}})),Ab}function iF(t){return Mb.apply(this,arguments)}function Mb(){return Mb=g(function*(t){const e=Ob(t),r=yield(yield xb()).transaction(So).objectStore(So).get(e);if(r)return r;{const i=yield function BZ(t){return Sb.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Rb(t,i),i}}),Mb.apply(this,arguments)}function Rb(t,e){return Pb.apply(this,arguments)}function Pb(){return(Pb=g(function*(t,e){const n=Ob(t),i=(yield xb()).transaction(So,"readwrite");return yield i.objectStore(So).put(e,n),yield i.done,e})).apply(this,arguments)}function kb(){return(kb=g(function*(t){const e=Ob(t),r=(yield xb()).transaction(So,"readwrite");yield r.objectStore(So).delete(e),yield r.done})).apply(this,arguments)}function Ob({appConfig:t}){return t.appId}const fn=new fi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qZ(t,e){return Nb.apply(this,arguments)}function Nb(){return(Nb=g(function*(t,e){const n=yield Ub(t),r=oF(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Vb(t.appConfig),i)).json()}catch(o){throw fn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw fn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw fn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Fb(){return(Fb=g(function*(t,e){const n=yield Ub(t),r=oF(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Vb(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw fn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw fn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw fn.create("token-update-no-token");return s.token})).apply(this,arguments)}function sF(t,e){return Lb.apply(this,arguments)}function Lb(){return(Lb=g(function*(t,e){const r={method:"DELETE",headers:yield Ub(t)};try{const s=yield(yield fetch(`${Vb(t.appConfig)}/${e}`,r)).json();if(s.error)throw fn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw fn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Vb({projectId:t}){return`${OZ}/projects/${t}/registrations`}function Ub(t){return Bb.apply(this,arguments)}function Bb(){return(Bb=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function oF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==tF&&(i.web.applicationPubKey=r),i}const KZ=6048e5;function $b(){return $b=g(function*(t){const e=yield function XZ(t,e){return Gb.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Yi(e.getKey("auth")),p256dh:Yi(e.getKey("p256dh"))},r=yield iF(t.firebaseDependencies);if(r){if(function JZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+KZ?function YZ(t,e){return Hb.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield sF(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uF(t.firebaseDependencies,n)}return uF(t.firebaseDependencies,n)}),$b.apply(this,arguments)}function jb(){return jb=g(function*(t){const e=yield iF(t.firebaseDependencies);e&&(yield sF(t.firebaseDependencies,e.token),yield function zZ(t){return kb.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),jb.apply(this,arguments)}function Hb(){return Hb=g(function*(t,e){try{const n=yield function WZ(t,e){return Fb.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Rb(t.firebaseDependencies,r),n}catch(n){throw yield function aF(t){return jb.apply(this,arguments)}(t),n}}),Hb.apply(this,arguments)}function uF(t,e){return zb.apply(this,arguments)}function zb(){return(zb=g(function*(t,e){const r={token:yield qZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Rb(t,r),r.token})).apply(this,arguments)}function Gb(){return(Gb=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:VZ(e)})})).apply(this,arguments)}function cF(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function ZZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function eee(t,e){e.data&&(t.data=e.data)}(e,t),function tee(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function lF(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function qb(t){return fn.create("missing-app-config-values",{valueName:t})}lF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class iee{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function ree(t){if(!t||!t.options)throw qb("App Configuration Object");if(!t.name)throw qb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw qb(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function dF(t){return Wb.apply(this,arguments)}function Wb(){return(Wb=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(PZ,{scope:kZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw fn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Kb(){return(Kb=g(function*(t,e){if(!e&&!t.swRegistration&&(yield dF(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw fn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Qb(){return(Qb=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=tF)})).apply(this,arguments)}function Yb(){return Yb=g(function*(t,e){if(!navigator)throw fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fn.create("permission-blocked");return yield function oee(t,e){return Qb.apply(this,arguments)}(t,e?.vapidKey),yield function see(t,e){return Kb.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function QZ(t){return $b.apply(this,arguments)}(t)}),Yb.apply(this,arguments)}function Xb(){return(Xb=g(function*(t,e,n){const r=function uee(t){switch(t){case mu.NOTIFICATION_CLICKED:return"notification_open";case mu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[nF],message_name:n[NZ],message_time:n[FZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jb(){return Jb=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===mu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(cF(n)):t.onMessageHandler.next(cF(n)));const r=n.data;(function nee(t){return"object"==typeof t&&!!t&&nF in t})(r)&&"1"===r[LZ]&&(yield function aee(t,e,n){return Xb.apply(this,arguments)}(t,n.messageType,r))}),Jb.apply(this,arguments)}const fF="@firebase/messaging",lee=t=>{const e=new iee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function cee(t,e){return Jb.apply(this,arguments)}(e,n)),e},dee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function hF(t,e){return Yb.apply(this,arguments)}(e,r)}};function gF(){return Zb.apply(this,arguments)}function Zb(){return(Zb=g(function*(){try{yield Cl()}catch{return!1}return typeof window<"u"&&vo()&&Aw()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hee(){Tn(new hn("messaging",lee,"PUBLIC")),Tn(new hn("messaging-internal",dee,"PRIVATE")),ze(fF,"0.12.4"),ze(fF,"0.12.4","esm2017")}();const Dp="analytics",gee="firebase_id",mee="origin",yee=6e4,_ee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nI="https://www.googletagmanager.com/gtag/js",Xt=new fu("@firebase/analytics"),Zn=new fi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wee(t){if(!t.startsWith(nI)){const e=Zn.create("invalid-gtag-resource",{gtagURL:t});return Xt.warn(e.message),""}return t}function mF(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function rI(){return(rI=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield mF(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Xt.error(a)}t("config",i,s)})).apply(this,arguments)}function iI(){return(iI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield mF(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Xt.error(s)}})).apply(this,arguments)}const xee=30,yF=new class Ree{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Pee(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function sI(){return(sI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Pee(r)},s=_ee.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function oI(){return(oI=g(function*(t,e=yF,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Lee;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:yee),_F({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function _F(t,e,n){return aI.apply(this,arguments)}function aI(){return aI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=yF){var s;const{appId:o,measurementId:a}=t;try{yield function Nee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function kee(t){return sI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Fee(t){if(!(t instanceof mr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Rw(n,i.intervalMillis,xee):Rw(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Xt.debug(`Calling attemptFetch again in ${l} millis`),_F(t,d,r,i)}}),aI.apply(this,arguments)}class Lee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let uI,pI;function cI(){return(cI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function dI(){return(dI=g(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function gI(){return(gI=g(function*(){if(!vo())return Xt.warn(Zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Cl()}catch(t){return Xt.warn(Zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function mI(){return mI=g(function*(t,e,n,r,i,s,o){var a;const u=function Oee(t){return oI.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Xt.error(f)),e.push(u);const c=function Hee(){return gI.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Aee(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(nI)&&n.src.includes(t))return n;return null})(s)||function Iee(t,e){const n=function bee(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:wee}),r=document.createElement("script"),i=`${nI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),pI&&(i("consent","default",pI),function vF(t){pI=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[mee]="firebase",h.update=!0,null!=d&&(h[gee]=d),i("config",l.measurementId,h),uI&&(i("set",uI),function wF(t){uI=t}(void 0)),l.measurementId}),mI.apply(this,arguments)}class Gee{constructor(e){this.app=e}_delete(){return delete Xi[this.app.options.appId],Promise.resolve()}}let Xi={},bF=[];const IF={};let EF,Ji,Tp="dataLayer",CF="gtag",yI=!1;function Wee(t,e,n){!function qee(){const t=[];if(Sw()&&t.push("This is a browser extension environment."),Aw()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zn.create("invalid-analytics-context",{errorInfo:e});Xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Zn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Zn.create("no-api-key");Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xi[r])throw Zn.create("already-exists",{id:r});if(!yI){!function Cee(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Tp);const{wrappedGtag:s,gtagCore:o}=function See(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function Tee(t,e,n,r){function s(){return s=g(function*(o,a,u){try{"event"===o?yield function Dee(t,e,n,r,i){return iI.apply(this,arguments)}(t,e,n,a,u):"config"===o?yield function Eee(t,e,n,r,i,s){return rI.apply(this,arguments)}(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Xt.error(c)}}),s.apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Xi,bF,IF,Tp,CF);Ji=s,EF=o,yI=!0}return Xi[r]=function zee(t,e,n,r,i,s,o){return mI.apply(this,arguments)}(t,bF,IF,e,EF,Tp,n),new Gee(t)}function Kee(t=Al()){const e=Wi(t=We(t),Dp);return e.isInitialized()?e.getImmediate():function Qee(t,e={}){const n=Wi(t,Dp);if(n.isInitialized()){const i=n.getImmediate();if(El(e,n.getOptions()))return i;throw Zn.create("already-initialized")}return n.initialize({options:e})}(t)}function Yee(){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(){if(Sw()||!Aw()||!vo())return!1;try{return yield Cl()}catch{return!1}})).apply(this,arguments)}function Xee(t,e,n){t=We(t),function Bee(t,e,n,r){return dI.apply(this,arguments)}(Ji,Xi[t.app.options.appId],e,n).catch(r=>Xt.error(r))}function DF(t,e,n,r){t=We(t),function Vee(t,e,n,r,i){return cI.apply(this,arguments)}(Ji,Xi[t.app.options.appId],e,n,r).catch(i=>Xt.error(i))}const TF="@firebase/analytics";!function Jee(){Tn(new hn(Dp,(e,{options:n})=>Wee(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Tn(new hn("analytics-internal",function t(e){try{const n=e.getProvider(Dp).getImmediate();return{logEvent:(r,i,s)=>DF(n,r,i,s)}}catch(n){throw Zn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ze(TF,"0.9.5"),ze(TF,"0.9.5","esm2017")}();class Zee extends Q{constructor(e,n){super()}schedule(e,n=0){return this}}const Sp={setInterval(t,e,...n){const{delegate:r}=Sp;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Sp;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class AF extends Zee{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Sp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Sp.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ie(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const xF={now:()=>(xF.delegate||Date).now(),delegate:void 0};class Rl{constructor(e,n=Rl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Rl.now=xF.now;class MF extends Rl{constructor(e,n=Rl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const nte=new class tte extends MF{}(class ete extends AF{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),rte=new MF(AF),xs=new ka("7.5.0"),vI="__angularfire_symbol__analyticsIsSupportedValue",wI="__angularfire_symbol__analyticsIsSupported",bI="__angularfire_symbol__remoteConfigIsSupportedValue",II="__angularfire_symbol__remoteConfigIsSupported",CI="__angularfire_symbol__messagingIsSupportedValue",EI="__angularfire_symbol__messagingIsSupported";globalThis[wI]||(globalThis[wI]=Yee().then(t=>globalThis[vI]=t).catch(()=>globalThis[vI]=!1)),globalThis[EI]||(globalThis[EI]=gF().then(t=>globalThis[CI]=t).catch(()=>globalThis[CI]=!1)),globalThis[II]||(globalThis[II]=RZ().then(t=>globalThis[bI]=t).catch(()=>globalThis[bI]=!1));const Ap={async:()=>globalThis[wI],sync:()=>{const t=globalThis[vI];if(void 0===t)throw new Error((t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`)("Analytics"));return t}};function Pl(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const kl=(t,e)=>{const n=e?[e]:AN(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function yu(){}class RF{constructor(e,n=nte){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class ite{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)),n.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ol=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RF(Zone.current)),this.insideAngular=n.run(()=>new RF(Zone.current,rte)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(k(je))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ao(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function xo(t){return Ao().ngZone.run(()=>t())}function ote(t){return Ao(),function ate(t){return function(n){return(n=n.lift(new ite(t.ngZone))).pipe(fh(t.outsideAngular),hh(t.insideAngular))}}(Ao())(t)}const ute=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xo(()=>t.apply(void 0,r))},Lt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)))),r[s]=ute(r[s],n));const i=function ste(t){return Ao().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof Je){const s=Ao();return i.pipe(fh(s.outsideAngular),hh(s.insideAngular))}return xo(()=>i)}return i instanceof Je?i.pipe(ote):i instanceof Promise?xo(()=>new Promise((s,o)=>i.then(a=>xo(()=>s(a)),a=>xo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:xo(()=>i)};class Ms{constructor(e){return e}}class Nl{constructor(){return AN()}}const TI=new U("angularfire2._apps"),lte={provide:Ms,useFactory:function cte(t){return t&&1===t.length?t[0]:new Ms(Al())},deps:[[new ft,TI]]},dte={provide:Nl,deps:[[new ft,TI]]};function hte(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ms(r)}}let fte=(()=>{class t{constructor(n){ze("angularfire",xs.full,"core"),ze("angularfire",xs.full,"app"),ze("angular",oM.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(k(Yc))},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[lte,dte]}),t})();function pte(t,...e){return{ngModule:fte,providers:[{provide:TI,useFactory:hte(t),multi:!0,deps:[je,cn,Ol,...e]}]}}const gte=Lt(SN,!0),SI=new Map,PF={activated:!1,tokenObservers:[]},mte={initialized:!1,enabled:!1};function pn(t){return SI.get(t)||Object.assign({},PF)}function xp(){return mte}const AI="https://content-firebaseappcheck.googleapis.com/v1",wte="exchangeDebugToken",kF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ite{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new yp,yield function Cte(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new yp,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Vn=new fi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MI(t,e){return RI.apply(this,arguments)}function RI(){return(RI=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Vn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Vn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Vn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}const Ate="firebase-app-check-database",xte=1,Fl="firebase-app-check-store";let Pp=null;function LF(t,e){return PI.apply(this,arguments)}function PI(){return(PI=g(function*(t,e){const r=(yield function FF(){return Pp||(Pp=new Promise((t,e)=>{try{const n=indexedDB.open(Ate,xte);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fl,{keyPath:"compositeKey"})}}catch(n){e(Vn.create("storage-open",{originalErrorMessage:n?.message}))}}),Pp)}()).transaction(Fl,"readwrite"),s=r.objectStore(Fl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Vn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ll=new fu("@firebase/app-check");function NI(t,e){return vo()?function Rte(t,e){return LF(function UF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ll.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $F(){return LI.apply(this,arguments)}function LI(){return(LI=g(function*(){const t=xp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lte={error:"UNKNOWN_ERROR"};function Vte(t){return Tw.encodeString(JSON.stringify(t),!1)}function kp(t){return VI.apply(this,arguments)}function VI(){return(VI=g(function*(t,e=!1){const n=t.app;!function OF(t){if(!pn(t).activated)throw Vn.create("use-before-activation",{appName:t.name})}(n);const r=pn(n);let s,i=r.token;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(_u(u)?i=u:yield NI(n,void 0))}if(!e&&i&&_u(i))return{token:i.token};let a,o=!1;if(function BF(){return xp().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MI(function Ste(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${AI}/projects/${n}/apps/${r}:${wte}?key=${i}`,body:{debug_token:e}}}(n,yield $F()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield NI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield pn(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ll.warn(u.message):Ll.error(u),s=u}return i?s?a=_u(i)?{token:i.token,internalError:s}:zF(s):(a={token:i.token},r.token=i,yield NI(n,i)):a=zF(s),o&&function HF(t,e){const n=pn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function BI(t,e){const n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function jF(t){const{app:e}=t,n=pn(e);let r=n.tokenRefresher;r||(r=function Ute(t){const{app:e}=t;return new Ite(g(function*(){let r;if(r=pn(e).token?yield kp(t,!0):yield kp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kF.RETRIAL_MIN_WAIT,kF.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _u(t){return t.expireTimeMillis-Date.now()>0}function zF(t){return{token:Vte(Lte),error:t}}class Bte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=pn(this.app);for(const n of e)BI(this.app,n.next);return Promise.resolve()}}const JF="app-check-internal";!function ene(){Tn(new hn("app-check",t=>function $te(t,e){return new Bte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(JF).initialize()})),Tn(new hn(JF,t=>function jte(t){return{getToken:e=>kp(t,e),addTokenListener:e=>function UI(t,e,n,r){const{app:i}=t,s=pn(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&_u(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),jF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>jF(t))}(t,"INTERNAL",e),removeTokenListener:e=>BI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ze("@firebase/app-check","0.6.4")}();class Np{constructor(){return kl("app-check")}}typeof window<"u"&&window;const sne=function eL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tL=new fi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nL=new fu("@firebase/auth");function Fp(t,...e){nL.logLevel<=Oe.ERROR&&nL.error(`Auth (${Co}): ${t}`,...e)}function er(t,...e){throw GI(t,...e)}function yr(t,...e){return GI(t,...e)}function rL(t,e,n){const r=Object.assign(Object.assign({},sne()),{[e]:n});return new fi("auth","Firebase",r).create(e,{appName:t.name})}function GI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tL.create(t,...e)}function P(t,e,...n){if(!t)throw GI(e,...n)}function pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function Zi(t,e){t||pi(e)}const iL=new Map;function es(t){Zi(t instanceof Function,"Expected a class definition");let e=iL.get(t);return e?(Zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iL.set(t,e),e)}function Vl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function sL(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=function eX(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}()||function tX(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function une(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qI(){return"http:"===sL()||"https:"===sL()}()||Sw()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function WI(t,e){Zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class oL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dne=new Ul(3e4,6e4);function mt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Tt(t,e,n,r){return KI.apply(this,arguments)}function KI(){return(KI=g(function*(t,e,n,r,i={}){return aL(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Dl(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oL.fetch()(uL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function aL(t,e,n){return QI.apply(this,arguments)}function QI(){return(QI=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lne),e);try{const i=new hne(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Bl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Bl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Bl(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Bl(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rL(t,l,c);er(t,l)}}catch(i){if(i instanceof mr)throw i;er(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ts(t,e,n,r){return YI.apply(this,arguments)}function YI(){return(YI=g(function*(t,e,n,r,i={}){const s=yield Tt(t,e,n,r,i);return"mfaPendingCredential"in s&&er(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function uL(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?WI(t.config,i):`${t.config.apiScheme}://${i}`}class hne{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),dne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}function XI(){return(XI=g(function*(t,e){return Tt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function ZI(){return(ZI=g(function*(t,e){return Tt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function $l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function eC(){return(eC=g(function*(t,e=!1){const n=We(t),r=yield n.getIdToken(e),i=Lp(r);P(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:$l(tC(i.auth_time)),issuedAtTime:$l(tC(i.iat)),expirationTime:$l(tC(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function tC(t){return 1e3*Number(t)}function Lp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=gp(n);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ns(t,e){return nC.apply(this,arguments)}function nC(){return(nC=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof mr&&function _ne({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class vne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class cL{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jl(t){return rC.apply(this,arguments)}function rC(){return rC=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ns(t,function gne(t,e){return ZI.apply(this,arguments)}(n,{idToken:r}));P(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Ine(t){return t.map(e=>{var{providerId:n}=e,r=Bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function bne(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cL(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),rC.apply(this,arguments)}function iC(){return(iC=g(function*(t){const e=We(t);yield jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function sC(){return(sC=g(function*(t,e){const n=yield aL(t,{},g(function*(){const r=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uL(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oL.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){P(e.idToken,"internal-error"),P(typeof e.idToken<"u","internal-error"),P(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function yne(t){const e=Lp(t);return P(e,"internal-error"),P(typeof e.exp<"u","internal-error"),P(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return P(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Cne(t,e){return sC.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hl;return r&&(P("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(P("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(P("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hl,this.toJSON())}_performRefresh(){return pi("not implemented")}}function Rs(t,e){P("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Mo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cL(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield ns(n,n.stsTokenManager.getToken(n.auth,e));return P(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function mne(t){return eC.apply(this,arguments)}(this,e)}reload(){return function wne(t){return iC.apply(this,arguments)}(this)}_assign(e){this!==e&&(P(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield jl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield ns(e,function fne(t,e){return XI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,_=null!==(c=n.createdAt)&&void 0!==c?c:void 0,C=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:M,isAnonymous:q,providerData:K,stsTokenManager:Rt}=n;P(v&&Rt,e,"internal-error");const Rn=Hl.fromJSON(this.name,Rt);P("string"==typeof v,e,"internal-error"),Rs(d,e.name),Rs(h,e.name),P("boolean"==typeof M,e,"internal-error"),P("boolean"==typeof q,e,"internal-error"),Rs(f,e.name),Rs(p,e.name),Rs(m,e.name),Rs(y,e.name),Rs(_,e.name),Rs(C,e.name);const ca=new Mo({uid:v,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:q,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Rn,createdAt:_,lastLoginAt:C});return K&&Array.isArray(K)&&(ca.providerData=K.map(Ufe=>Object.assign({},Ufe))),y&&(ca._redirectEventId=y),ca}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new Hl;i.updateFromServerResponse(n);const s=new Mo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jl(s),s})()}}const lL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Vp(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Vp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Mo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new wu(es(lL),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||es(lL);const o=Vp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Mo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new wu(s,e,r)):new wu(s,e,r)})()}}function dL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mL(e))return"Blackberry";if(yL(e))return"Webos";if(oC(e))return"Safari";if((e.includes("chrome/")||fL(e))&&!e.includes("edge/"))return"Chrome";if(gL(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function hL(t=Yt()){return/firefox\//i.test(t)}function oC(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fL(t=Yt()){return/crios\//i.test(t)}function pL(t=Yt()){return/iemobile/i.test(t)}function gL(t=Yt()){return/android/i.test(t)}function mL(t=Yt()){return/blackberry/i.test(t)}function yL(t=Yt()){return/webos/i.test(t)}function Up(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _L(t=Yt()){return Up(t)||gL(t)||yL(t)||mL(t)||/windows phone/i.test(t)||pL(t)}function vL(t,e=[]){let n;switch(t){case"Browser":n=dL(Yt());break;case"Worker":n=`${dL(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}class Sne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ane{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wL(this),this.idTokenSubscription=new wL(this),this.beforeStateQueue=new Sne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tL,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield wu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return P(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield jl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cne(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?We(e):null;return r&&P(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&P(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(es(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&es(e)||n._popupRedirectResolver;P(r,n,"argument-error"),n.redirectPersistenceManager=yield wu.create(n,[es(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return P(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function tr(t){return We(t)}class wL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function aX(t,e){const n=new uX(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class aC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}function EL(t,e){return cC.apply(this,arguments)}function cC(){return(cC=g(function*(t,e){return Tt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function dC(){return(dC=g(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithPassword",mt(t,e))})).apply(this,arguments)}function yC(){return(yC=g(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}function _C(){return(_C=g(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",mt(t,e))})).apply(this,arguments)}class zl extends aC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function kne(t,e){return dC.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function Vne(t,e){return yC.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:er(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return EL(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Une(t,e){return _C.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:er(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function rs(t,e){return vC.apply(this,arguments)}function vC(){return(vC=g(function*(t,e){return ts(t,"POST","/v1/accounts:signInWithIdp",mt(t,e))})).apply(this,arguments)}class bu extends aC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Bm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new bu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return rs(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dl(n)}return e}}class ql{constructor(e){var n,r,i,s,o,a;const u=Tl(Sl(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function qne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);P(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Wne(t){const e=Tl(Sl(t)).link,n=e?Tl(Sl(e)).deep_link_id:null,r=Tl(Sl(t)).deep_link_id;return(r?Tl(Sl(r)).link:null)||r||n||e||t}(e);try{return new ql(n)}catch{return null}}}let DL=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return zl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=ql.parseLink(r);return P(i,"argument-error"),zl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class TL extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Kne=(()=>{class t extends TL{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return bu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();function SL(t,e){return DC.apply(this,arguments)}function DC(){return(DC=g(function*(t,e){return ts(t,"POST","/v1/accounts:signUp",mt(t,e))})).apply(this,arguments)}class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield Mo._fromIdTokenResponse(e,r,i),o=AL(r);return new kr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=AL(r);return new kr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function AL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class jp extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jp(e,n,r,i)}}function xL(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?jp._fromErrorAndOperation(t,s,e,r):s})}function AC(t,e){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(t,e,n=!1){const r=yield ns(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kr._forOperation(t,"link",r)})).apply(this,arguments)}function RL(t,e){return RC.apply(this,arguments)}function RC(){return(RC=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield ns(t,xL(r,i,e,t),n);P(s.idToken,r,"internal-error");const o=Lp(s.idToken);P(o,r,"internal-error");const{sub:a}=o;return P(t.uid===a,r,"user-mismatch"),kr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&er(r,"user-mismatch"),s}})).apply(this,arguments)}function PL(t,e){return PC.apply(this,arguments)}function PC(){return(PC=g(function*(t,e,n=!1){const r="signIn",i=yield xL(t,r,e),s=yield kr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function kC(t,e){return OC.apply(this,arguments)}function OC(){return(OC=g(function*(t,e){return PL(tr(t),e)})).apply(this,arguments)}function tre(t,e,n){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(t,e,n){const r=tr(t),i=yield SL(r,{returnSecureToken:!0,email:e,password:n}),s=yield kr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function nre(t,e,n){return kC(We(t),DL.credential(e,n))}function fre(t){return We(t).signOut()}const Gp="__sak";class OL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bre=(()=>{class t extends OL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _re(){const t=Yt();return oC(t)||Up(t)}()&&function Tne(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_L(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Dne(){return function nX(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),NL=(()=>{class t extends OL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Cre=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Ire(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ere{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=qp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ht(){return window}function uE(){return typeof Ht().WorkerGlobalScope<"u"&&"function"==typeof Ht().importScripts}function cE(){return(cE=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const FL="firebaseLocalStorageDb",xre=1,Wp="firebaseLocalStorage",LL="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([Wp],e?"readwrite":"readonly").objectStore(Wp)}function lE(){const t=indexedDB.open(FL,xre);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wp,{keyPath:LL})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Wp)?e(r):(r.close(),yield function Mre(){const t=indexedDB.deleteDatabase(FL);return new Kl(t).toPromise()}(),e(yield lE()))}))})}function VL(t,e,n){return dE.apply(this,arguments)}function dE(){return(dE=g(function*(t,e,n){const r=Kp(t,!0).put({[LL]:e,value:n});return new Kl(r).toPromise()})).apply(this,arguments)}function hE(){return(hE=g(function*(t,e){const n=Kp(t,!1).get(e),r=yield new Kl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function UL(t,e){const n=Kp(t,!0).delete(e);return new Kl(n).toPromise()}const Ore=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield lE()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return uE()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Cre._getInstance(function Are(){return uE()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Tre(){return cE.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ere(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Sre(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield lE();return yield VL(n,Gp,"1"),yield UL(n,Gp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>VL(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Rre(t,e){return hE.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>UL(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=Kp(o,!1).getAll();return new Kl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function $L(t){return`__${t}${Math.floor(1e6*Math.random())}`}function Po(t,e){return e?es(e):(P(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}$L("rcb"),new Ul(3e4,6e4);class IE extends aC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jre(t){return PL(t.auth,new IE(t),t.bypassAuthState)}function Zre(t){const{auth:e,user:n}=t;return P(n,e,"internal-error"),RL(n,new IE(t),t.bypassAuthState)}function eie(t){return CE.apply(this,arguments)}function CE(){return(CE=g(function*(t){const{auth:e,user:n}=t;return P(n,e,"internal-error"),AC(n,new IE(t),t.bypassAuthState)})).apply(this,arguments)}class HL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jre;case"linkViaPopup":case"linkViaRedirect":return eie;case"reauthViaPopup":case"reauthViaRedirect":return Zre;default:er(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tie=new Ul(2e3,1e4);function nie(t,e,n){return EE.apply(this,arguments)}function EE(){return(EE=g(function*(t,e,n){const r=tr(t);!function vu(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&er(t,"argument-error"),rL(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,e,Ps);const i=Po(r,n);return new SE(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let SE=(()=>{class t extends HL{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return P(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Zi(1===n.filter.length,"Popup operations only handle one event");const r=qp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(yr(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,tie.get())};n()}}return t.currentPopupAction=null,t})();const rie="pendingRedirect",Ql=new Map;class iie extends HL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=Ql.get(n.auth._key());if(!r){try{const s=(yield function sie(t,e){return AE.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ql.set(n.auth._key(),r)}return n.bypassAuthState||Ql.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function AE(){return(AE=g(function*(t,e){const n=function GL(t){return Vp(rie,t.config.apiKey,t.name)}(e),r=function zL(t){return es(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function oie(t,e){Ql.set(t._key(),e)}function qL(t,e){return NE.apply(this,arguments)}function NE(){return(NE=g(function*(t,e,n=!1){const r=tr(t),i=Po(r,e),o=yield new iie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class die{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function hie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QL(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KL(e))}saveEventToCache(e){this.cachedEventUids.add(KL(e)),this.lastProcessedEventTime=Date.now()}}function KL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QL({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function LE(){return(LE=g(function*(t,e={}){return Tt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const pie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gie=/^https?/;function VE(){return VE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function fie(t){return LE.apply(this,arguments)}(t);for(const n of e)try{if(yie(n))return}catch{}er(t,"unauthorized-domain")}),VE.apply(this,arguments)}function yie(t){const e=Vl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!gie.test(n))return!1;if(pie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _ie=new Ul(3e4,6e4);function YL(){const t=Ht().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Yp=null;function wie(t){return Yp=Yp||function vie(t){return new Promise((e,n)=>{var r,i,s;function o(){YL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YL(),n(yr(t,"network-request-failed"))},timeout:_ie.get()})}if(null!==(i=null===(r=Ht().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ht().gapi)||void 0===s||!s.load){const a=$L("iframefcb");return Ht()[a]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},function BL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Ure(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Yp=null,e})}(t),Yp}const bie=new Ul(5e3,15e3),Iie="__/auth/iframe",Cie="emulator/auth/iframe",Eie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Die=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tie(t){const e=t.config;P(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WI(e,Cie):`https://${t.config.authDomain}/${Iie}`,r={apiKey:e.apiKey,appName:t.name,v:Co},i=Die.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Dl(r).slice(1)}`}function UE(){return UE=g(function*(t){const e=yield wie(t),n=Ht().gapi;return P(n,t,"internal-error"),e.open({where:document.body,url:Tie(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eie,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=yr(t,"network-request-failed"),u=Ht().setTimeout(()=>{o(a)},bie.get());function c(){Ht().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),UE.apply(this,arguments)}const Aie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xie=500,Mie=600,Rie="_blank",Pie="http://localhost";class XL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Nie="__/auth/handler",Fie="emulator/auth/handler";function JL(t,e,n,r,i,s){P(t.config.authDomain,t,"auth-domain-config-required"),P(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Co,eventId:i};if(e instanceof Ps){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function oX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof TL){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function Lie({config:t}){return t.emulator?WI(t,Fie):`https://${t.authDomain}/${Nie}`}(t)}?${Dl(a).slice(1)}`}const BE="webStorageSupport",Uie=class Vie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NL,this._completeRedirectFn=qL,this._overrideRedirectResult=oie}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Zi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=JL(e,n,r,Vl(),i);return function kie(t,e,n,r=xie,i=Mie){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Aie),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Yt().toLowerCase();n&&(a=fL(c)?Rie:n),hL(c)&&(e=e||Pie,u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Ene(t=Yt()){var e;return Up(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Oie(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new XL(null);const d=window.open(e||"",a,l);P(d,t,"popup-blocked");try{d.focus()}catch{}return new XL(d)}(e,a,qp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Dre(t){Ht().location.href=t}(JL(e,n,r,Vl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Sie(t){return UE.apply(this,arguments)}(e),i=new die(e);return r.register("authEvent",s=>(P(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(BE,{type:BE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[BE];void 0!==o&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function mie(t){return VE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _L()||oC()||Up()}};var tV="@firebase/auth";class Bie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zie=gN("authIdTokenMaxAge")||300;let rV=null;const Gie=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>zie)return;const s=r?.token;rV!==s&&(rV=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function qie(t=Al()){const e=Wi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function one(t,e){const n=Wi(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(El(n.getOptions(),e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Uie,persistence:[Ore,bre,NL]}),r=gN("authTokenSyncURL");if(r){const s=Gie(r);(function dre(t,e,n){We(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function lre(t,e,n,r){We(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=fN("auth");return i&&function xne(t,e,n){const r=tr(t);P(r._canInitEmulator,r,"emulator-config-failed"),P(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=bL(e),{host:o,port:a}=function Mne(t){const e=bL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IL(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:IL(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Rne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Wie(t){return new Je(function(e){var n=function hre(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function jie(t){Tn(new hn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{P(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),P(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vL(t)},l=new Ane(a,u,c);return function ane(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new hn("auth-internal",e=>{const n=tr(e.getProvider("auth").getImmediate());return new Bie(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(tV,"0.22.0",function $ie(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ze(tV,"0.22.0","esm2017")}("Browser");class Iu{constructor(e){return e}}class jE{constructor(){return kl("auth")}}const HE=new U("angularfire2.auth-instances");function Yie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Iu(r)}}const Xie={provide:jE,deps:[[new ft,HE]]},Jie={provide:Iu,useFactory:function Qie(t,e){const n=Pl("auth",t,e);return n&&new Iu(n)},deps:[[new ft,HE],Ms]};let Zie=(()=>{class t{constructor(){ze("angularfire",xs.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[Jie,Xie]}),t})();function ese(t,...e){return{ngModule:Zie,providers:[{provide:HE,useFactory:Yie(t),multi:!0,deps:[je,cn,Ol,Nl,[new ft,Np],...e]}]}}const sV=Lt(Wie,!0),tse=Lt(tre,!0),nse=Lt(qie,!0),rse=Lt(nre,!0),ise=Lt(nie,!0),sse=Lt(fre,!0);var H,ose=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},is={},zE=zE||{},ue=ose||self;function Jp(){}function Zp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Yl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GE="closure_uid_"+(1e9*Math.random()>>>0),use=0;function cse(t,e,n){return t.call.apply(t.bind,arguments)}function lse(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Sn(t,e,n){return(Sn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cse:lse).apply(null,arguments)}function eg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function gn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}ks.prototype.s=!1,ks.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ase(t){Object.prototype.hasOwnProperty.call(t,GE)&&t[GE]||(t[GE]=++use)}(this)},ks.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oV=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aV(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Zp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var hse=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ue.addEventListener("test",Jp,e),ue.removeEventListener("test",Jp,e)}catch{}return t}();function tg(t){return/^[\s\xa0]*$/.test(t)}var uV=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function WE(t,e){return t<e?-1:t>e?1:0}function ng(){var t=ue.navigator;return t&&(t=t.userAgent)?t:""}function gi(t){return-1!=ng().indexOf(t)}function KE(t){return KE[" "](t),t}KE[" "]=Jp;var rg,t,pse=gi("Opera"),Cu=gi("Trident")||gi("MSIE"),cV=gi("Edge"),QE=cV||Cu,lV=gi("Gecko")&&!(-1!=ng().toLowerCase().indexOf("webkit")&&!gi("Edge"))&&!(gi("Trident")||gi("MSIE"))&&!gi("Edge"),gse=-1!=ng().toLowerCase().indexOf("webkit")&&!gi("Edge");function dV(){var t=ue.document;return t?t.documentMode:void 0}e:{var YE="",XE=(t=ng(),lV?/rv:([^\);]+)(\)|;)/.exec(t):cV?/Edge\/([\d\.]+)/.exec(t):Cu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):gse?/WebKit\/(\S+)/.exec(t):pse?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(XE&&(YE=XE?XE[1]:""),Cu){var JE=dV();if(null!=JE&&JE>parseFloat(YE)){rg=String(JE);break e}}rg=YE}var mse={};var _se=ue.document&&Cu&&(dV()||parseInt(rg,10))||void 0;function Xl(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lV){e:{try{KE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vse[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xl.X.h.call(this)}}gn(Xl,An);var vse={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jl="closure_listenable_"+(1e6*Math.random()|0),wse=0;function bse(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++wse,this.ba=this.ea=!1}function ig(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function eD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fV(t){const e={};for(const n in t)e[n]=t[n];return e}const pV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gV(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<pV.length;s++)n=pV[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function sg(t){this.src=t,this.g={},this.h=0}function tD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=oV(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ig(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function nD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}sg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=nD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new bse(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var rD="closure_lm_"+(1e6*Math.random()|0),iD={};function mV(t,e,n,r,i){if(r&&r.once)return _V(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mV(t,e[s],n,r,i);return null}return n=uD(n),t&&t[Jl]?t.N(e,n,Yl(r)?!!r.capture:!!r,i):yV(t,e,n,!1,r,i)}function yV(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Yl(i)?!!i.capture:!!i,a=oD(t);if(a||(t[rD]=a=new sg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ise(){const e=Cse;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hse||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wV(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _V(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_V(t,e[s],n,r,i);return null}return n=uD(n),t&&t[Jl]?t.O(e,n,Yl(r)?!!r.capture:!!r,i):yV(t,e,n,!0,r,i)}function vV(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vV(t,e[s],n,r,i);else r=Yl(r)?!!r.capture:!!r,n=uD(n),t&&t[Jl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=nD(s=t.g[e],n,r,i))&&(ig(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=oD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nD(e,n,r,i)),(n=-1<t?e[t]:null)&&sD(n))}function sD(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Jl])tD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wV(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=oD(e))?(tD(n,t),0==n.h&&(n.src=null,e[rD]=null)):ig(t)}}}function wV(t){return t in iD?iD[t]:iD[t]="on"+t}function Cse(t,e){if(t.ba)t=!0;else{e=new Xl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&sD(t),t=n.call(r,e)}return t}function oD(t){return(t=t[rD])instanceof sg?t:null}var aD="__closure_events_fn_"+(1e9*Math.random()>>>0);function uD(t){return"function"==typeof t?t:(t[aD]||(t[aD]=function(e){return t.handleEvent(e)}),t[aD])}function Jt(){ks.call(this),this.i=new sg(this),this.P=this,this.I=null}function mn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var i=e;gV(e=new An(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=og(o,r,!0,e)&&i}if(i=og(o=e.g=t,r,!0,e)&&i,i=og(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=og(o=e.g=n[s],r,!1,e)&&i}function og(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&tD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}gn(Jt,ks),Jt.prototype[Jl]=!0,Jt.prototype.removeEventListener=function(t,e,n,r){vV(this,t,e,n,r)},Jt.prototype.M=function(){if(Jt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ig(n[r]);delete t.g[e],t.h--}}this.I=null},Jt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Jt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cD=ue.JSON.stringify;function Ese(){var t=CV;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var lD,bV=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Tse,t=>t.reset());class Tse{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Sse(t){ue.setTimeout(()=>{throw t},0)}function IV(t,e){lD||function Ase(){var t=ue.Promise.resolve(void 0);lD=function(){t.then(xse)}}(),dD||(lD(),dD=!0),CV.add(t,e)}var dD=!1,CV=new class Dse{constructor(){this.h=this.g=null}add(e,n){const r=bV.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function xse(){for(var t;t=Ese();){try{t.h.call(t.g)}catch(n){Sse(n)}var e=bV;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dD=!1}function ag(t,e){Jt.call(this),this.h=t||1,this.g=e||ue,this.j=Sn(this.lb,this),this.l=Date.now()}function hD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function fD(t,e,n){if("function"==typeof t)n&&(t=Sn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Sn(t.handleEvent,t)}return 2147483647<Number(e)?-1:ue.setTimeout(t,e||0)}function EV(t){t.g=fD(()=>{t.g=null,t.i&&(t.i=!1,EV(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}gn(ag,Jt),(H=ag.prototype).ca=!1,H.R=null,H.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),mn(this,"tick"),this.ca&&(hD(this),this.start()))}},H.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},H.M=function(){ag.X.M.call(this),hD(this),delete this.g};class Mse extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:EV(this)}M(){super.M(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(t){ks.call(this),this.h=t,this.g={}}gn(Zl,ks);var DV=[];function TV(t,e,n,r){Array.isArray(n)||(n&&(DV[0]=n.toString()),n=DV);for(var i=0;i<n.length;i++){var s=mV(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function SV(t){eD(t.g,function(e,n){this.g.hasOwnProperty(n)&&sD(e)},t),t.g={}}function ug(){this.g=!0}function Eu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ose(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return cD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Zl.prototype.M=function(){Zl.X.M.call(this),SV(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ug.prototype.Aa=function(){this.g=!1},ug.prototype.info=function(){};var ko={},AV=null;function cg(){return AV=AV||new Jt}function xV(t){An.call(this,ko.Pa,t)}function ed(t){const e=cg();mn(e,new xV(e))}function MV(t,e){An.call(this,ko.STAT_EVENT,t),this.stat=e}function Un(t){const e=cg();mn(e,new MV(e,t))}function RV(t,e){An.call(this,ko.Qa,t),this.size=e}function td(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){t()},e)}ko.Pa="serverreachability",gn(xV,An),ko.STAT_EVENT="statevent",gn(MV,An),ko.Qa="timingevent",gn(RV,An);var lg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},PV={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pD(){}function OV(){}pD.prototype.h=null;var yD,nd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gD(){An.call(this,"d")}function mD(){An.call(this,"c")}function dg(){}function rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Zl(this),this.O=Nse,this.T=new ag(t=QE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new NV}function NV(){this.i=null,this.g="",this.h=!1}gn(gD,An),gn(mD,An),gn(dg,pD),dg.prototype.g=function(){return new XMLHttpRequest},dg.prototype.i=function(){return{}},yD=new dg;var Nse=45e3,_D={},hg={};function vD(t,e,n){t.K=1,t.v=mg(ss(e)),t.s=n,t.P=!0,FV(t,null)}function FV(t,e){t.F=Date.now(),id(t),t.A=ss(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),qV(n.i,"t",r),t.C=0,n=t.l.H,t.h=new NV,t.g=m2(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Mse(Sn(t.La,t,t.g),t.N)),TV(t.S,t.g,"readystatechange",t.ib),e=t.H?fV(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ed(),function Rse(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function LV(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function VV(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Fse(t,n),i==hg){4==e&&(t.o=4,Un(14),r=!1),Eu(t.j,t.m,null,"[Incomplete Response]");break}if(i==_D){t.o=4,Un(15),Eu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Eu(t.j,t.m,i,null),wD(t,i)}LV(t)&&i!=hg&&i!=_D&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),AD(e),e.K=!0,Un(11))):(Eu(t.j,t.m,n,"[Invalid Chunked Response]"),Oo(t),sd(t))}function Fse(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?hg:(n=Number(e.substring(n,r)),isNaN(n)?_D:(r+=1)+n>e.length?hg:(e=e.substr(r,n),t.C=r+n,e))}function id(t){t.V=Date.now()+t.O,UV(t,t.O)}function UV(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=td(Sn(t.gb,t),e)}function fg(t){t.B&&(ue.clearTimeout(t.B),t.B=null)}function sd(t){0==t.l.G||t.I||h2(t.l,t)}function Oo(t){fg(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,hD(t.T),SV(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function wD(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||bD(n.h,t)))if(!t.J&&bD(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Ig(n),wg(n)}SD(n),Un(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=td(Sn(n.cb,n),6e3));if(1>=QV(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Fo(n,11)}else if((t.J||n.g==t)&&Ig(n),!tg(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ID(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,st(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=g2(r,r.H?r.ka:null,r.V),o.J){YV(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(fg(a),id(a)),r.g=o}else l2(r);0<n.i.length&&bg(n)}else"stop"!=c[0]&&"close"!=c[0]||Fo(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fo(n,7):TD(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}ed()}catch{}}function BV(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Vse(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Zp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Lse(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Zp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(H=rd.prototype).setTimeout=function(t){this.O=t},H.ib=function(t){t=t.target;const e=this.L;e&&3==os(t)?e.l():this.La(t)},H.La=function(t){try{if(t==this.g)e:{const l=os(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||QE||this.g&&(this.h.h||this.g.fa()||i2(this.g)))){this.I||4!=l||7==e||ed(),fg(this);var n=this.g.aa();this.Y=n;t:if(LV(this)){var r=i2(this.g);t="";var i=r.length,s=4==os(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oo(this),sd(this);var o="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Pse(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Un(12),Oo(this),sd(this);break e}Eu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wD(this,n)}this.P?(VV(this,l,o),QE&&this.i&&3==l&&(TV(this.S,this.T,"tick",this.hb),this.T.start())):(Eu(this.j,this.m,o,null),wD(this,o)),4==l&&Oo(this),this.i&&!this.I&&(4==l?h2(this.l,this):(this.i=!1,id(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),Oo(this),sd(this)}}}catch{}},H.hb=function(){if(this.g){var t=os(this.g),e=this.g.fa();this.C<e.length&&(fg(this),VV(this,t,e),this.i&&4!=t&&id(this))}},H.cancel=function(){this.I=!0,Oo(this)},H.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function kse(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ed(),Un(17)),Oo(this),this.o=2,sd(this)):UV(this,this.V-t)};var $V=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function No(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof No){this.h=void 0!==e?e:t.h,pg(this,t.j),this.s=t.s,this.g=t.g,gg(this,t.m),this.l=t.l,e=t.i;var n=new ud;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jV(this,n),this.o=t.o}else t&&(n=String(t).match($V))?(this.h=!!e,pg(this,n[1]||"",!0),this.s=od(n[2]||""),this.g=od(n[3]||"",!0),gg(this,n[4]),this.l=od(n[5]||"",!0),jV(this,n[6]||"",!0),this.o=od(n[7]||"")):(this.h=!!e,this.i=new ud(null,this.h))}function ss(t){return new No(t)}function pg(t,e,n){t.j=n?od(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function gg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jV(t,e,n){e instanceof ud?(t.i=e,function Gse(t,e){e&&!t.j&&(Os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zV(this,r),qV(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ad(e,Hse)),t.i=new ud(e,t.h))}function st(t,e,n){t.i.set(e,n)}function mg(t){return st(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function od(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ad(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bse),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bse(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}No.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ad(e,HV,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ad(e,HV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ad(n,"/"==n.charAt(0)?jse:$se,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ad(n,zse)),t.join("")};var HV=/[#\/\?@]/g,$se=/[#\?:]/g,jse=/[#\?]/g,Hse=/[#\?@]/g,zse=/#/g;function ud(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Os(t){t.g||(t.g=new Map,t.h=0,t.i&&function Use(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zV(t,e){Os(t),e=Du(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GV(t,e){return Os(t),e=Du(t,e),t.g.has(e)}function qV(t,e,n){zV(t,e),0<n.length&&(t.i=null,t.g.set(Du(t,e),qE(n)),t.h+=n.length)}function Du(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WV(t){this.l=t||Wse,t=ue.PerformanceNavigationTiming?0<(t=ue.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ue.g&&ue.g.Ga&&ue.g.Ga()&&ue.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(H=ud.prototype).add=function(t,e){Os(this),this.i=null,t=Du(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},H.forEach=function(t,e){Os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},H.oa=function(){Os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},H.W=function(t){Os(this);let e=[];if("string"==typeof t)GV(this,t)&&(e=e.concat(this.g.get(Du(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},H.set=function(t,e){return Os(this),this.i=null,GV(this,t=Du(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},H.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Wse=10;function KV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function QV(t){return t.h?1:t.g?t.g.size:0}function bD(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ID(t,e){t.g?t.g.add(e):t.h=e}function YV(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function XV(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return qE(t.i)}function CD(){}function Kse(){this.g=new CD}function Qse(t,e,n){const r=n||"";try{BV(t,function(i,s){let o=i;Yl(i)&&(o=cD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cd(t){this.l=t.ac||null,this.j=t.jb||!1}function _g(t,e){Jt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ED,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}WV.prototype.cancel=function(){if(this.i=XV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},CD.prototype.stringify=function(t){return ue.JSON.stringify(t,void 0)},CD.prototype.parse=function(t){return ue.JSON.parse(t,void 0)},gn(cd,pD),cd.prototype.g=function(){return new _g(this.l,this.j)},cd.prototype.i=function(t){return function(){return t}}({}),gn(_g,Jt);var ED=0;function JV(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function ld(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dd(t)}function dd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(H=_g.prototype).open=function(t,e){if(this.readyState!=ED)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dd(this)},H.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ue).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ld(this)),this.readyState=ED},H.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JV(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},H.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ld(this):dd(this),3==this.readyState&&JV(this)}},H.Va=function(t){this.g&&(this.response=this.responseText=t,ld(this))},H.Ua=function(t){this.g&&(this.response=t,ld(this))},H.ga=function(){this.g&&ld(this)},H.setRequestHeader=function(t,e){this.v.append(t,e)},H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Xse=ue.JSON.parse;function yt(t){Jt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZV,this.K=this.L=!1}gn(yt,Jt);var ZV="",Jse=/^https?$/i,Zse=["POST","PUT"];function e2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,t2(t),vg(t)}function t2(t){t.D||(t.D=!0,mn(t,"complete"),mn(t,"error"))}function n2(t){if(t.h&&typeof zE<"u"&&(!t.C[1]||4!=os(t)||2!=t.aa()))if(t.v&&4==os(t))fD(t.Ha,0,t);else if(mn(t,"readystatechange"),4==os(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match($V)[1]||null;if(!i&&ue.self&&ue.self.location){var s=ue.self.location.protocol;i=s.substr(0,s.length-1)}r=!Jse.test(i?i.toLowerCase():"")}n=r}if(n)mn(t,"complete"),mn(t,"success");else{t.m=6;try{var o=2<os(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",t2(t)}}finally{vg(t)}}}function vg(t,e){if(t.g){r2(t);const n=t.g,r=t.C[0]?Jp:null;t.g=null,t.C=null,e||mn(t,"ready");try{n.onreadystatechange=r}catch{}}}function r2(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ue.clearTimeout(t.A),t.A=null)}function os(t){return t.g?t.g.readyState:0}function i2(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ZV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function s2(t){let e="";return eD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function DD(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=s2(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):st(t,e,n))}function hd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function o2(t){this.Ca=0,this.i=[],this.j=new ug,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hd("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hd("baseRetryDelayMs",5e3,t),this.bb=hd("retryDelaySeedMs",1e4,t),this.$a=hd("forwardChannelMaxRetries",2,t),this.ta=hd("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new WV(t&&t.concurrentRequestLimit),this.Fa=new Kse,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function TD(t){if(a2(t),3==t.G){var e=t.U++,n=ss(t.F);st(n,"SID",t.I),st(n,"RID",e),st(n,"TYPE","terminate"),fd(t,n),(e=new rd(t,t.j,e,void 0)).K=2,e.v=mg(ss(n)),n=!1,ue.navigator&&ue.navigator.sendBeacon&&(n=ue.navigator.sendBeacon(e.v.toString(),"")),!n&&ue.Image&&((new Image).src=e.v,n=!0),n||(e.g=m2(e.l,null),e.g.da(e.v)),e.F=Date.now(),id(e)}p2(t)}function wg(t){t.g&&(AD(t),t.g.cancel(),t.g=null)}function a2(t){wg(t),t.u&&(ue.clearTimeout(t.u),t.u=null),Ig(t),t.h.cancel(),t.m&&("number"==typeof t.m&&ue.clearTimeout(t.m),t.m=null)}function bg(t){KV(t.h)||t.m||(t.m=!0,IV(t.Ja,t),t.C=0)}function u2(t,e){var n;n=e?e.m:t.U++;const r=ss(t.F);st(r,"SID",t.I),st(r,"RID",n),st(r,"AID",t.T),fd(t,r),t.o&&t.s&&DD(r,t.o,t.s),n=new rd(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=c2(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ID(t.h,n),vD(n,r,e)}function fd(t,e){t.ia&&eD(t.ia,function(n,r){st(e,r,n)}),t.l&&BV({},function(n,r){st(e,r,n)})}function c2(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Sn(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Qse(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function l2(t){t.g||t.u||(t.Z=1,IV(t.Ia,t),t.A=0)}function SD(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=td(Sn(t.Ia,t),f2(t,t.A)),t.A++,0))}function AD(t){null!=t.B&&(ue.clearTimeout(t.B),t.B=null)}function d2(t){t.g=new rd(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ss(t.sa);st(e,"RID","rpc"),st(e,"SID",t.I),st(e,"CI",t.L?"0":"1"),st(e,"AID",t.T),st(e,"TYPE","xmlhttp"),fd(t,e),t.o&&t.s&&DD(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=mg(ss(e)),n.s=null,n.P=!0,FV(n,t)}function Ig(t){null!=t.v&&(ue.clearTimeout(t.v),t.v=null)}function h2(t,e){var n=null;if(t.g==e){Ig(t),AD(t),t.g=null;var r=2}else{if(!bD(t.h,e))return;n=e.D,YV(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;mn(r=cg(),new RV(r,n)),bg(t)}else l2(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function toe(t,e){return!(QV(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=td(Sn(t.Ja,t,e),f2(t,t.C)),t.C++,0)))}(t,e)||2==r&&SD(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Fo(t,5);break;case 4:Fo(t,10);break;case 3:Fo(t,6);break;default:Fo(t,2)}}function f2(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Fo(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Sn(t.kb,t);n||(n=new No("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||pg(n,"https"),mg(n)),function Yse(t,e){const n=new ug;if(ue.Image){const r=new Image;r.onload=eg(yg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=eg(yg,n,r,"TestLoadImage: error",!1,e),r.onabort=eg(yg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=eg(yg,n,r,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Un(2);t.G=0,t.l&&t.l.va(e),p2(t),a2(t)}function p2(t){if(t.G=0,t.la=[],t.l){const e=XV(t.h);(0!=e.length||0!=t.i.length)&&(aV(t.la,e),aV(t.la,t.i),t.h.i.length=0,qE(t.i),t.i.length=0),t.l.ua()}}function g2(t,e,n){var r=n instanceof No?ss(n):new No(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),gg(r,r.m);else{var i=ue.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new No(null,void 0);r&&pg(s,r),e&&(s.g=e),i&&gg(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&st(r,n,e),st(r,"VER",t.ma),fd(t,r),r}function m2(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yt(n&&t.Da&&!t.ra?new cd({jb:!0}):t.ra)).Ka(t.H),e}function y2(){}function Cg(){if(Cu&&!(10<=Number(_se)))throw Error("Environmental error: no available transport.")}function _r(t,e){Jt.call(this),this.g=new o2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!tg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Tu(this)}function _2(t){gD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function v2(){mD.call(this),this.status=1}function Tu(t){this.g=t}(H=yt.prototype).Ka=function(t){this.L=t},H.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yD.g(),this.C=function kV(t){return t.h||(t.h=t.i())}(this.u?this.u:yD),this.g.onreadystatechange=Sn(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void e2(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ue.FormData&&t instanceof ue.FormData,!(0<=oV(Zse,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r2(this),0<this.B&&((this.K=function eoe(t){return Cu&&function yse(){return function fse(t){var e=mse;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=uV(String(rg)).split("."),n=uV("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=WE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||WE(0==i[2].length,0==s[2].length)||WE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sn(this.qa,this)):this.A=fD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){e2(this,s)}},H.qa=function(){typeof zE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))},H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mn(this,"complete"),mn(this,"abort"),vg(this))},H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vg(this,!0)),yt.X.M.call(this)},H.Ha=function(){this.s||(this.F||this.v||this.l?n2(this):this.fb())},H.fb=function(){n2(this)},H.aa=function(){try{return 2<os(this)?this.g.status:-1}catch{return-1}},H.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},H.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xse(e)}},H.Ea=function(){return this.m},H.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(H=o2.prototype).ma=8,H.G=1,H.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new rd(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=fV(s),gV(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=c2(this,i,e),st(n=ss(this.F),"RID",t),st(n,"CVER",22),this.D&&st(n,"X-HTTP-Session-Id",this.D),fd(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(s2(s)))+"&"+e:this.o&&DD(n,this.o,s)),ID(this.h,i),this.Ya&&st(n,"TYPE","init"),this.O?(st(n,"$req",e),st(n,"SID","null"),i.Z=!0,vD(i,n,null)):vD(i,n,e),this.G=2}}else 3==this.G&&(t?u2(this,t):0==this.i.length||KV(this.h)||u2(this))},H.Ia=function(){if(this.u=null,d2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=td(Sn(this.eb,this),t)}},H.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Un(10),wg(this),d2(this))},H.cb=function(){null!=this.v&&(this.v=null,wg(this),SD(this),Un(19))},H.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))},(H=y2.prototype).xa=function(){},H.wa=function(){},H.va=function(){},H.ua=function(){},H.Ra=function(){},Cg.prototype.g=function(t,e){return new _r(t,e)},gn(_r,Jt),_r.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Un(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=g2(t,null,t.V),bg(t)},_r.prototype.close=function(){TD(this.g)},_r.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=cD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&bg(e)},_r.prototype.M=function(){this.g.l=null,delete this.j,TD(this.g),delete this.g,_r.X.M.call(this)},gn(_2,gD),gn(v2,mD),gn(Tu,y2),Tu.prototype.xa=function(){mn(this.g,"a")},Tu.prototype.wa=function(t){mn(this.g,new _2(t))},Tu.prototype.va=function(t){mn(this.g,new v2)},Tu.prototype.ua=function(){mn(this.g,"b")},Cg.prototype.createWebChannel=Cg.prototype.g,_r.prototype.send=_r.prototype.u,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,lg.NO_ERROR=0,lg.TIMEOUT=8,lg.HTTP_ERROR=6,PV.COMPLETE="complete",OV.EventType=nd,nd.OPEN="a",nd.CLOSE="b",nd.ERROR="c",nd.MESSAGE="d",Jt.prototype.listen=Jt.prototype.N,yt.prototype.listenOnce=yt.prototype.O,yt.prototype.getLastError=yt.prototype.Oa,yt.prototype.getLastErrorCode=yt.prototype.Ea,yt.prototype.getStatus=yt.prototype.aa,yt.prototype.getResponseJson=yt.prototype.Sa,yt.prototype.getResponseText=yt.prototype.fa,yt.prototype.send=yt.prototype.da,yt.prototype.setWithCredentials=yt.prototype.Ka;var noe=is.createWebChannelTransport=function(){return new Cg},roe=is.getStatEventTarget=function(){return cg()},xD=is.ErrorCode=lg,ioe=is.EventType=PV,soe=is.Event=ko,w2=is.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ooe=is.FetchXmlHttpFactory=cd,Eg=is.WebChannel=OV,aoe=is.XhrIo=yt;const b2="@firebase/firestore";class Zt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Su="9.19.0";const Ns=new fu("@firebase/firestore");function MD(){return Ns.logLevel}function A(t,...e){if(Ns.logLevel<=Oe.DEBUG){const n=e.map(RD);Ns.debug(`Firestore (${Su}): ${t}`,...n)}}function St(t,...e){if(Ns.logLevel<=Oe.ERROR){const n=e.map(RD);Ns.error(`Firestore (${Su}): ${t}`,...n)}}function as(t,...e){if(Ns.logLevel<=Oe.WARN){const n=e.map(RD);Ns.warn(`Firestore (${Su}): ${t}`,...n)}}function RD(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function $(t="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+t;throw St(e),new Error(e)}function G(t,e){t||$()}function N(t,e){return t}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class I2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class coe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class loe{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new I2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Zt(e)}}class doe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class hoe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new doe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class foe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),this.T=n.token,new C2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function poe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class E2{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=poe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Au(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new ct(0,0))}static max(){return new W(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pd{constructor(e,n,r){void 0===n?n=0:n>e.length&&$(),void 0===r?r=e.length-n:r>e.length-n&&$(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===pd.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends pd{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const goe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends pd{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return goe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}class O{constructor(e){this.path=e}static fromPath(e){return new O(Ne.fromString(e))}static fromName(e){return new O(Ne.fromString(e).popFirst(5))}static empty(){return new O(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new O(new Ne(e.slice()))}}function S2(t){return new vr(t.readTime,t.key,-1)}class vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vr(W.min(),O.empty(),-1)}static max(){return new vr(W.max(),O.empty(),-1)}}function kD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=O.comparator(t.documentKey,e.documentKey),0!==n?n:ce(t.largestBatchId,e.largestBatchId))}const A2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _oe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fs(t){return OD.apply(this,arguments)}function OD(){return OD=g(function*(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==A2)throw t;A("LocalStore","Unexpectedly lost primary lease")}),OD.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new w((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Ls(t){return"IndexedDbTransactionError"===t.name}let wr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function yd(t){return null==t}function _d(t){return 0===t&&1/t==-1/0}function L2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xg(this.root,e,this.comparator,!0)}}class xg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=s??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1,yn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(t,e,n,r,i){return this}insert(t,e,n){return new yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ge{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U2(this.data.getIterator())}getIteratorFrom(e){return new U2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ge)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ge(this.comparator);return n.data=e,n}}class U2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class nr{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Ge(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Au(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class $oe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $oe("Invalid base64 string: "+i):i}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const joe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(G(!!t),"string"==typeof t){let e=0;const n=joe.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Bo(t){return"string"==typeof t?Gt.fromBase64String(t):Gt.fromUint8Array(t)}function LD(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function B2(t){const e=t.mapValue.fields.__previous_value__;return LD(e)?B2(e):e}function vd(t){const e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}class Hoe{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class $o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $o("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $o&&e.projectId===this.projectId&&e.database===this.database}}const Us={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LD(t)?4:z2(t)?9007199254740991:10:$()}function yi(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vd(t).isEqual(vd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Vs(r.timestampValue),o=Vs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Bo(t.bytesValue).isEqual(Bo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return vt(r.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(r.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return vt(r.integerValue)===vt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=vt(r.doubleValue),o=vt(i.doubleValue);return s===o?_d(s)===_d(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Au(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(L2(s)!==L2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!yi(s[a],o[a])))return!1;return!0}(t,e);default:return $()}var i}function wd(t,e){return void 0!==(t.values||[]).find(n=>yi(n,e))}function Bs(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=vt(i.integerValue||i.doubleValue),a=vt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return $2(t.timestampValue,e.timestampValue);case 4:return $2(vd(t),vd(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Bo(i),a=Bo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ce(o[u],a[u]);if(0!==c)return c}return ce(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(vt(i.latitude),vt(s.latitude));return 0!==o?o:ce(vt(i.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Bs(o[u],a[u]);if(c)return c}return ce(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Us.mapValue&&s===Us.mapValue)return 0;if(i===Us.mapValue)return 1;if(s===Us.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=ce(a[l],c[l]);if(0!==d)return d;const h=Bs(o[a[l]],u[c[l]]);if(0!==h)return h}return ce(a.length,c.length)}(t.mapValue,e.mapValue);default:throw $()}}function $2(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ce(t,e);const n=Vs(t),r=Vs(e),i=ce(n.seconds,r.seconds);return 0!==i?i:ce(n.nanos,r.nanos)}function Mu(t){return VD(t)}function VD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Vs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bo(t.bytesValue).toBase64():"referenceValue"in t?O.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=VD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${VD(r.fields[a])}`;return s+"}"}(t.mapValue):$();var e}function Ho(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function UD(t){return!!t&&"integerValue"in t}function bd(t){return!!t&&"arrayValue"in t}function j2(t){return!!t&&"nullValue"in t}function H2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rg(t){return!!t&&"mapValue"in t}function Id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function z2(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Id(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Id(this.value))}}function W2(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new At([n]);if(Rg(r)){const s=W2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new nr(e)}class tt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,W.min(),W.min(),W.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new tt(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new tt(e,2,n,W.min(),W.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,W.min(),W.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $s{constructor(e,n){this.position=e,this.inclusive=n}}function K2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?O.comparator(O.fromName(o.referenceValue),n.key):Bs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Q2(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}class Ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function qoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Y2{}class Ae extends Y2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Woe(e,n,r):"array-contains"===n?new Yoe(e,r):"in"===n?new nU(e,r):"not-in"===n?new Xoe(e,r):"array-contains-any"===n?new Joe(e,r):new Ae(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Koe(e,r):new Qoe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Bs(n,this.value)):null!==n&&jo(this.value)===jo(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class He extends Y2{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new He(e,n)}matches(e){return Pu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Pu(t){return"and"===t.op}function $D(t){return function X2(t){for(const e of t.filters)if(e instanceof He)return!1;return!0}(t)&&Pu(t)}function jD(t){if(t instanceof Ae)return t.field.canonicalString()+t.op.toString()+Mu(t.value);if($D(t))return t.filters.map(e=>jD(e)).join(",");{const e=t.filters.map(n=>jD(n)).join(",");return`${t.op}(${e})`}}function J2(t,e){return t instanceof Ae?(n=t,(r=e)instanceof Ae&&n.op===r.op&&n.field.isEqual(r.field)&&yi(n.value,r.value)):t instanceof He?function(n,r){return r instanceof He&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&J2(s,r.filters[o]),!0)}(t,e):void $();var n,r}function eU(t){return t instanceof Ae?`${(e=t).field.canonicalString()} ${e.op} ${Mu(e.value)}`:t instanceof He?function(e){return e.op.toString()+" {"+e.getFilters().map(eU).join(" ,")+"}"}(t):"Filter";var e}class Woe extends Ae{constructor(e,n,r){super(e,n,r),this.key=O.fromName(r.referenceValue)}matches(e){const n=O.comparator(e.key,this.key);return this.matchesComparison(n)}}class Koe extends Ae{constructor(e,n){super(e,"in",n),this.keys=tU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qoe extends Ae{constructor(e,n){super(e,"not-in",n),this.keys=tU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>O.fromName(r.referenceValue))}class Yoe extends Ae{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bd(n)&&wd(n.arrayValue,this.value)}}class nU extends Ae{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&wd(this.value.arrayValue,n)}}class Xoe extends Ae{constructor(e,n){super(e,"not-in",n)}matches(e){if(wd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!wd(this.value.arrayValue,n)}}class Joe extends Ae{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wd(this.value.arrayValue,r))}}class Zoe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function HD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zoe(t,e,n,r,i,s,o)}function zo(t){const e=N(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mu(r)).join(",")),e.ft=n}return e.ft}function Cd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qoe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!J2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q2(t.startAt,e.startAt)&&Q2(t.endAt,e.endAt)}function Pg(t){return O.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class us{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this.wt=null}}function ku(t){return new us(t)}function oU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function zD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Og(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function GD(t){return null!==t.collectionGroup}function Go(t){const e=N(t);if(null===e.dt){e.dt=[];const n=Og(e),r=zD(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ru(n)),e.dt.push(new Ru(At.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ru(At.keyField(),s))}}}return e.dt}function $n(t){const e=N(t);if(!e.wt)if("F"===e.limitType)e.wt=HD(e.path,e.collectionGroup,Go(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Go(e))n.push(new Ru(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new $s(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $s(e.startAt.position,e.startAt.inclusive):null;e.wt=HD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function qD(t,e){e.getFirstInequalityField(),Og(t);const n=t.filters.concat([e]);return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ng(t,e,n){return new us(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return Cd($n(t),$n(e))&&t.limitType===e.limitType}function aU(t){return`${zo($n(t))}|lt:${t.limitType}`}function WD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>eU(r)).join(", ")}]`),yd(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mu(r)).join(",")),`Target(${n})`}($n(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):O.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Go(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=K2(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Go(n),r)||n.endAt&&!function(i,s,o){const a=K2(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Go(n),r)));var n,r}function cU(t){return(e,n)=>{let r=!1;for(const i of Go(t)){const s=eae(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function eae(t,e,n){const r=t.field.isKeyField()?O.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Bs(a,u):$()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return V2(this.inner)}size(){return this.innerSize}}const tae=new _t(O.comparator);function rr(){return tae}const lU=new _t(O.comparator);function Td(...t){let e=lU;for(const n of t)e=e.insert(n.key,n);return e}function dU(t){let e=lU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _i(){return Sd()}function hU(){return Sd()}function Sd(){return new js(t=>t.toString(),(t,e)=>t.isEqual(e))}const nae=new _t(O.comparator),rae=new Ge(O.comparator);function me(...t){let e=rae;for(const n of t)e=e.add(n);return e}const iae=new Ge(ce);function Fg(){return iae}function fU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function pU(t){return{integerValue:""+t}}function gU(t,e){return function M2(t){return"number"==typeof t&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?pU(e):fU(t,e)}class Lg{constructor(){this._=void 0}}function sae(t,e,n){return t instanceof Ou?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof qo?yU(t,e):t instanceof Wo?_U(t,e):function(r,i){const s=mU(r,i),o=vU(s)+vU(r._t);return UD(s)&&UD(r._t)?pU(o):fU(r.serializer,o)}(t,e)}function oae(t,e,n){return t instanceof qo?yU(t,e):t instanceof Wo?_U(t,e):n}function mU(t,e){return t instanceof Nu?UD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ou extends Lg{}class qo extends Lg{constructor(e){super(),this.elements=e}}function yU(t,e){const n=wU(e);for(const r of t.elements)n.some(i=>yi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wo extends Lg{constructor(e){super(),this.elements=e}}function _U(t,e){let n=wU(e);for(const r of t.elements)n=n.filter(i=>!yi(i,r));return{arrayValue:{values:n}}}class Nu extends Lg{constructor(e,n){super(),this.serializer=e,this._t=n}}function vU(t){return vt(t.integerValue||t.doubleValue)}function wU(t){return bd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class uae{constructor(e,n){this.version=e,this.transformResults=n}}class ot{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ot}static exists(e){return new ot(void 0,e)}static updateTime(e){return new ot(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Ug{}function bU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Lu(t.key,ot.none()):new Fu(t.key,t.data,ot.none());{const n=t.data,r=tn.empty();let i=new Ge(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new cs(t.key,r,new nr(i.toArray()),ot.none())}}function cae(t,e,n){t instanceof Fu?function(r,i,s){const o=r.value.clone(),a=EU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof cs?function(r,i,s){if(!Vg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=EU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(CU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function xd(t,e,n,r){return t instanceof Fu?function(i,s,o,a){if(!Vg(i.precondition,s))return o;const u=i.value.clone(),c=DU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof cs?function(i,s,o,a){if(!Vg(i.precondition,s))return o;const u=DU(i.fieldTransforms,a,s),c=s.data;return c.setAll(CU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Vg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function lae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=mU(r.transform,i||null);null!=s&&(null===n&&(n=tn.empty()),n.set(r.field,s))}return n||null}function IU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Au(n,r,(i,s)=>function aae(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof qo&&r instanceof qo||n instanceof Wo&&r instanceof Wo?Au(n.elements,r.elements,yi):n instanceof Nu&&r instanceof Nu?yi(n._t,r._t):n instanceof Ou&&r instanceof Ou);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Fu extends Ug{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends Ug{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EU(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oae(o,a,n[i]))}return r}function DU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,sae(s,o,e))}return r}class Lu extends Ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class QD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=bU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Au(this.mutations,e.mutations,(n,r)=>IU(n,r))&&Au(this.baseMutations,e.baseMutations,(n,r)=>IU(n,r))}}class YD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=nae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new YD(e,n,r,i)}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fae{constructor(e){this.count=e}}var Vt,Fe;function SU(t){if(void 0===t)return St("GRPC error has no .code"),b.UNKNOWN;switch(t){case Vt.OK:return b.OK;case Vt.CANCELLED:return b.CANCELLED;case Vt.UNKNOWN:return b.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return b.INTERNAL;case Vt.UNAVAILABLE:return b.UNAVAILABLE;case Vt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Vt.NOT_FOUND:return b.NOT_FOUND;case Vt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Vt.ABORTED:return b.ABORTED;case Vt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Vt.DATA_LOSS:return b.DATA_LOSS;default:return $()}}(Fe=Vt||(Vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";class ZD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Bg}static getOrCreateInstance(){return null===Bg&&(Bg=new ZD),Bg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Bg=null;class Md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(W.min(),i,Fg(),rr(),me())}}class Rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,me(),me(),me())}}class $g{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class AU{constructor(e,n){this.targetId=e,this.Et=n}}class xU{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MU{constructor(){this.At=0,this.Rt=PU(),this.vt=Gt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=me(),n=me(),r=me();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Rd(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=PU()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class pae{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=rr(),this.qt=RU(),this.Ut=new Ge(ce)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:$()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Pg(o))if(0===i){const a=new O(o.path);this.Qt(r,a,tt.newNoDocument(a,W.min()))}else G(1===i);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(n=ZD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Pg(a.target)){const u=new O(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,tt.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=me();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Md(e,n,this.Ut,this.Lt,r);return this.Lt=rr(),this.qt=RU(),this.Ut=new Ge(ce),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new MU,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ge(ce),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=null!==this.Yt(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new MU),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function RU(){return new _t(O.comparator)}function PU(){return new _t(O.comparator)}const gae={asc:"ASCENDING",desc:"DESCENDING"},mae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yae={and:"AND",or:"OR"};class _ae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kU(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vae(t,e){return Vu(t,e.toTimestamp())}function xt(t){return G(!!t),W.fromTimestamp(function(e){const n=Vs(e);return new ct(n.seconds,n.nanos)}(t))}function e0(t,e){return(n=t,new Ne(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function OU(t){const e=Ne.fromString(t);return G(HU(e)),e}function Pd(t,e){return e0(t.databaseId,e.path)}function vi(t,e){const n=OU(e);if(n.get(1)!==t.databaseId.projectId)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new O(FU(n))}function t0(t,e){return e0(t.databaseId,e)}function kd(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FU(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function LU(t,e,n){return{name:Pd(t,e),fields:n.value.mapValue.fields}}function UU(t,e){return{documents:[t0(t,e.path)]}}function r0(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=t0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=t0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return jU(He.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Hs((l=c).field),direction:Eae(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.useProto3Json||yd(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function BU(t){let e=function NU(t){const e=OU(t);return 4===e.length?Ne.emptyPath():FU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=$U(l);return d instanceof He&&$D(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ru(Uu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,yd(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new $s((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new $s(l.values||[],!l.before)}(n.endAt)),function sU(t,e,n,r,i,s,o,a){return new us(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function $U(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Uu(e.unaryFilter.field);return Ae.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Uu(e.unaryFilter.field);return Ae.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uu(e.unaryFilter.field);return Ae.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uu(e.unaryFilter.field);return Ae.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(t):void 0!==t.fieldFilter?Ae.create(Uu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return He.create(e.compositeFilter.filters.map(n=>$U(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(t):$();var e}function Eae(t){return gae[t]}function Dae(t){return mae[t]}function Tae(t){return yae[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function Uu(t){return At.fromServerFormat(t.fieldPath)}function jU(t){return t instanceof Ae?function(e){if("=="===e.op){if(H2(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NAN"}};if(j2(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(H2(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NOT_NAN"}};if(j2(e.value))return{unaryFilter:{field:Hs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(e.field),op:Dae(e.op),value:e.value}}}(t):t instanceof He?function(e){const n=e.getFilters().map(r=>jU(r));return 1===n.length?n[0]:{compositeFilter:{op:Tae(e.op),filters:n}}}(t):$()}function Sae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class zs{constructor(e,n,r,i,s=W.min(),o=W.min(),a=Gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zU{constructor(e){this.se=e}}function s0(t){const e=BU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ng(e,e.limit,"L"):e}class Xo{constructor(){}oe(e,n){this.ue(e,n),n.ce()}ue(e,n){if("nullValue"in e)this.ae(n,5);else if("booleanValue"in e)this.ae(n,10),n.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(n,15),n.he(vt(e.integerValue));else if("doubleValue"in e){const r=vt(e.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),_d(r)?n.he(0):n.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(n,20),"string"==typeof r?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,n),this.de(n);else if("bytesValue"in e)this.ae(n,30),n.we(Bo(e.bytesValue)),this.de(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in e?z2(e)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,n),this.de(n)):"arrayValue"in e?(this.ge(e.arrayValue,n),this.de(n)):$()}fe(e,n){this.ae(n,25),this.ye(e,n)}ye(e,n){n.le(e)}me(e,n){const r=e.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(e,n){const r=e.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(e,n){this.ae(n,37),O.fromName(e).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(e,n){e.he(n)}de(e){e.he(2)}}Xo.pe=new Xo;class Fae{constructor(){this.He=new d0}addToCollectionParentIndex(e,n){return this.He.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(vr.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class d0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ge(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ge(Ne.comparator)).toArray()}}new Uint8Array(0);class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class Zo{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Zo(0)}static bn(){return new Zo(-1)}}class Hae{constructor(){this.changes=new js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class pB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&xd(r.mutation,i,nr.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=_i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Td();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=rr();const o=Sd(),a=Sd();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof cs)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),xd(l.mutation,c,l.mutation.getFieldMask(),ct.now())):o.set(c.key,nr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new qae(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sd();let i=new _t((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||nr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=hU();l.forEach(h=>{if(!s.has(h)){const f=bU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return O.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(_i());let a=-1,u=s;return o.next(c=>w.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,me())).next(l=>({batchId:a,changes:dU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new O(n)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Td();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(c=n,l=a.child(i),new us(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,tt.newInvalidDocument(c)))});let o=Td();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&xd(c.mutation,u,nr.empty(),ct.now()),Dd(n,u)&&(o=o.insert(a,u))}),o})}}class Wae{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return w.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:xt(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:s0(r.bundledQuery),readTime:xt(r.readTime)}),w.resolve();var r}}class Kae{constructor(){this.overlays=new _t(O.comparator),this.ts=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_i();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=_i(),s=n.length+1,o=new O(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=_i(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=_i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return w.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XD(n,r));let s=this.ts.get(n);void 0===s&&(s=me(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}class h0{constructor(){this.es=new Ge(nn.ns),this.ss=new Ge(nn.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new nn(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new nn(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new O(new Ne([])),r=new nn(n,e),i=new nn(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new O(new Ne([])),r=new nn(n,e),i=new nn(n,e+1);let s=me();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nn(e,0),r=this.es.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return O.comparator(e.key,n.key)||ce(e.ds,n.ds)}static rs(e,n){return ce(e.ds,n.ds)||O.comparator(e.key,n.key)}}class Qae{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ge(nn.ns)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new QD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ys(n+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),i=new nn(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ge(ce);return n.forEach(i=>{const s=new nn(i,0),o=new nn(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),w.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;O.isDocumentKey(s)||(s=s.child(""));const o=new nn(new O(s),0);let a=new Ge(ce);return this._s.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ds)),!0)},o),w.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.Is(n.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return w.forEach(n.mutations,i=>{const s=new nn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new nn(n,0),i=this._s.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Is(e,n){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Yae{constructor(e){this.Ts=e,this.docs=new _t(O.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=rr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tt.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=rr();const o=n.path,a=new O(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kD(S2(l),r)<=0||(i.has(l.key)||Dd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){$()}Es(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Xae(this)}getSize(e){return w.resolve(this.size)}}class Xae extends Hae{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}class Jae{constructor(e){this.persistence=e,this.As=new js(n=>zo(n),Cd),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Rs=0,this.vs=new h0,this.targetCount=0,this.bs=Zo.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),w.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Sn(n),w.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.vs.containsKey(n))}}class gB{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new wr(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Jae(this),this.indexManager=new Fae,this.remoteDocumentCache=new Yae(r=>this.referenceDelegate.Cs(r)),this.serializer=new zU(n),this.xs=new Wae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kae,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new Qae(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new Zae(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return w.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class Zae extends _oe{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.$s=new h0,this.Ms=null}static Fs(e){return new Yg(e)}get Bs(){if(this.Ms)return this.Ms;throw $()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),w.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Bs,r=>{const i=O.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return w.or([()=>w.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class m0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new m0(e,n.fromCache,r,i)}}class yB{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(oU(n))return w.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ng(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.$i(n,a);return this.Mi(n,c,o,u.readTime)?this.Ni(e,Ng(n,null,"F")):this.Fi(e,c,n,u)}))})))}ki(e,n,r,i){return oU(n)||i.isEqual(W.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(MD()<=Oe.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),WD(n)),this.Fi(e,o,n,function T2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(1e9===r?new ct(n+1,0):new ct(n,r));return new vr(i,O.empty(),e)}(i,-1)))})}$i(e,n){let r=new Ge(cU(e));return n.forEach((i,s)=>{Dd(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return MD()<=Oe.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",WD(n)),this.xi.getDocumentsMatchingQuery(e,n,vr.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class tue{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new _t(ce),this.qi=new js(s=>zo(s),Cd),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pB(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function vB(t,e){return y0.apply(this,arguments)}function y0(){return y0=g(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:a}))})})}),y0.apply(this,arguments)}function wB(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function iue(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hu(t,e,n){return _0.apply(this,arguments)}function _0(){return _0=g(function*(t,e,n){const r=N(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ls(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}),_0.apply(this,arguments)}function Jg(t,e,n){const r=N(t);let i=W.min(),s=me();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.qi.get(c);return void 0!==d?w.resolve(l.Li.get(d)):l.Ds.getTargetData(u,c)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:me())).next(a=>(function EB(t,e,n){let r=t.Ui.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}(r,function uU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Wi:s})))}class C0{constructor(){this.activeTargetIds=Fg()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SB{constructor(){this.Br=new C0,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new C0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aue{qr(e){}shutdown(){}}class AB{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tm=null;function D0(){return null===tm?tm=268435456+Math.round(2147483648*Math.random()):tm++,"0x"+tm.toString(16)}const uue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cue{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const xn="WebChannelConnection";class lue extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=D0(),a=this.ao(e,n);A("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.ho(u,i,s),this.lo(e,a,u,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw as("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){return`${this.ro}/v1/${n}:${uue[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=D0();return new Promise((o,a)=>{const u=new aoe;u.setWithCredentials(!0),u.listenOnce(ioe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xD.NO_ERROR:const l=u.getResponseJson();A(xn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case xD.TIMEOUT:A(xn,`RPC '${e}' ${s} timed out`),a(new S(b.DEADLINE_EXCEEDED,"Request time out"));break;case xD.HTTP_ERROR:const d=u.getStatus();if(A(xn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(y)>=0?y:b.UNKNOWN}(f.status);a(new S(p,f.message))}else a(new S(b.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new S(b.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{A(xn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);A(xn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}wo(e,n,r){const i=D0(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=noe(),a=roe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new ooe({})),this.ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");A(xn,`Creating RPC '${e}' stream ${i}: ${c}`,u);const l=o.createWebChannel(c,u);let d=!1,h=!1;const f=new cue({Wr:m=>{h?A(xn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(A(xn,`Opening RPC '${e}' stream ${i} transport.`),l.open(),d=!0),A(xn,`RPC '${e}' stream ${i} sending:`,m),l.send(m))},Hr:()=>l.close()}),p=(m,y,_)=>{m.listen(y,C=>{try{_(C)}catch(v){setTimeout(()=>{throw v},0)}})};return p(l,Eg.EventType.OPEN,()=>{h||A(xn,`RPC '${e}' stream ${i} transport opened.`)}),p(l,Eg.EventType.CLOSE,()=>{h||(h=!0,A(xn,`RPC '${e}' stream ${i} transport closed`),f.so())}),p(l,Eg.EventType.ERROR,m=>{h||(h=!0,as(xn,`RPC '${e}' stream ${i} transport errored:`,m),f.so(new S(b.UNAVAILABLE,"The operation could not be completed")))}),p(l,Eg.EventType.MESSAGE,m=>{var y;if(!h){const _=m.data[0];G(!!_);const v=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(v){A(xn,`RPC '${e}' stream ${i} received error:`,v);const M=v.status;let q=function(Rt){const Rn=Vt[Rt];if(void 0!==Rn)return SU(Rn)}(M),K=v.message;void 0===q&&(q=b.INTERNAL,K="Unknown error status: "+M+" with message "+v.message),h=!0,f.so(new S(q,K)),l.close()}else A(xn,`RPC '${e}' stream ${i} received:`,_),f.io(_)}}),p(a,soe.STAT_EVENT,m=>{m.stat===w2.PROXY?A(xn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===w2.NOPROXY&&A(xn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function nm(){return typeof document<"u"?document:null}function Hd(t){return new _ae(t,!0)}class T0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class MB{constructor(e,n,r,i,s,o,a,u){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new T0(e,n)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return g(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return g(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,n){var r=this;return g(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(St(n.toString()),St("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):n&&n.code===b.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new S(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){var e=this;this.state=5,this.Co.Ao(g(function*(){e.state=0,e.start()}))}Go(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class due extends MB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=function bae(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(G(void 0===c||"string"==typeof c),Gt.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?b.UNKNOWN:SU(u.code);return new S(c,u.message||"")}(o);n=new xU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=vi(t,r.document.name),s=xt(r.document.updateTime),o=r.document.createTime?xt(r.document.createTime):W.min(),a=new tn({mapValue:{fields:r.document.fields}}),u=tt.newFoundDocument(i,s,o,a);n=new $g(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=vi(t,r.document),s=r.readTime?xt(r.readTime):W.min(),o=tt.newNoDocument(i,s);n=new $g([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=vi(t,r.document);n=new $g([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,s=new fae(r.count||0);n=new AU(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?xt(s.readTime):W.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=kd(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Pg(a)?{documents:UU(i,a)}:{query:r0(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=kU(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Vu(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=function Cae(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return $()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=kd(this.serializer),n.removeTarget=e,this.Fo(n)}}class hue extends MB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=function Iae(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(r,i){let s=xt(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=xt(i)),new uae(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=xt(e.commitTime);return this.listener.Zo(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=kd(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Od(t,e){let n;if(e instanceof Fu)n={update:LU(t,e.key,e.value)};else if(e instanceof Lu)n={delete:Pd(t,e.key)};else if(e instanceof cs)n={update:LU(t,e.key,e.data),updateMask:Sae(e.fieldMask)};else{if(!(e instanceof KD))return $();n={verify:Pd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw $()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:vae(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),n;var i}(this.serializer,r))};this.Fo(n)}}class fue extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(b.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(b.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class gue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(St(n),this.ru=!1):A("OnlineStateTracker",n)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class mue{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(a=>{r.enqueueAndForget(g(function*(){var u;ls(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=N(c);l.du.add(4),yield zu(l),l.mu.set("Unknown"),l.du.delete(4),yield zd(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.mu=new gue(r,i)}}function zd(t){return A0.apply(this,arguments)}function A0(){return A0=g(function*(t){if(ls(t))for(const e of t.wu)yield e(!0)}),A0.apply(this,arguments)}function zu(t){return x0.apply(this,arguments)}function x0(){return x0=g(function*(t){for(const e of t.wu)yield e(!1)}),x0.apply(this,arguments)}function rm(t,e){const n=N(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),P0(n)?R0(n):qu(n).No()&&M0(n,e))}function Gd(t,e){const n=N(t),r=qu(n);n.fu.delete(e),r.No()&&RB(n,e),0===n.fu.size&&(r.No()?r.$o():ls(n)&&n.mu.set("Unknown"))}function M0(t,e){t.gu.Ot(e.targetId),qu(t).jo(e)}function RB(t,e){t.gu.Ot(e),qu(t).Wo(e)}function R0(t){t.gu=new pae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),qu(t).start(),t.mu.ou()}function P0(t){return ls(t)&&!qu(t).xo()&&t.fu.size>0}function ls(t){return 0===N(t).du.size}function PB(t){t.gu=void 0}function yue(t){return k0.apply(this,arguments)}function k0(){return k0=g(function*(t){t.fu.forEach((e,n)=>{M0(t,e)})}),k0.apply(this,arguments)}function _ue(t,e){return O0.apply(this,arguments)}function O0(){return O0=g(function*(t,e){PB(t),P0(t)?(t.mu.au(e),R0(t)):t.mu.set("Unknown")}),O0.apply(this,arguments)}function vue(t,e,n){return N0.apply(this,arguments)}function N0(){return N0=g(function*(t,e,n){if(t.mu.set("Online"),e instanceof xU&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.fu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.fu.delete(a),i.gu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield im(t,r)}else if(e instanceof $g?t.gu.Kt(e):e instanceof AU?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(W.min()))try{const r=yield wB(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.fu.get(u);c&&i.fu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.fu.get(a);if(!u)return;i.fu.set(a,u.withResumeToken(Gt.EMPTY_BYTE_STRING,u.snapshotVersion)),RB(i,a);const c=new zs(u.target,a,1,u.sequenceNumber);M0(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield im(t,r)}var r}),N0.apply(this,arguments)}function im(t,e,n){return F0.apply(this,arguments)}function F0(){return F0=g(function*(t,e,n){if(!Ls(e))throw e;t.du.add(1),yield zu(t),t.mu.set("Offline"),n||(n=()=>wB(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t.du.delete(1),yield zd(t)}))}),F0.apply(this,arguments)}function kB(t,e){return e().catch(n=>im(t,n,e))}function Gu(t){return L0.apply(this,arguments)}function L0(){return L0=g(function*(t){const e=N(t),n=Ks(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;wue(e);)try{const i=yield iue(e.localStore,r);if(null===i){0===e.lu.length&&n.$o();break}r=i.batchId,bue(e,i)}catch(i){yield im(e,i)}OB(e)&&NB(e)}),L0.apply(this,arguments)}function wue(t){return ls(t)&&t.lu.length<10}function bue(t,e){t.lu.push(e);const n=Ks(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function OB(t){return ls(t)&&!Ks(t).xo()&&t.lu.length>0}function NB(t){Ks(t).start()}function Iue(t){return V0.apply(this,arguments)}function V0(){return V0=g(function*(t){Ks(t).tu()}),V0.apply(this,arguments)}function Cue(t){return U0.apply(this,arguments)}function U0(){return U0=g(function*(t){const e=Ks(t);for(const n of t.lu)e.Yo(n.mutations)}),U0.apply(this,arguments)}function Eue(t,e,n){return B0.apply(this,arguments)}function B0(){return B0=g(function*(t,e,n){const r=t.lu.shift(),i=YD.from(r,e,n);yield kB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Gu(t)}),B0.apply(this,arguments)}function Due(t,e){return $0.apply(this,arguments)}function $0(){return $0=g(function*(t,e){var n;e&&Ks(t).Jo&&(yield(n=g(function*(r,i){if(function TU(t){switch(t){default:return $();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}(s=i.code)&&s!==b.ABORTED){const o=r.lu.shift();Ks(r).Oo(),yield kB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Gu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),OB(t)&&NB(t)}),$0.apply(this,arguments)}function FB(t,e){return j0.apply(this,arguments)}function j0(){return j0=g(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=ls(n);n.du.add(3),yield zu(n),r&&n.mu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),yield zd(n)}),j0.apply(this,arguments)}function z0(){return z0=g(function*(t,e){const n=N(t);e?(n.du.delete(2),yield zd(n)):e||(n.du.add(2),yield zu(n),n.mu.set("Unknown"))}),z0.apply(this,arguments)}function qu(t){return t.yu||(t.yu=function(e,n,r){const i=N(e);return i.nu(),new due(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:yue.bind(null,t),Zr:_ue.bind(null,t),zo:vue.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.yu.Oo(),P0(t)?R0(t):t.mu.set("Unknown")):(yield t.yu.stop(),PB(t))});return function(n){return e.apply(this,arguments)}}())),t.yu}function Ks(t){return t.pu||(t.pu=function(e,n,r){const i=N(e);return i.nu(),new hue(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:Iue.bind(null,t),Zr:Due.bind(null,t),Xo:Cue.bind(null,t),Zo:Eue.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.pu.Oo(),yield Gu(t)):(yield t.pu.stop(),t.lu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))});return function(n){return e.apply(this,arguments)}}())),t.pu}class G0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new G0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wu(t,e){if(St("AsyncQueue",`${e}: ${t}`),Ls(t))return new S(b.UNAVAILABLE,`${e}: ${t}`);throw t}class Ku{constructor(e){this.comparator=e?(n,r)=>e(n,r)||O.comparator(n.key,r.key):(n,r)=>O.comparator(n.key,r.key),this.keyedMap=Td(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new Ku(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class LB{constructor(){this.Iu=new _t(O.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(n,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(n):1===e.type&&2===r.type?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):$():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qu(e,n,Ku.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Tue{constructor(){this.Eu=void 0,this.listeners=[]}}class Sue{constructor(){this.queries=new js(e=>aU(e),Ed),this.onlineState="Unknown",this.Au=new Set}}function q0(t,e){return W0.apply(this,arguments)}function W0(){return W0=g(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tue),i)try{s.Eu=yield n.onListen(r)}catch(o){const a=Wu(o,`Initialization of query '${WD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Y0(n)}),W0.apply(this,arguments)}function K0(t,e){return Q0.apply(this,arguments)}function Q0(){return Q0=g(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Q0.apply(this,arguments)}function Aue(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Y0(n)}function xue(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Y0(t){t.Au.forEach(e=>{e.next()})}class X0{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){return!e.fromCache||(!this.options.xu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class BB{constructor(e){this.key=e}}class $B{constructor(e){this.key=e}}class jB{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=me(),this.mutatedKeys=me(),this.Ku=cU(e),this.Gu=new Ku(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new LB,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Dd(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Wu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Ku(f,u)>0||c&&this.Ku(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return f(d)-f(h)}(c.type,l.type)||this.Ku(c.doc,l.doc)),this.Hu(r);const o=n?this.Ju():[],a=0===this.Uu.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Qu(this.query,e.Gu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new LB,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=me(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new $B(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new BB(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=me();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Qu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Pue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kue{constructor(e){this.key=e,this.ec=!1}}class Oue{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new js(a=>aU(a),Ed),this.ic=new Map,this.rc=new Set,this.oc=new _t(O.comparator),this.uc=new Map,this.cc=new h0,this.ac={},this.hc=new Map,this.lc=Zo.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Nue(t,e){return J0.apply(this,arguments)}function J0(){return J0=g(function*(t,e){const n=function bT(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zue.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vue.bind(null,e),e.nc.zo=Aue.bind(null,e.eventManager),e.nc.wc=xue.bind(null,e.eventManager),e}(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield function ju(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new zs(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}(n.localStore,$n(e));n.isPrimaryClient&&rm(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Z0(t,e,n,r,i){return eT.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken)}return i}),J0.apply(this,arguments)}function eT(){return eT=g(function*(t,e,n,r,i){t.dc=(d,h,f)=>{return(p=g(function*(m,y,_,C){let v=y.view.zu(_);v.Mi&&(v=yield Jg(m.localStore,y.query,!1).then(({documents:K})=>y.view.zu(K,v)));const M=C&&C.targetChanges.get(y.targetId),q=y.view.applyChanges(v,m.isPrimaryClient,M);return lT(m,y.targetId,q.Yu),q.snapshot}),function(m,y,_,C){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Jg(t.localStore,e,!0),o=new jB(e,s.Wi),a=o.zu(s.documents),u=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);lT(t,n,c.Yu);const l=new Pue(e,n,o);return t.sc.set(e,l),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}),eT.apply(this,arguments)}function Fue(t,e){return tT.apply(this,arguments)}function tT(){return tT=g(function*(t,e){const n=N(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Ed(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gd(n.remoteStore,r.targetId),Yu(n,r.targetId)}).catch(Fs))):(Yu(n,r.targetId),yield Hu(n.localStore,r.targetId,!0))}),tT.apply(this,arguments)}function nT(){return nT=g(function*(t,e,n){const r=function IT(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uue.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bue.bind(null,e),e}(t);try{const i=yield function(s,o){const a=N(s),u=ct.now(),c=o.reduce((h,f)=>h.add(f.key),me());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=rr(),p=me();return a.Ki.getEntries(h,c).next(m=>{f=m,f.forEach((y,_)=>{_.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const _ of o){const C=lae(_,l.get(_.key).overlayedDocument);null!=C&&y.push(new cs(_.key,C,W2(C.value.mapValue),ot.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:dU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ac[s.currentUser.toKey()];u||(u=new _t(ce)),u=u.insert(o,a),s.ac[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ds(r,i.changes),yield Gu(r.remoteStore)}catch(i){const s=Wu(i,"Failed to persist write");n.reject(s)}}),nT.apply(this,arguments)}function HB(t,e){return rT.apply(this,arguments)}function rT(){return rT=g(function*(t,e){const n=N(t);try{const r=yield function rue(t,e){const n=N(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(Gt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Ds.updateTargetData(s,f))});let u=rr(),c=me();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function bB(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=rr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{zi:o,ji:i}})}(s,o,e.documentUpdates).next(l=>{u=l.zi,c=l.ji})),!r.isEqual(W.min())){const l=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Li=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?G(o.ec):i.removedDocuments.size>0&&(G(o.ec),o.ec=!1))}),yield ds(n,r,e)}catch(r){yield Fs(r)}}),rT.apply(this,arguments)}function zB(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Ru(o)&&(u=!0)}),u&&Y0(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vue(t,e,n){return iT.apply(this,arguments)}function iT(){return iT=g(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new _t(O.comparator);o=o.insert(s,tt.newNoDocument(s,W.min()));const a=me().add(s),u=new Md(W.min(),new Map,new Ge(ce),o,a);yield HB(r,u),r.oc=r.oc.remove(s),r.uc.delete(e),dT(r)}else yield Hu(r.localStore,e,!1).then(()=>Yu(r,e,n)).catch(Fs)}),iT.apply(this,arguments)}function Uue(t,e){return sT.apply(this,arguments)}function sT(){return sT=g(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield function nue(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);G(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=me();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);cT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ds(n,i)}catch(i){yield Fs(i)}}),sT.apply(this,arguments)}function Bue(t,e,n){return oT.apply(this,arguments)}function oT(){return oT=g(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);cT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ds(r,i)}catch(i){yield Fs(i)}}),oT.apply(this,arguments)}function uT(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function cT(t,e,n){const r=N(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Yu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||GB(t,r)})}function GB(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(Gd(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),dT(t))}function lT(t,e,n){for(const r of n)r instanceof BB?(t.cc.addReference(r.key,e),jue(t,r)):r instanceof $B?(A("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||GB(t,r.key)):$()}function jue(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.rc.add(r),dT(t))}function dT(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new O(Ne.fromString(e)),r=t.lc.next();t.uc.set(r,new kue(n)),t.oc=t.oc.insert(n,r),rm(t.remoteStore,new zs($n(ku(n.path)),r,2,wr.ct))}}function ds(t,e,n){return hT.apply(this,arguments)}function hT(){return hT=g(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,u)=>{o.push(r.dc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=m0.Di(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.nc.zo(i),yield(a=g(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Vi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Si,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Ls(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Li.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Li=l.Li.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),hT.apply(this,arguments)}function Hue(t,e){return fT.apply(this,arguments)}function fT(){return fT=g(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield vB(n.localStore,e);n.currentUser=e,(i=n).hc.forEach(o=>{o.forEach(a=>{a.reject(new S(b.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ds(n,r.Qi)}var i}),fT.apply(this,arguments)}function zue(t,e){const n=N(t),r=n.uc.get(e);if(r&&r.ec)return me().add(r.key);{let i=me();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}class CT{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.serializer=Hd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function _B(t,e,n,r){return new tue(t,e,n,r)}(this.persistence,new yB,e.initialUser,this.serializer)}createPersistence(e){return new gB(Yg.Fs,this.serializer)}createSharedClientState(e){return new SB}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xu{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Hue.bind(null,r.syncEngine),yield function H0(t,e){return z0.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sue}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),r=new lue(e.databaseInfo);return new fue(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>zB(this.syncEngine,a,0),o=AB.D()?new AB:new aue,new mue(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Oue(r,i,s,o,a,u);return c&&(l.fc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=N(n);A("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield zu(r),r._u.shutdown(),r.mu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class sm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):St("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class nce{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=E2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function om(t,e){return ET.apply(this,arguments)}function ET(){return ET=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield vB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),ET.apply(this,arguments)}function DT(t,e){return TT.apply(this,arguments)}function TT(){return TT=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function ST(t){return AT.apply(this,arguments)}(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>FB(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>FB(e.remoteStore,s)),t._onlineComponents=e}),TT.apply(this,arguments)}function AT(){return AT=g(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield om(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function XB(t){return"FirebaseError"===t.name?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;as("Error using user provided cache. Falling back to memory cache: "+n),yield om(t,new CT)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield om(t,new CT);return t._offlineComponents}),AT.apply(this,arguments)}function am(t){return xT.apply(this,arguments)}function xT(){return xT=g(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield DT(t,t._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield DT(t,new Xu))),t._onlineComponents}),xT.apply(this,arguments)}function Ju(t){return PT.apply(this,arguments)}function PT(){return PT=g(function*(t){const e=yield am(t),n=e.eventManager;return n.onListen=Nue.bind(null,e.syncEngine),n.onUnlisten=Fue.bind(null,e.syncEngine),n}),PT.apply(this,arguments)}const n$=new Map;function kT(t,e,n){if(!n)throw new S(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r$(t){if(!O.isDocumentKey(t))throw new S(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i$(t){if(O.isDocumentKey(t))throw new S(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":$()}function xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(t);throw new S(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class o${constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new S(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function dce(t,e,n,r){if(!0===e&&!0===r)throw new S(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o$(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new uoe;switch(n.type){case"firstParty":return new hoe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new S(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=n$.get(e);n&&(A("ComponentProvider","Removing Datastore"),n$.delete(e),n.terminate())}(this),Promise.resolve()}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class _n{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _n(this.firestore,e,this._query)}}class wi extends _n{constructor(e,n,r){super(e,n,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new O(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function fce(t,e,...n){if(t=We(t),kT("collection","path",e),t instanceof qd){const r=Ne.fromString(e,...n);return i$(r),new wi(t,null,r)}{if(!(t instanceof Mt||t instanceof wi))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return i$(r),new wi(t.firestore,null,r)}}function ta(t,e,...n){if(t=We(t),1===arguments.length&&(e=E2.A()),kT("doc","path",e),t instanceof qd){const r=Ne.fromString(e,...n);return r$(r),new Mt(t,null,new O(r))}{if(!(t instanceof Mt||t instanceof wi))throw new S(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return r$(r),new Mt(t.firestore,t instanceof wi?t.converter:null,new O(r))}}class pce{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new T0(this,"async_queue_retry"),this.qc=()=>{const n=nm();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=nm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=nm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new zt;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return g(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(n){if(!Ls(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,St("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=G0.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&$()}verifyOperationInProgress(){}zc(){var e=this;return g(function*(){let n;do{n=e.Nc,yield n}while(n!==e.Nc)})()}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class nt extends qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pce,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||u$(this),this._firestoreClient.terminate()}}function mce(t,e){const r="string"==typeof t?t:e||"(default)",i=Wi("object"==typeof t?t:Al(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pN("firestore");s&&function hce(t,e,n,r={}){var i;const s=(t=xe(t,qd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&as("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Zt.MOCK_USER;else{o=mN(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Zt(u)}t._authCredentials=new coe(new I2(o,a))}}(i,...s)}return i}function Ut(t){return t._firestoreClient||u$(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u$(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Hoe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var a,c;t._firestoreClient=new nce(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(Gt.fromBase64String(e))}catch(n){throw new S(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new na(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class NT{constructor(e){this._methodName=e}}class FT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}const _ce=/^__.*__$/;class vce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class d${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function h$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class lm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return hm(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(h$(this.Yc)&&_ce.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class wce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}ua(e,n,r,i=!1){return new lm({Yc:e,methodName:n,oa:r,path:At.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ec(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new wce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LT(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);UT("Data must be an object, but it was:",o,r);const a=y$(r,o);let u,c;if(s.merge)u=new nr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Qd(e,d,n);if(!o.contains(h))throw new S(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v$(l,h)||l.push(h)}u=new nr(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new vce(new tn(a),u,c)}class Kd extends NT{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}function ra(t,e){if(_$(t=We(t)))return UT("Unsupported field value:",e,t),y$(t,e);if(t instanceof NT)return function(n,r){if(!h$(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=ra(o,r.sa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=We(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return gU(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=ct.fromDate(n);return{timestampValue:Vu(r.serializer,i)}}if(n instanceof ct){const i=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vu(r.serializer,i)}}if(n instanceof FT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof na)return{bytesValue:kU(r.serializer,n._byteString)};if(n instanceof Mt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${cm(n)}`)}(t,e)}function y$(t,e){const n={};return V2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const s=ra(i,e.Xc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function _$(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof FT||t instanceof na||t instanceof Mt||t instanceof NT)}function UT(t,e,n){if(!_$(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cm(n);throw e.ia("an object"===r?t+" a custom object":t+" "+r)}var r}function Qd(t,e,n){if((e=We(e))instanceof Zu)return e._internalPath;if("string"==typeof e)return dm(t,e);throw hm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ece=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n){if(e.search(Ece)>=0)throw hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zu(...e.split("."))._internalPath}catch{throw hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(b.INVALID_ARGUMENT,a+t+u)}function v$(t,e){return t.some(n=>n.isEqual(e))}class BT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dce(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Dce extends BT{data(){return super.data()}}function fm(t,e){return"string"==typeof e?dm(t,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}class $T{}class Tce extends $T{}function Sce(t,e,...n){let r=[];e instanceof $T&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof tc).length,o=i.filter(a=>a instanceof Yd).length;if(s>1||s>0&&o>0)throw new S(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yd extends Tce{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yd(e,n,r)}_apply(e){const n=this._parse(e);return E$(e._query,n),new _n(e.firestore,e.converter,qD(e._query,n))}_parse(e){const n=ec(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){C$(l,c);const h=[];for(const f of l)h.push(I$(a,i,f));d={arrayValue:{values:h}}}else d=I$(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||C$(l,c),d=function m$(t,e,n,r=!1){return ra(n,t.ua(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return Ae.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class tc extends $T{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:He.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)E$(s,a),s=qD(s,a)}(e._query,n),new _n(e.firestore,e.converter,qD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function I$(t,e,n){if("string"==typeof(n=We(n))){if(""===n)throw new S(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&-1!==n.indexOf("/"))throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!O.isDocumentKey(r))throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ho(t,new O(r))}if(n instanceof Mt)return Ho(t,n._key);throw new S(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function C$(t,e){if(!Array.isArray(t)||0===t.length)throw new S(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E$(t,e){if(e.isInequality()){const r=Og(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new S(b.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=zD(t);null!==s&&function D$(t,e,n){if(!n.isEqual(e))throw new S(b.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new S(b.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ace{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw $()}}convertObject(e,n){const r={};return Uo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new FT(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B2(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);G(HU(r));const i=new $o(r.get(1),r.get(3)),s=new O(r.popFirst(5));return i.isEqual(n)||St(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nc extends BT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ym(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ym extends nc{data(e={}){return super.data(e)}}class rc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ia(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ym(this._firestore,this._userDataWriter,r.key,r,new ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ym(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ia(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ym(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ia(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Mce(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}function Rce(t){t=xe(t,Mt);const e=xe(t.firestore,nt);return function e$(t,e,n={}){const r=new zt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new sm({next:d=>{s.enqueueAndForget(()=>K0(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new S(b.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new S(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new X0(ku(o.path),c,{includeMetadataChanges:!0,xu:!0});return q0(i,l)}(yield Ju(t),t.asyncQueue,e,n,r)})),r.promise}(Ut(e),t._key).then(n=>function zT(t,e,n){const r=n.docs.get(e._key),i=new Qs(t);return new nc(t,i,e._key,r,new ia(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class Qs extends Ace{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Pce(t){t=xe(t,_n);const e=xe(t.firestore,nt),n=Ut(e),r=new Qs(e);return function w$(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function t$(t,e,n={}){const r=new zt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new sm({next:d=>{s.enqueueAndForget(()=>K0(i,l)),d.fromCache&&"server"===a.source?u.reject(new S(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new X0(o,c,{includeMetadataChanges:!0,xu:!0});return q0(i,l)}(yield Ju(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new rc(e,r,t,i))}function S$(t,e,n){t=xe(t,Mt);const r=xe(t.firestore,nt),i=function HT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Xd(r,[LT(ec(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ot.none())])}function kce(t,e,n,...r){t=xe(t,Mt);const i=xe(t.firestore,nt),s=ec(i);let o;return o="string"==typeof(e=We(e))||e instanceof Zu?function g$(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Qd(e,r,n)],u=[i];if(s.length%2!=0)throw new S(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Qd(e,s[h])),u.push(s[h+1]);const c=[],l=tn.empty();for(let h=a.length-1;h>=0;--h)if(!v$(c,a[h])){const f=a[h];let p=u[h];p=We(p);const m=o.na(f);if(p instanceof Kd)c.push(f);else{const y=ra(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new nr(c);return new d$(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function p$(t,e,n,r){const i=t.ua(1,e,n);UT("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();Uo(r,(u,c)=>{const l=dm(e,u,n);c=We(c);const d=i.na(l);if(c instanceof Kd)s.push(l);else{const h=ra(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new nr(s);return new d$(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Xd(i,[o.toMutation(t._key,ot.exists(!0))])}function Xd(t,e){return function(n,r){const i=new zt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Lue(t,e,n){return nT.apply(this,arguments)}(yield function RT(t){return am(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ut(t),e)}!function(t,e=!0){Su=Co,Tn(new hn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nt(new loe(n.getProvider("auth-internal")),new foe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ze(b2,"3.10.0",t),ze(b2,"3.10.0","esm2017")}();class ic{constructor(e){return e}}const x$="firestore",GT=new U("angularfire2.firestore-instances");function Gce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ic(r)}}const qce={provide:class Hce{constructor(){return kl(x$)}},deps:[[new ft,GT]]},Wce={provide:ic,useFactory:function zce(t,e){const n=Pl(x$,t,e);return n&&new ic(n)},deps:[[new ft,GT],Ms]};let Kce=(()=>{class t{constructor(){ze("angularfire",xs.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[Wce,qce]}),t})();function Qce(t,...e){return{ngModule:Kce,providers:[{provide:GT,useFactory:Gce(t),multi:!0,deps:[je,cn,Ol,Nl,[new ft,jE],[new ft,Np],...e]}]}}const Yce=Lt(fce,!0),Xce=Lt(Rce,!0),Jce=Lt(Pce,!0),Zce=Lt(mce,!0),ele=Lt(Sce,!0),qT=Lt(kce,!0),M$="firebasestorage.googleapis.com",R$="storageBucket";class lt extends mr{constructor(e,n,r=0){super(WT(e),`Firebase Storage: ${n} (${WT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return WT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Xe=(()=>(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Xe||(Xe={})),Xe))();function WT(t){return"storage/"+t}function KT(){return new lt(Xe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function QT(t){return new lt(Xe.INVALID_ARGUMENT,t)}function N$(){return new lt(Xe.APP_DELETED,"The Firebase app was deleted.")}function Jd(t,e){return new lt(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Zd(t){throw new lt(Xe.INTERNAL_ERROR,"Internal error: "+t)}class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(""===r.path)return r;throw function lle(t){return new lt(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(M){M.path_=decodeURIComponent(M.path)}const d=n.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function s(M){"/"===M.path.charAt(M.path.length-1)&&(M.path_=M.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===M$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<v.length;M++){const q=v[M],K=q.regex.exec(e);if(K){let Rn=K[q.indices.path];Rn||(Rn=""),r=new jn(K[q.indices.bucket],Rn),q.postModify(r);break}}if(null==r)throw function cle(t){return new lt(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class mle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vm(t){return"string"==typeof t||t instanceof String}function F$(t){return YT()&&t instanceof Blob}function YT(){return typeof Blob<"u"&&!function yN(){var t;const e=null===(t=mp())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function XT(t,e,n,r){if(r<e)throw QT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QT(`Invalid value for '${t}'. Expected ${n} or less.`)}function hs(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function L$(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Ys=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ys||(Ys={})),Ys))();class Ile{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function vle(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=KT();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?N$():function k$(){return new lt(Xe.CANCELED,"User canceled the upload/download.")}():function P$(){return new lt(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new wm(!1,null,!0)):this.backoffId_=function yle(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,..._){if(c)return void h();if(y)return h(),void l.call(null,y,..._);if(u()||o)return h(),void l.call(null,y,..._);let v;r<64&&(r*=2),1===a?(a=2,v=0):v=1e3*(r+Math.random()),d(v)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new wm(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ys.NO_ERROR,u=s.getStatus();if(!a||function V$(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===Ys.ABORT;return void r(!1,new wm(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new wm(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function _le(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xle(...t){const e=function Ale(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(YT())return new Blob(t);throw new lt(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class JT{constructor(e,n){this.data=e,this.contentType=n||null}}function B$(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function $$(t,e){switch(t){case Qr.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Jd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qr.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Jd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Rle(t){if(typeof atob>"u")throw function ple(t){return new lt(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:Jd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class j${constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw Jd(Qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Nle(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class fs{constructor(e,n){let r=0,i="";F$(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(F$(this.data_)){const i=function Mle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new fs(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fs(r,!0)}}static getBlob(...e){if(YT()){const n=e.map(r=>r instanceof fs?r.data_:r);return new fs(xle.apply(null,n))}{const n=e.map(o=>vm(o)?function U$(t,e){switch(t){case Qr.RAW:return new JT(B$(e));case Qr.BASE64:case Qr.BASE64URL:return new JT($$(t,e));case Qr.DATA_URL:return new JT(function kle(t){const e=new j$(t);return e.base64?$$(Qr.BASE64,e.rest):function Ple(t){let e;try{e=decodeURIComponent(t)}catch{throw Jd(Qr.DATA_URL,"Malformed data URL.")}return B$(e)}(e.rest)}(e),function Ole(t){return new j$(t).contentType}(e))}throw KT()}(Qr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new fs(i,!0)}}uploadData(){return this.data_}}function ZT(t){let e;try{e=JSON.parse(t)}catch{return null}return function ble(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function H$(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Vle(t,e){return e}class Hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Vle}}let bm=null;function eh(){if(bm)return bm;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));const n=new Hn("name");n.xform=function e(s,o){return function Ule(t){return!vm(t)||t.length<2?t:H$(t)}(o)},t.push(n);const i=new Hn("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},t.push(i),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),bm=t,bm}function z$(t,e,n){const r=ZT(e);return null===r?null:function $le(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return function Ble(t,e){Object.defineProperty(t,"ref",{get:function n(){const s=new jn(t.bucket,t.fullPath);return e._makeStorageReference(s)}})}(r,t),r}(t,r,n)}const G$="prefixes",q$="items";class bi{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ii(t){if(!t)throw KT()}function sc(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function ale(){return new lt(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ole(){return new lt(Xe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function sle(t){return new lt(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function ule(t){return new lt(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function Wle(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const a=hs(e.bucketOnlyServerUrl(),t.host,t._protocol),c=t.maxOperationRetryTime,l=new bi(a,"GET",function Gle(t,e){return function n(r,i){const s=function zle(t,e,n){const r=ZT(n);return null===r?null:function Hle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[G$])for(const i of n[G$]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new jn(e,s));r.prefixes.push(o)}if(n[q$])for(const i of n[q$]){const s=t._makeStorageReference(new jn(e,i.name));r.items.push(s)}return r}(t,e,r)}(t,e,i);return Ii(null!==s),s}}(t,e.bucket),c);return l.urlParams=s,l.errorHandler=sc(e),l}function Y$(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},u=function a(){let v="";for(let M=0;M<2;M++)v+=Math.random().toString().slice(2);return v}();o["Content-Type"]="multipart/related; boundary="+u;const c=function Q$(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function Xle(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),l=function eS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}(c,n),f=fs.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===f)throw function O$(){return new lt(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=hs(s,t.host,t._protocol),_=t.maxUploadRetryTime,C=new bi(m,"POST",function Im(t,e){return function n(r,i){const s=z$(t,i,e);return Ii(null!==s),s}}(t,n),_);return C.urlParams=p,C.headers=o,C.body=f.uploadData(),C.errorHandler=sc(e),C}let J$=null;class nde{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Zd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rde extends nde{initXhr(){this.xhr_.responseType="text"}}function Yr(){return J$?J$():new rde}class sa{constructor(e,n){this._service=e,this._location=n instanceof jn?n:jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sa(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H$(this._location.path)}get storage(){return this._service}get parent(){const e=function Fle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new jn(this._location.bucket,e);return new sa(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function gle(t){return new lt(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ej(t,e,n){return rS.apply(this,arguments)}function rS(){return rS=g(function*(t,e,n){const i=yield function tj(t,e){null!=e&&"number"==typeof e.maxResults&&XT("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Wle(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Yr)}(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield ej(t,e,i.nextPageToken))}),rS.apply(this,arguments)}function mde(t){t._throwIfRoot("getDownloadURL");const e=function Kle(t,e,n){const i=hs(e.fullServerUrl(),t.host,t._protocol),o=t.maxOperationRetryTime,a=new bi(i,"GET",function qle(t,e){return function n(r,i){const s=z$(t,i,e);return Ii(null!==s),function jle(t,e,n,r){const i=ZT(e);if(null===i||!vm(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.fullPath;return hs("/b/"+o(t.bucket)+"/o/"+o(d),n,r)+L$({alt:"media",token:c})})[0]}(s,i,t.host,t._protocol)}}(t,n),o);return a.errorHandler=function th(t){const e=sc(t);return function n(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function ile(t){return new lt(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),s.serverResponse=i.serverResponse,s}}(e),a}(t.storage,t._location,eh());return t.storage.makeRequestWithTokens(e,Yr).then(n=>{if(null===n)throw function fle(){return new lt(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function rj(t,e){if(t instanceof iS){const n=t;if(null==n._bucket)throw function dle(){return new lt(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+R$+"' property when initializing the app?")}();const r=new sa(n,n._bucket);return null!=e?rj(r,e):r}return void 0!==e?function nj(t,e){const n=function Lle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new jn(t._location.bucket,n);return new sa(t.storage,r)}(t,e):t}function ij(t,e){const n=e?.[R$];return null==n?null:jn.makeFromBucketSpec(n,t)}class iS{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=M$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jn.makeFromBucketSpec(i,this._host):ij(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?jn.makeFromBucketSpec(this._url,e):ij(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mle(N$());{const o=function Sle(t,e,n,r,i,s,o=!0){const a=L$(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function Dle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function Cle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function Ele(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function Tle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Ile(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const sj="@firebase/storage",aj="storage";function Ide(t,e,n){return function Z$(t,e,n){t._throwIfRoot("uploadBytes");const r=Y$(t.storage,t._location,eh(),new fs(e,!0),n);return t.storage.makeRequestWithTokens(r,Yr).then(i=>({metadata:i,ref:t}))}(t=We(t),e,n)}function Cde(t){return function fde(t){const e={prefixes:[],items:[]};return ej(t,e).then(()=>e)}(t=We(t))}function Ede(t){return mde(t=We(t))}function Em(t,e){return function wde(t,e){if(e&&function _de(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof iS)return function vde(t,e){return new sa(t,e)}(t,e);throw QT("To use ref(service, url), the first argument must be a Storage instance.")}return rj(t,e)}(t=We(t),e)}function Dde(t=Al(),e){const r=Wi(t=We(t),aj).getImmediate({identifier:e}),i=pN("storage");return i&&function Tde(t,e,n,r={}){!function bde(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:mN(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function Sde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iS(n,r,i,e,Co)}!function Ade(){Tn(new hn(aj,Sde,"PUBLIC").setMultipleInstances(!0)),ze(sj,"0.11.2",""),ze(sj,"0.11.2","esm2017")}();class Dm{constructor(e){return e}}const uj="storage",sS=new U("angularfire2.storage-instances");function Rde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Dm(r)}}const Pde={provide:class xde{constructor(){return kl(uj)}},deps:[[new ft,sS]]},kde={provide:Dm,useFactory:function Mde(t,e){const n=Pl(uj,t,e);return n&&new Dm(n)},deps:[[new ft,sS],Ms]};let Ode=(()=>{class t{constructor(){ze("angularfire",xs.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[kde,Pde]}),t})();function Nde(t,...e){return{ngModule:Ode,providers:[{provide:sS,useFactory:Rde(t),multi:!0,deps:[je,cn,Ol,Nl,[new ft,jE],[new ft,Np],...e]}]}}const oS=Lt(Ede,!0),Fde=Lt(Dde,!0),Lde=Lt(Cde,!0),Vde=Lt(Ide,!0);let nh=(()=>{class t{constructor(n,r,i){this.auth=n,this.storage=i,this.firestore=ge(ic),this.images=[],this.userData=JSON.parse(localStorage.getItem("user"))}setImgData(n){this.imagenData={completed_at:n.completed_at,created_at:n.created_at,error:n.error,id:n.id,input:n.input,logs:n.logs,metrics:n.metrics,output:n.output,started_at:n.started_at,status:n.status,urls:n.urls,version:n.version,webhook_completed:n.webhook_completed}}setUserData(n){return this.userData={uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,emailVerified:n.emailVerified},S$(ta(this.firestore,"Users",n.uid),this.userData,{merge:!0})}ApiKeyAdd(n){qT(ta(this.firestore,"Users",this.userData.uid),{apyKey:n})}TokenAdd(n){console.log(this.userData),qT(ta(this.firestore,"Users",this.userData.uid),{Token:n})}AgregarImagen(n){this.ControladorImagenes(n.id),S$(ta(this.firestore,"Imagenes",n.id),n)}AgregarImagenUser(n){qT(ta(this.firestore,"Users",this.userData.uid),{Imagenes:n})}getUser(){var n=this;return g(function*(){let r=yield Xce(ta(n.firestore,"Users",n.userData.uid));return n.setUserData(r.data()),r.data()})()}ControladorImagenes(n){var r=this;return g(function*(){r.user=yield r.getUser(),r.Imagenes=r.user.Imagenes,null==r.Imagenes?r.Imagenes=[n]:r.Imagenes.push(n),r.AgregarImagenUser(r.Imagenes)})()}GetAllImages(){var n=this;return g(function*(){const r=ele(Yce(n.firestore,"Imagenes")),i=yield Jce(r);let s=[];return i.forEach(o=>{s.push(o.data())}),s})()}saveImgStorage(n,r){console.log(n);const i=Em(this.storage,`img/${r.id}`);this.AgregarImagen(r),Vde(i,n).then(s=>{console.log(s)}).catch(s=>console.log(s))}getImage(n){var r=this;return g(function*(){const i=Em(r.storage,`img/${n}`);return yield oS(i).then(o=>o)})()}getImages(){var n=this;const r=Em(this.storage,"img");return this.images=[],Lde(r).then(function(){var i=g(function*(s){for(let o of s.items){const a=yield oS(o);n.images.push(a)}});return function(s){return i.apply(this,arguments)}}()).catch(i=>console.log(i)),this.images}downloadIMG(){oS(Em(this.storage,"img/3727094c-a37f-48b5-8f8a-8bb75db3b637-0.png")).then(n=>{const r=new XMLHttpRequest;r.responseType="blob",r.onload=i=>{},r.open("GET",n),r.send()}).catch(n=>{})}}return t.\u0275fac=function(n){return new(n||t)(k(Iu),k(ic),k(Dm))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aS=(()=>{class t{constructor(n,r){this.auth=n,this.firestoreService=r,this.firestore=ge(ic),sV(this.auth).subscribe(i=>{console.log(i),i?(this.firestoreService.userData=i,localStorage.setItem("user",JSON.stringify(this.firestoreService.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}register(n,r){return tse(this.auth,n,r)}login(n,r){var i=this;return g(function*(){return rse(i.auth,n,r).then(s=>{i.firestoreService.setUserData(s)}).catch(s=>console.log(s))})()}GoogleLogin(){var n=this;return g(function*(){try{const r=yield ise(n.auth,new Kne);n.firestoreService.setUserData(r.user),console.log(r)}catch(r){return console.log(r)}})()}SignOut(){return sse(this.auth).then(n=>{})}}return t.\u0275fac=function(n){return new(n||t)(k(Iu),k(nh))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cj=function(){return["/perfil"]};function Ude(t,e){1&t&&(I(0,"a",3),R(1,"Resgistrarse"),E()),2&t&&re("routerLink",Vi(1,cj))}function Bde(t,e){1&t&&(I(0,"a",3),R(1,"Iniciar"),E()),2&t&&re("routerLink",Vi(1,cj))}const lj=function(){return["/"]};function $de(t,e){if(1&t){const n=lo();I(0,"a",10),X("click",function(){return Pe(n),ke(we().signOut())}),R(1,"Sign Out"),E()}2&t&&re("routerLink",Vi(1,lj))}const jde=function(){return["/tutorial"]},Hde=function(){return["/crear"]};let rh=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.logueado=JSON.parse(localStorage.getItem("user"))}signOut(){this.authService.SignOut().then(n=>{console.log(n),this.router.navigateByUrl("/tutorial").then(()=>{this.router.navigate(["/"])})}).catch(n=>console.log(n))}}return t.\u0275fac=function(n){return new(n||t)(D(aS),D(Dn))},t.\u0275cmp=ti({type:t,selectors:[["app-nav-bar"]],decls:18,vars:9,consts:[[1,"imgNav"],["src","../../../assets/ChatGPT.svg","alt",""],[1,"enlacesNav"],[3,"routerLink"],[1,"dropdown"],[1,"dropbtn"],[1,"fa","fa-caret-down"],[1,"dropdown-content"],[3,"routerLink",4,"ngIf"],[3,"routerLink","click",4,"ngIf"],[3,"routerLink","click"]],template:function(n,r){1&n&&(I(0,"nav")(1,"div",0),F(2,"img",1),E(),I(3,"div",2)(4,"a",3),R(5,"Home"),E(),I(6,"a",3),R(7,"About"),E(),I(8,"a",3),R(9,"Crear"),E(),I(10,"div",4)(11,"button",5),R(12,"Perfil "),F(13,"i",6),E(),I(14,"div",7),Ur(15,Ude,2,2,"a",8),Ur(16,Bde,2,2,"a",8),Ur(17,$de,2,2,"a",9),E()()()()),2&n&&(ne(4),re("routerLink",Vi(6,lj)),ne(2),re("routerLink",Vi(7,jde)),ne(2),re("routerLink",Vi(8,Hde)),ne(7),re("ngIf",!r.logueado),ne(1),re("ngIf",!r.logueado),ne(1),re("ngIf",null!=r.logueado))},dependencies:[el,bl],styles:["nav[_ngcontent-%COMP%]{width:90%;height:50px;display:flex;justify-content:space-between;background-color:#05063dda;color:#fff;border-radius:10px;margin:0 auto;justify-self:center}nav[_ngcontent-%COMP%]   .imgNav[_ngcontent-%COMP%]{background-color:#fffc;border-radius:10px}nav[_ngcontent-%COMP%]   .imgNav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;justify-content:center;color:#fff}nav[_ngcontent-%COMP%]   .enlacesNav[_ngcontent-%COMP%]{display:flex;margin-right:4vw}nav[_ngcontent-%COMP%]   .enlacesNav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:auto 20px}nav[_ngcontent-%COMP%]   .enlacesNav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transition:all .5s;scale:1.1}@media (max-width: 495px){nav[_ngcontent-%COMP%]{width:100%;margin:0;border-radius:10px 0 0 10px}}.dropdown[_ngcontent-%COMP%]{color:#fff;margin:auto 0}.dropdown[_ngcontent-%COMP%]   .dropbtn[_ngcontent-%COMP%]{font-size:16px;border:none;outline:none;color:#fff;padding:14px 0;background-color:inherit;font-family:inherit;margin:0}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{background-color:#2a238a}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#4a289b;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;color:#000;padding:12px 16px;text-decoration:none;display:block;text-align:left}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#4f7fd8}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}"]}),t})();function zde(t,e){if(1&t&&(I(0,"div",1)(1,"div",2)(2,"p"),R(3),F(4,"br"),R(5),F(6,"br"),R(7),F(8,"br"),E()(),I(9,"div",3),F(10,"img",4),E()()),2&t){const n=we();ne(3),Ka(" Input: ",n.imagen.input.prompt,""),ne(2),Ka(" Negative prompt: ",""==n.imagen.input.negative_prompt?"null":+n.imagen.input.negative_prompt,""),ne(2),Ka(" Num inference steps: ",""==n.imagen.input.num_inference_steps?"null":+n.imagen.input.num_inference_steps,""),ne(3),A_("src",n.img,Oi)}}let Gde=(()=>{class t{constructor(n){this.firestoreService=n,this.img="",this.displayNone=!1}ngOnInit(){this.setimg()}setimg(){var n=this;return g(function*(){n.img=yield n.firestoreService.getImage(n.imagen.id),console.log(n.imagen),n.displayNone=!!n.img})()}}return t.\u0275fac=function(n){return new(n||t)(D(nh))},t.\u0275cmp=ti({type:t,selectors:[["app-card-promps"]],inputs:{imagen:"imagen"},decls:1,vars:1,consts:[["class","cardPromt",4,"ngIf"],[1,"cardPromt"],[1,"bodyPromt"],[1,"imgPromt"],["alt","",3,"src"]],template:function(n,r){1&n&&Ur(0,zde,11,4,"div",0),2&n&&re("ngIf",r.displayNone)},dependencies:[el],styles:[".cardPromt[_ngcontent-%COMP%]{position:relative;height:auto;width:23vw;margin:.5vw}.cardPromt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8vw;text-align:center}.cardPromt[_ngcontent-%COMP%]   .bodyPromt[_ngcontent-%COMP%]{width:22vw;position:absolute;top:17vw;margin:.5vw;z-index:10;border-radius:10px;background-color:#e9cece00;color:#14141400}.cardPromt[_ngcontent-%COMP%]   .bodyPromt[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#bdb9b9bb;color:#0f0f0fe8}.cardPromt[_ngcontent-%COMP%]   .bodyPromt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden;border-radius:10px;font-size:1.5vw;height:8vw;padding:30px 10px 10px;align-content:center;background-color:#d1d1d100;text-overflow:ellipsis}.cardPromt[_ngcontent-%COMP%]   .imgPromt[_ngcontent-%COMP%]{width:100%;position:relative;aspect-ratio:3/4}.cardPromt[_ngcontent-%COMP%]   .imgPromt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;position:absolute;height:100%;width:100%;border-radius:0}@media screen and (max-width: 880px){.cardPromt[_ngcontent-%COMP%]{width:46vw}.cardPromt[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5vw;text-align:center}.cardPromt[_ngcontent-%COMP%]   .bodyPromt[_ngcontent-%COMP%]{width:42vw;position:absolute;top:40vw;margin:3vw;z-index:10;border-radius:10px}.cardPromt[_ngcontent-%COMP%]   .bodyPromt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2vw;height:8vw;padding:10px}.cardPromt[_ngcontent-%COMP%]   .imgPromt[_ngcontent-%COMP%]{width:100%;position:relative;aspect-ratio:3/4}.cardPromt[_ngcontent-%COMP%]   .imgPromt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;position:absolute;height:100%;width:100%;border-radius:0}}@media screen and (max-width: 450px){.cardPromt[_ngcontent-%COMP%]{width:46vw}}"]}),t})();function qde(t,e){1&t&&F(0,"app-card-promps",9),2&t&&re("imagen",e.$implicit)}let Wde=(()=>{class t{constructor(n){this.firestoreService=n,this.getimgs(),this.getAll()}getImg(n){var r=this;return g(function*(){r.InfoImage.map(function(){var i=g(function*(s){yield r.firestoreService.getImage(s.id)});return function(s){return i.apply(this,arguments)}}())})()}getimgs(){var n=this;return g(function*(){n.Imagenes=[],n.Imagenes=yield n.firestoreService.getImages()})()}getAll(){var n=this;return g(function*(){let r=yield n.firestoreService.GetAllImages();n.InfoImage=r,n.getImg(r)})()}}return t.\u0275fac=function(n){return new(n||t)(D(nh))},t.\u0275cmp=ti({type:t,selectors:[["app-home"]],decls:15,vars:1,consts:[[1,"ViewHome"],[1,"cardsHome"],[3,"imagen",4,"ngFor","ngForOf"],[1,"footer"],[1,"footerLinks"],["href","/"],["href","/crear"],["href","/tutorial"],[1,"footerEnd"],[3,"imagen"]],template:function(n,r){1&n&&(I(0,"div",0),F(1,"app-nav-bar"),I(2,"div",1),Ur(3,qde,1,1,"app-card-promps",2),E(),I(4,"div",3)(5,"div",4)(6,"a",5),R(7,"Home"),E(),I(8,"a",6),R(9,"Crear"),E(),I(10,"a",7),R(11,"About"),E()(),F(12,"hr"),I(13,"p",8),R(14," Dall-E & Stable Diffusion "),E()()()),2&n&&(ne(3),re("ngForOf",r.InfoImage))},dependencies:[rk,rh,Gde],styles:[".ViewHome[_ngcontent-%COMP%]{background-color:#222}.cardsHome[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:10px}.footer[_ngcontent-%COMP%]{width:100%;margin-top:30px;height:200px;background-color:#15171f;padding-top:40px}.footer[_ngcontent-%COMP%]   .footerEnd[_ngcontent-%COMP%]{color:#fff;text-align:center}.footer[_ngcontent-%COMP%]   .footerLinks[_ngcontent-%COMP%]{display:flex;justify-content:center}.footer[_ngcontent-%COMP%]   .footerLinks[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff;margin:30px;text-decoration:underline;padding:7px;border-radius:10px}"]}),t})(),dj=(()=>{class t{constructor(n){this.http=n}get(n,r,i,s){const o=new pr({"X-RapidAPI-Key":i,"X-RapidAPI-Host":s});return this.http.post(n,r,{headers:o})}}return t.\u0275fac=function(n){return new(n||t)(k(Wv))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hj=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(Ni),D(hr))},t.\u0275dir=ae({type:t}),t})(),oa=(()=>{class t extends hj{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=un(t)))(r||t)}}(),t.\u0275dir=ae({type:t,features:[$e]}),t})();const Ci=new U("NgValueAccessor"),Yde={provide:Ci,useExisting:Qe(()=>ac),multi:!0},Jde=new U("CompositionEventMode");let ac=(()=>{class t extends hj{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xde(){const t=ji()?ji().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Ni),D(hr),D(Jde,8))},t.\u0275dir=ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&X("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[it([Yde]),$e]}),t})();const Zde=!1,Mn=new U("NgValidators"),Js=new U("NgAsyncValidators");function Cj(t){return null!=t}function Ej(t){const e=Vc(t)?Pt(t):t;if(Zde&&!S_(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new x(-1101,n)}return e}function Dj(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Tj(t,e){return e.map(n=>n(t))}function Sj(t){return t.map(e=>function the(t){return!t.validate}(e)?e:n=>e.validate(n))}function uS(t){return null!=t?function Aj(t){if(!t)return null;const e=t.filter(Cj);return 0==e.length?null:function(n){return Dj(Tj(n,e))}}(Sj(t)):null}function cS(t){return null!=t?function xj(t){if(!t)return null;const e=t.filter(Cj);return 0==e.length?null:function(n){return function Kde(...t){const e=ZS(t),{args:n,keys:r}=Wk(t),i=new Je(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Ir(n[l]).subscribe(dt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?Qk(r,a):a),s.complete())}))}});return e?i.pipe(Kk(e)):i}(Tj(n,e).map(Ej)).pipe(pe(Dj))}}(Sj(t)):null}function Mj(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lS(t){return t?Array.isArray(t)?t:[t]:[]}function Sm(t,e){return Array.isArray(t)?t.includes(e):t===e}function kj(t,e){const n=lS(e);return lS(t).forEach(i=>{Sm(n,i)||n.push(i)}),n}function Oj(t,e){return lS(e).filter(n=>!Sm(t,n))}class Nj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class zn extends Nj{get formDirective(){return null}get path(){return null}}class Zs extends Nj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Am=(()=>{class t extends Fj{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Zs,2))},t.\u0275dir=ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&cf("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$e]}),t})();const ih="VALID",Mm="INVALID",uc="PENDING",sh="DISABLED";function Rm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Bj{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ih}get invalid(){return this.status===Mm}get pending(){return this.status==uc}get disabled(){return this.status===sh}get enabled(){return this.status!==sh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Oj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Oj(e,this._rawAsyncValidators))}hasValidator(e){return Sm(this._rawValidators,e)}hasAsyncValidator(e){return Sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=uc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ih,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ih||this.status===uc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sh:ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=uc,this._hasOwnPendingAsyncValidator=!0;const n=Ej(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?sh:this.errors?Mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uc)?uc:this._anyControlsHaveStatus(Mm)?Mm:ih}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function che(t){return Array.isArray(t)?uS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lhe(t){return Array.isArray(t)?cS(t):t||null}(this._rawAsyncValidators)}}const aa=new U("CallSetDisabledState",{providedIn:"root",factory:()=>oh}),oh="always";function ah(t,e,n=oh){(function yS(t,e){const n=function Rj(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Mj(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Pj(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Mj(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Om(e._rawValidators,i),Om(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function fhe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$j(t,e)})}(t,e),function ghe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function phe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$j(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function hhe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Om(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $j(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function zj(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gj(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const qj=class extends Bj{constructor(e=null,n,r){super(function pS(t){return(Rm(t)?t.validators:t)||null}(n),function gS(t,e){return(Rm(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Gj(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Gj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Che={provide:Zs,useExisting:Qe(()=>ch)},Qj=(()=>Promise.resolve())();let ch=(()=>{class t extends Zs{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new qj,this._registered=!1,this.update=new gt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ac?n=s:function _he(t){return Object.getPrototypeOf(t.constructor)===oa}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function vS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ah(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Qj.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&eu(r);Qj.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Pm(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(zn,9),D(Mn,10),D(Js,10),D(Ci,10),D(Ef,8),D(aa,8))},t.\u0275dir=ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[it([Che]),$e,Dr]}),t})(),Xj=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({}),t})();const Ahe={provide:Ci,useExisting:Qe(()=>IS),multi:!0};let IS=(()=>{class t extends oa{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=un(t)))(r||t)}}(),t.\u0275dir=ae({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(n,r){1&n&&X("change",function(s){return r.onChange(s.target.value)})("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[it([Ahe]),$e]}),t})();const CS=new U("NgModelWithFormControlWarning");let fH=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({imports:[Xj]}),t})(),Qhe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:aa,useValue:n.callSetDisabledState??oh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({imports:[fH]}),t})(),Yhe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:CS,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:aa,useValue:n.callSetDisabledState??oh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({imports:[fH]}),t})();function Xhe(t,e){if(1&t){const n=lo();I(0,"div",4)(1,"div",5),X("click",function(){return Pe(n),ke(we().open())}),F(2,"i",6),E(),I(3,"h2"),R(4,"Registrarse"),E(),I(5,"div",7)(6,"label",8),R(7,"Nombre:"),E(),I(8,"input",9),X("ngModelChange",function(i){return Pe(n),ke(we().nombre=i)}),E(),F(9,"br"),E(),I(10,"div",7)(11,"label",10),R(12,"Correo"),E(),I(13,"input",11),X("ngModelChange",function(i){return Pe(n),ke(we().correo=i)}),E(),F(14,"br"),E(),I(15,"div",7)(16,"label",12),R(17,"Password"),E(),I(18,"input",13),X("ngModelChange",function(i){return Pe(n),ke(we().password=i)}),E(),F(19,"br"),E(),I(20,"div",7)(21,"label",14),R(22,"Confirmar"),E(),F(23,"input",15)(24,"br"),E(),I(25,"div",16)(26,"button",17),X("click",function(){return Pe(n),ke(we().registrar())}),R(27,"Registrate"),E(),I(28,"button",18),X("click",function(){return Pe(n),ke(we().Google())}),F(29,"i",19),E()()()}if(2&t){const n=we();ne(8),re("ngModel",n.nombre),ne(5),re("ngModel",n.correo),ne(5),re("ngModel",n.password)}}function Jhe(t,e){if(1&t){const n=lo();I(0,"div")(1,"div",4)(2,"div",20)(3,"i",21),X("click",function(){return Pe(n),ke(we().open())}),E()(),I(4,"h2"),R(5,"Login"),E(),I(6,"div",7)(7,"label",10),R(8,"Correo"),E(),I(9,"input",11),X("ngModelChange",function(i){return Pe(n),ke(we().correo=i)}),E(),F(10,"br"),E(),I(11,"div",7)(12,"label",12),R(13,"Password"),E(),I(14,"input",13),X("ngModelChange",function(i){return Pe(n),ke(we().password=i)}),E(),F(15,"br"),E(),I(16,"div",16)(17,"button",18),X("click",function(){return Pe(n),ke(we().Google())}),F(18,"i",19),E(),I(19,"button",18),X("click",function(){return Pe(n),ke(we().login())}),I(20,"i",22),R(21,"inicia session"),E()()()()()}if(2&t){const n=we();ne(9),re("ngModel",n.correo),ne(5),re("ngModel",n.password)}}let Zhe=(()=>{class t{constructor(n,r,i){this.authService=n,this.RestService=r,this.router=i,this.isOpen=!1,this.nombre="",this.correo="",this.password=""}ngOnInit(){}registrar(){this.authService.register(this.correo,this.password).then(n=>{console.log(n)}).catch(n=>console.log(n))}login(){this.authService.login(this.correo,this.password).then(n=>{console.log(n),this.router.navigate(["/"])}).catch(n=>console.log(n))}Google(){this.authService.GoogleLogin().then(n=>{this.router.navigate(["/"])}).catch(n=>{console.log(n)})}open(){this.correo="",this.password="",this.isOpen=!this.isOpen}}return t.\u0275fac=function(n){return new(n||t)(D(aS),D(dj),D(Dn))},t.\u0275cmp=ti({type:t,selectors:[["app-perfil"]],decls:5,vars:2,consts:[[1,"ViewPerfil"],[1,"registro"],["class","card",4,"ngIf"],[4,"ngIf"],[1,"card"],[1,"",3,"click"],[1,"fa-solid","fa-right-to-bracket","fa-xl"],[1,"secForm"],["for","name"],["id","name","type","text","placeholder","Nombre",1,"",3,"ngModel","ngModelChange"],["for","mail"],["id","mail","type","text","placeholder","Correo@gmail.com",3,"ngModel","ngModelChange"],["for","pass1"],["id","pass1","type","text","placeholder","*********",3,"ngModel","ngModelChange"],["for","pass2"],["id","pass2","type","text","placeholder","*********"],[1,"botones"],[1,"btnNormal",3,"click"],[1,"btnGoogle",3,"click"],[1,"fa-brands","fa-google",2,"color","#f5f5f5"],[1,""],[1,"fa-solid","fa-right-to-bracket","fa-xl",3,"click"],[1,"fa-solid","fa-right-to-bracket",2,"color","#f5f5f5"]],template:function(n,r){1&n&&(I(0,"div",0),F(1,"app-nav-bar"),I(2,"div",1),Ur(3,Xhe,30,3,"div",2),Ur(4,Jhe,22,2,"div",3),E()()),2&n&&(ne(3),re("ngIf",!r.isOpen),ne(1),re("ngIf",r.isOpen))},dependencies:[el,ac,Am,ch,rh],styles:[".registro[_ngcontent-%COMP%]{background-color:#dfe795;width:40vw;margin:0 auto;padding:3vw;margin-top:5vh;border-radius:10px;box-shadow:#00000040 0 54px 55px,#3388b91f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}@media (max-width: 695px){.registro[_ngcontent-%COMP%]{width:80vw}}.registro[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2vw}.registro[_ngcontent-%COMP%]   .secForm[_ngcontent-%COMP%]{display:flex;width:95%;justify-content:space-between;margin:2vh}.registro[_ngcontent-%COMP%]   .secForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;margin:1vh;font-size:2.6vh;width:20%}.registro[_ngcontent-%COMP%]   .secForm[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:5px;padding:5px;width:75%;font-size:2.2vh;justify-content:center}.registro[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{padding:3vw 0;flex-direction:column;display:flex;width:100%;justify-content:center}.registro[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30vw;border:none;border-radius:10px;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px auto}.registro[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .btnNormal[_ngcontent-%COMP%]{background-color:#e79418}.registro[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .btnGoogle[_ngcontent-%COMP%]{background-color:#048649}"]}),t})(),pH=(()=>{class t{constructor(n){this.http=n}getStableDifusion(n,r,i){const s=new pr({Authorization:"Token "+i,"Access-Control-Allow-Origin":"*","Content-Type":"application/json"});return this.http.post(n,r,{headers:s})}getImage(n,r){const i=new pr({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"});return this.http.post(n,r,{headers:i})}getUrl(n,r){const i=new pr({"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Authorization:"Token "+r});let s=n.urls.get;return console.log(s.substring(29)),this.http.get(s.substring(29),{headers:i})}descargarImagen(n){return this.http.get(n,{observe:"response",responseType:"blob"})}}return t.\u0275fac=function(n){return new(n||t)(k(Wv))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function efe(t,e){if(1&t){const n=lo();I(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2"),R(4,"Dall-e"),E(),I(5,"button",7),X("click",function(){return Pe(n),ke(we().changeSwicht())}),R(6,"Stable Diffusion"),E()(),I(7,"label",8),R(8,"Medidas"),E(),I(9,"input",9),X("ngModelChange",function(i){return Pe(n),ke(we().medidas=i)}),E(),F(10,"br"),I(11,"label",8),R(12,"X-RapidAPI-Key"),E(),I(13,"input",10),X("ngModelChange",function(i){return Pe(n),ke(we().RapidAPI=i)}),E(),F(14,"br"),I(15,"label",8),R(16,"X-ApiHost"),E(),I(17,"input",10),X("ngModelChange",function(i){return Pe(n),ke(we().apiHost=i)}),E(),F(18,"br"),I(19,"label",8),R(20,"Prompt"),E(),F(21,"br"),I(22,"textarea",11),X("ngModelChange",function(i){return Pe(n),ke(we().promp=i)}),E(),F(23,"br"),I(24,"button",12),X("click",function(){return Pe(n),ke(we().Generar())}),R(25,"Generar"),E()(),I(26,"div",13)(27,"div",14),F(28,"img",15),E()()()}if(2&t){const n=we();ne(9),re("ngModel",n.medidas),ne(4),re("ngModel",n.RapidAPI),ne(4),re("ngModel",n.apiHost),ne(5),re("ngModel",n.promp),ne(6),re("src",n.response.data[0].url,Oi)}}function tfe(t,e){if(1&t){const n=lo();I(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2"),R(4,"Stable Diffusion"),E(),I(5,"button",7),X("click",function(){return Pe(n),ke(we().changeSwicht())}),R(6,"Dall-e"),E()(),I(7,"label",8),R(8,"Token"),E(),I(9,"input",16),X("ngModelChange",function(i){return Pe(n),ke(we().Token=i)}),E(),F(10,"br"),I(11,"label",8),R(12,"Wight"),E(),I(13,"input",17),X("ngModelChange",function(i){return Pe(n),ke(we().W=i)}),E(),F(14,"br"),I(15,"label",8),R(16,"Height"),E(),I(17,"input",17),X("ngModelChange",function(i){return Pe(n),ke(we().H=i)}),E(),F(18,"br"),I(19,"label",8),R(20,"Prompt"),E(),F(21,"br"),I(22,"textarea",11),X("ngModelChange",function(i){return Pe(n),ke(we().promp=i)}),E(),F(23,"br"),I(24,"label",8),R(25,"Negative Prompt"),E(),F(26,"br"),I(27,"textarea",11),X("ngModelChange",function(i){return Pe(n),ke(we().negativePromp=i)}),E(),F(28,"br"),I(29,"label",8),R(30,"Num_inference_steps"),E(),I(31,"div",18)(32,"input",19),X("ngModelChange",function(i){return Pe(n),ke(we().Num_inference_steps=i)}),E(),I(33,"input",20),X("ngModelChange",function(i){return Pe(n),ke(we().Num_inference_steps=i)}),E()(),F(34,"br"),I(35,"label",8),R(36,"Guidance_scale"),E(),I(37,"div",18)(38,"input",21),X("ngModelChange",function(i){return Pe(n),ke(we().Guidance_scale=i)}),E(),I(39,"input",22),X("ngModelChange",function(i){return Pe(n),ke(we().Guidance_scale=i)}),E()(),F(40,"br"),I(41,"label",8),R(42,"Seed"),E(),I(43,"input",23),X("ngModelChange",function(i){return Pe(n),ke(we().Seed=i)}),E(),F(44,"br"),I(45,"button",12),X("click",function(){return Pe(n),ke(we().GenerarStableDifussion())}),R(46,"Generar"),E()(),I(47,"div",13)(48,"a",24)(49,"div",14),F(50,"img",25),E()()()()}if(2&t){const n=we();ne(9),re("ngModel",n.Token),ne(4),re("ngModel",n.W),ne(4),re("ngModel",n.H),ne(5),re("ngModel",n.promp),ne(5),re("ngModel",n.negativePromp),ne(5),re("ngModel",n.Num_inference_steps),ne(1),re("ngModel",n.Num_inference_steps),ne(5),re("ngModel",n.Guidance_scale),ne(1),re("ngModel",n.Guidance_scale),ne(4),re("ngModel",n.Seed),ne(5),re("href",n.responseSableDifusion.output[0],Oi),ne(2),re("src",n.responseSableDifusion.output[0],Oi)}}function nfe(t,e){if(1&t){const n=lo();I(0,"div",26)(1,"div",27)(2,"h3"),R(3,"Subir imagen"),E(),I(4,"button",1),X("click",function(){return Pe(n),ke(we().ShowModal())}),R(5,"X"),E()(),I(6,"div",28)(7,"div",29)(8,"label"),R(9,"image"),E(),F(10,"br"),I(11,"input",30),X("change",function(i){return Pe(n),ke(we().uploadImg(i))}),E(),F(12,"br"),I(13,"label",8),R(14,"Prompt"),E(),F(15,"br"),I(16,"p"),R(17),E(),F(18,"br"),I(19,"label",8),R(20,"Negative Prompt"),E(),F(21,"br"),I(22,"p"),R(23),E(),F(24,"br"),I(25,"button",1),X("click",function(){return Pe(n),ke(we().publicarImg())}),R(26,"Publicar imagen"),E()(),I(27,"div",31)(28,"a",24),F(29,"img",25),E()()()()}if(2&t){const n=we();ne(17),df(n.responseSableDifusion.input&&n.responseSableDifusion.input.prompt),ne(6),df(n.responseSableDifusion.input&&n.responseSableDifusion.input.negative_prompt),ne(5),re("href",n.responseSableDifusion.output[0],Oi),ne(1),re("src",n.responseSableDifusion.output[0],Oi)}}let rfe=(()=>{class t{constructor(n,r,i){this.RestService=n,this.firestoreService=r,this.StableDifussion=i,this.promp="",this.swicht=!1,this.negativePromp="",this.Token="",this.Seed=null,this.H=512,this.W=512,this.Guidance_scale=7.5,this.scheduler="K_EULER",this.Num_inference_steps=50,this.responseSableDifusion={status:"success",generationTime:1.0769741535186768,id:12777029,output:["https://pub-8b49af329fae499aa563997f5d4068a4.r2.dev/generations/3727094c-a37f-48b5-8f8a-8bb75db3b637-0.png"],meta:{H:512,W:512,enable_attention_slicing:"true",file_prefix:"3727094c-a37f-48b5-8f8a-8bb75db3b637",guidance_scale:7.5,model:"runwayml/stable-diffusion-v1-5",n_samples:1,negative_prompt:"((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, (((skinny))), glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs)), anime ((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs))",outdir:"out",prompt:"ultra realistic close up portrait ((beautiful pale cyberpunk female with heavy black eyeliner)), blue eyes, shaved side haircut, hyper detail, cinematic lighting, magic neon, dark red city, Canon EOS R3, nikon, f/1.4, ISO 200, 1/160s, 8K, RAW, unedited, symmetrical balance, in-frame, 8K DSLR photography, sharp focus, Unreal Engine 5, Octane Render, Redshift, ((cinematic lighting)), f/1.4, ISO 200, 1/160s, 8K, RAW, unedited, symmetrical balance, in-frame",revision:"fp16",safetychecker:"no",seed:3331968503,steps:20,vae:"stabilityai/sd-vae-ft-mse"}},this.medidas="1024x1024",this.RapidAPI="",this.apiHost="openai80.p.rapidapi.com",this.modalShow=!1,this.response={created:1681268637,data:[{url:"../../assets/123.jpg"}]},this.decode64="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAMFBMVEX////7+/vr6+vNzc2qqqplywBWrQD/Y5T/JTf+AADmAABeeEQvNydqAAAGBAMAAAGoF14oAAAEBUlEQVR42u2WTUwUVxzA/2925LIojsyqCLtMqSQeFJeFROPHstjdNkZdkaiX9mRTovYgSYNFE43Rg5IeNG5SqyaVcGzXkvTm7hZWq9bKriAYYzSLBI3WAplp0jY2kV3fzPuYGcBxD/bmO0zevPeb//f7v0FQ5EDvwf8LFG89ixYDol9Wo+smKal2sHF6kM6q7qbE5tY03d7SHR6ygiuvwY1txkzIlPaD3NQ4Zryk/PCP1wKibBlI97dq+idXUxqgcEkVnruS/smRpuWaCbrHU5pc/wyTQsata0U77wVBTlRP9UNkT9oE61K9AHL9VERbeTVurMjNm54mqrFw8CwKmWBfpf6V2Dx/TdxN3YjMf2JwIEZ8JnjnEbEjvLAQZ1EKlxkciJ9UcdD1Z5ztDmgsgPIrMkWtMgfd41xOYXZOIjUcLB3tdchypHWIgb5k2gH0nE0zMHjRCRTLWxgY/VQrDuybcAQ/DDEwmwEn8COlSDBcTUE0GXcEjRzqoDDhDH7sfccg2szAt9hogjBFQFRmDyd9N1VTEFegXXKEVKQFJHEUd0DSKhLthIm0HSQpnNdCNizgq147GP0m7QTygNMye6NqM9ekwlG4kLI5I4cMZ+bVhMA8MwX1rw9oIjakAYX6jXlBRRJ4BF6PwmRSfQyLFhJwWy/IG8khKuirljODG0DfGAd3qCBNEol5vCqFAxqYLeUyB0H2A2Q0DspRD3BQfJEc5KBl6KprG6pNEPqqfkKzOQBsha2bQeVw6g3nSySaGYgb99ylhsLDLVYQ3E+oozOGHKzVbCBs+HkuUm6ivd4E0ZYeNTPTTrn51+0wA9TJgpZVLeaV1y+4yS8c64W0/AcFTBCHK/fFEMwFAmo4KRldE0ZxsF8cGbTuzYqHtOz8t6e8TMk5CcjNSC+kdcfgPyag9AoDhUQARmvAcIiAW3v0JzWJg64BJXdBQ21+/b4zwMqRW5dA2h3I7+onYJd+Y4i3FbyMxz4hxE7hS2MBdSq6Fgq6Bny/dxv6Sk76COj6Yz91ZG8dToQ7oYNCqu4QjX9FK5UoPt/PXO701mruhwcxGP2ecahzzxBtUtlzLHclsXtBA6wc+a2brlUc8TCvg5cPM7LiaOPT8Y4ub3bpAbqy+MQ18xRmvIe5nr83YXDt8Nca0/GveWniSHByybEVwx1dD1ccYB/6yF8DTaGcYLFA391o6DjjohaWfKXQ/xCWazmhPDhNbYf2WH4fse9zhRUkLwrXlUD+9iVD5HR77KWheclxkqsZ1bM+pqcWZ2xVe0zXjPb6pyO8IK1l5trcA7mLKuo48+VpQG0BuPmZeTbs9Vi+9oQyqv6Ieyou4FybU+HqRS4o+TH1VG7MvgFFjvfguwFfA4FobmCxcnTPAAAAAElFTkSuQmCC",this.nombreImg="",this.getdata()}changeSwicht(){this.swicht=!this.swicht}ShowModal(){this.modalShow=!this.modalShow}ImagenStablediffusion(){this.StableDifussion.getImage("https://stablediffusionapi.com/api/v3/text2img",{key:this.Token,prompt:this.promp,negative_prompt:this.negativePromp,width:this.W,height:this.H,samples:"1",num_inference_steps:this.Num_inference_steps,safety_checker:"no",enhance_prompt:"yes",seed:this.Seed,guidance_scale:this.Guidance_scale,webhook:null,track_id:null}).subscribe(r=>{this.responseSableDifusion=r})}setResp(n){this.responseSD={completed_at:n.completed_at,created_at:n.created_at,error:n.error,id:n.id,input:n.input,logs:n.logs,metrics:n.metrics,output:n.output,started_at:n.started_at,status:n.status,urls:n.urls,version:n.version,webhook_completed:n.webhook_completed}}Comprobar(){}GenerarStableDifussion(){this.StableDifussion.getStableDifusion("predictions",{version:"db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf",input:{guidance_scale:7.5,image_dimensions:"512x512",negative_prompt:this.negativePromp,num_inference_steps:50,num_outputs:1,prompt:this.promp,scheduler:"K_EULER"}},this.Token).subscribe(r=>{this.setResp(r),setTimeout(()=>{this.RecursiveAwait(r)},1e4)})}RecursiveAwait(n){this.StableDifussion.getUrl(n,this.Token).subscribe(r=>{null!=r.completed_at?(console.log(r),this.firestoreService.TokenAdd(this.Token),this.responseSableDifusion=r,this.ShowModal()):setTimeout(()=>{this.RecursiveAwait(n)},1e3)})}getdata(){var n=this;return g(function*(){n.user=yield n.firestoreService.getUser(),n.RapidAPI=n.user.apyKey,n.Token=n.user.Token})()}getBase64Img(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQBAMAAAB8P++eAAAAMFBMVEX////7+/vr6+vNzc2qqqplywBWrQD/Y5T/JTf+AADmAABeeEQvNydqAAAGBAMAAAGoF14oAAAEBUlEQVR42u2WTUwUVxzA/2925LIojsyqCLtMqSQeFJeFROPHstjdNkZdkaiX9mRTovYgSYNFE43Rg5IeNG5SqyaVcGzXkvTm7hZWq9bKriAYYzSLBI3WAplp0jY2kV3fzPuYGcBxD/bmO0zevPeb//f7v0FQ5EDvwf8LFG89ixYDol9Wo+smKal2sHF6kM6q7qbE5tY03d7SHR6ygiuvwY1txkzIlPaD3NQ4Zryk/PCP1wKibBlI97dq+idXUxqgcEkVnruS/smRpuWaCbrHU5pc/wyTQsata0U77wVBTlRP9UNkT9oE61K9AHL9VERbeTVurMjNm54mqrFw8CwKmWBfpf6V2Dx/TdxN3YjMf2JwIEZ8JnjnEbEjvLAQZ1EKlxkciJ9UcdD1Z5ztDmgsgPIrMkWtMgfd41xOYXZOIjUcLB3tdchypHWIgb5k2gH0nE0zMHjRCRTLWxgY/VQrDuybcAQ/DDEwmwEn8COlSDBcTUE0GXcEjRzqoDDhDH7sfccg2szAt9hogjBFQFRmDyd9N1VTEFegXXKEVKQFJHEUd0DSKhLthIm0HSQpnNdCNizgq147GP0m7QTygNMye6NqM9ekwlG4kLI5I4cMZ+bVhMA8MwX1rw9oIjakAYX6jXlBRRJ4BF6PwmRSfQyLFhJwWy/IG8khKuirljODG0DfGAd3qCBNEol5vCqFAxqYLeUyB0H2A2Q0DspRD3BQfJEc5KBl6KprG6pNEPqqfkKzOQBsha2bQeVw6g3nSySaGYgb99ylhsLDLVYQ3E+oozOGHKzVbCBs+HkuUm6ivd4E0ZYeNTPTTrn51+0wA9TJgpZVLeaV1y+4yS8c64W0/AcFTBCHK/fFEMwFAmo4KRldE0ZxsF8cGbTuzYqHtOz8t6e8TMk5CcjNSC+kdcfgPyag9AoDhUQARmvAcIiAW3v0JzWJg64BJXdBQ21+/b4zwMqRW5dA2h3I7+onYJd+Y4i3FbyMxz4hxE7hS2MBdSq6Fgq6Bny/dxv6Sk76COj6Yz91ZG8dToQ7oYNCqu4QjX9FK5UoPt/PXO701mruhwcxGP2ecahzzxBtUtlzLHclsXtBA6wc+a2brlUc8TCvg5cPM7LiaOPT8Y4ub3bpAbqy+MQ18xRmvIe5nr83YXDt8Nca0/GveWniSHByybEVwx1dD1ccYB/6yF8DTaGcYLFA391o6DjjohaWfKXQ/xCWazmhPDhNbYf2WH4fse9zhRUkLwrXlUD+9iVD5HR77KWheclxkqsZ1bM+pqcWZ2xVe0zXjPb6pyO8IK1l5trcA7mLKuo48+VpQG0BuPmZeTbs9Vi+9oQyqv6Ieyou4FybU+HqRS4o+TH1VG7MvgFFjvfguwFfA4FobmCxcnTPAAAAAElFTkSuQmCC"}Generar(){this.RestService.get("https://openai80.p.rapidapi.com/images/generations",{prompt:this.promp,n:1,size:this.medidas},this.RapidAPI,this.apiHost).subscribe(r=>{this.firestoreService.ApiKeyAdd(this.RapidAPI),console.log(r),this.response=r})}publicarImg(){this.firestoreService.saveImgStorage(this.file,this.responseSableDifusion)}uploadImg(n){this.file=n.target.files[0],n.target=null}descarga(){this.firestoreService.getImages()}}return t.\u0275fac=function(n){return new(n||t)(D(dj),D(nh),D(pH))},t.\u0275cmp=ti({type:t,selectors:[["app-crear"]],decls:7,vars:3,consts:[[1,"viewCrear"],[3,"click"],["class","Crear",4,"ngIf"],["class","modalUpload",4,"ngIf"],[1,"Crear"],[1,"sidebard"],[1,"title"],[1,"btnChange",3,"click"],["for",""],["type","text","placeholder","720px*1080",3,"ngModel","ngModelChange"],["type","text","placeholder","....",3,"ngModel","ngModelChange"],["placeholder","...",3,"ngModel","ngModelChange"],[1,"btnGenerar",3,"click"],[1,"imgGenerada"],[1,"imgDiv"],["alt","",1,"imgGenerada",3,"src"],["type","text","placeholder","...",3,"ngModel","ngModelChange"],["type","text","placeholder","512",3,"ngModel","ngModelChange"],[1,"ContenRange"],["type","range","min","1","max","500",1,"InputRange",3,"ngModel","ngModelChange"],["type","text","placeholder","1-500",1,"RangeText",3,"ngModel","ngModelChange"],["type","range","min","1","max","20",1,"InputRange",3,"ngModel","ngModelChange"],["type","text","placeholder","1-20",1,"RangeText",3,"ngModel","ngModelChange"],["type","text","placeholder","#",3,"ngModel","ngModelChange"],["target","_blank","download","true",3,"href"],["alt","","id","ImgGenerada",1,"imgGenerada",3,"src"],[1,"modalUpload"],[1,"tituloModal"],[1,"modalBody"],[1,"modalActions"],["type","file","accept","*.png",3,"change"],[1,"modalImg"]],template:function(n,r){1&n&&(I(0,"div",0),F(1,"app-nav-bar"),I(2,"button",1),X("click",function(){return r.ShowModal()}),R(3,"modalShow"),E(),Ur(4,efe,29,5,"div",2),Ur(5,tfe,51,12,"div",2),Ur(6,nfe,30,4,"div",3),E()),2&n&&(ne(4),re("ngIf",!r.swicht),ne(1),re("ngIf",r.swicht),ne(1),re("ngIf",r.modalShow))},dependencies:[el,ac,IS,Am,ch,rh],styles:[".viewCrear[_ngcontent-%COMP%]{background-color:#222;min-height:100vh}.Crear[_ngcontent-%COMP%]{display:flex;width:100%;margin:0 auto;justify-content:center;padding-top:10px;background-color:#222}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]{margin:0 auto;padding-left:3vw;width:25vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]{width:100%}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]   .InputRange[_ngcontent-%COMP%]{padding-top:10px;width:75%}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]   .RangeText[_ngcontent-%COMP%]{width:20%;justify-content:center}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .btnChange[_ngcontent-%COMP%]{margin-bottom:20px;padding:5px 15px;background-color:#1815e2;border:1px solid #1d13aa}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.5vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:2vw;font-family:inherit}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;margin-bottom:20px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%;margin-bottom:10px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;margin:0 5%;background-color:#13aa52;border:1px solid #13aa52;border-radius:4px;box-shadow:#0000001a 0 2px 4px;box-sizing:border-box;color:#fff;cursor:pointer;font-family:Akzidenz Grotesk BQ Medium,-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px;font-weight:400;outline:none;outline:0;padding:10px 25px;text-align:center;transform:translateY(0);transition:transform .15s,box-shadow .15s;touch-action:manipulation}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:#00000026 0 3px 9px;transform:translateY(-2px)}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]{width:70vw;height:90vh}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]{display:flex;align-items:center;width:90%;padding:0%;height:100%}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;width:auto;height:100%;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}@media (max-width: 805px){.Crear[_ngcontent-%COMP%]{flex-direction:column-reverse;padding-bottom:50px}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]{margin:0 auto;width:80%}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:4vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:3.3vw}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]{width:95vw;margin:0 auto;height:95vw}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]{width:90vw;padding:1vw}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}}.modalUpload[_ngcontent-%COMP%]{width:70vw;height:80vh;position:fixed;z-index:1;left:15vw;top:10vh;padding:10px;justify-content:center;background-color:#0e0e0e;color:#fff;border-radius:10px}.modalUpload[_ngcontent-%COMP%]   .tituloModal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 30px;align-items:center}.modalUpload[_ngcontent-%COMP%]   .tituloModal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;margin-top:5px;margin-bottom:5px}.modalUpload[_ngcontent-%COMP%]   .tituloModal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;height:50%;margin:0}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]{display:flex;width:100%}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]{width:30%;margin:0 auto}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]{width:100%}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]   .InputRange[_ngcontent-%COMP%]{padding-top:10px;width:75%}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   .ContenRange[_ngcontent-%COMP%]   .RangeText[_ngcontent-%COMP%]{width:20%;justify-content:center}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .btnChange[_ngcontent-%COMP%]{margin-bottom:20px;padding:5px 15px;background-color:#1815e2;border:1px solid #1d13aa}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.5vw}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:2vw;font-family:inherit}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;margin-bottom:20px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%;margin-bottom:10px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;margin:0 5%;background-color:#13aa52;border:1px solid #13aa52;border-radius:4px;box-shadow:#0000001a 0 2px 4px;box-sizing:border-box;color:#fff;cursor:pointer;font-family:Akzidenz Grotesk BQ Medium,-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px;font-weight:400;outline:none;outline:0;padding:10px 25px;text-align:center;transform:translateY(0);transition:transform .15s,box-shadow .15s;touch-action:manipulation}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalActions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:#00000026 0 3px 9px;transform:translateY(-2px)}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalImg[_ngcontent-%COMP%]{width:65%;height:auto;justify-content:center}.modalUpload[_ngcontent-%COMP%]   .modalBody[_ngcontent-%COMP%]   .modalImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:2.5px;max-width:100%;width:auto;height:95%;background-size:cover;background-repeat:no-repeat}"]}),t})();const gH=function(){return["/crear"]},ife=[{path:"",component:Wde},{path:"perfil",component:Zhe},{path:"crear",component:rfe},{path:"tutorial",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ti({type:t,selectors:[["app-tutorial"]],decls:84,vars:4,consts:[[1,"viewTutorial"],[1,"tutorial"],[1,"tituloTuto"],[1,"Pasos"],["src","../../../assets/tutorial/IniciarSeccion.png","alt",""],["href","https://rapidapi.com/hub"],["src","../../../assets/tutorial/BuscarApi.png","alt",""],["src","../../../assets/tutorial/Pricing.png","alt",""],["src","../../../assets/tutorial/apikey.png","alt",""],[3,"routerLink"]],template:function(n,r){1&n&&(I(0,"div",0),F(1,"app-nav-bar"),I(2,"div",1)(3,"h1",2),R(4,"Comienza a usar dall-e"),E(),I(5,"div",3)(6,"h2"),R(7," 1.- RapidAPI "),E(),F(8,"img",4),I(9,"p"),R(10,"Inicia seccion o registrate en RapidAPI, para conseguir la apiKey "),I(11,"a",5),R(12,"https://rapidapi.com/hub"),E()()(),F(13,"hr"),I(14,"div",3)(15,"h2"),R(16," 2.- Ingresar a OpenAI "),E(),F(17,"img",6),I(18,"p"),R(19,"Deberas buscar openAi en la seccion de busqueda, y entra al primer resultado "),E()(),F(20,"hr"),I(21,"div",3)(22,"h2"),R(23," 3.- Activar api "),E(),F(24,"img",7),I(25,"p"),R(26," Deberas seleccionar la pricing y subscribirte al plan basico, ya que este es el gratuito "),E()(),F(27,"hr"),I(28,"div",3)(29,"h2"),R(30," 4.- Consigue la apikey "),E(),F(31,"img",8),I(32,"p"),R(33," Regresa a la seccion de Endpoints, y deslizate hacia abajo para encontrar el Api-key y el Host "),E()(),F(34,"hr"),I(35,"div",3)(36,"h2"),R(37," 5.- Pasa a crear "),E(),F(38,"img",8),I(39,"p"),R(40," Teniendo el apiKey y el Host ya puedes comenzar a crear tus imagenes "),I(41,"a",9),R(42,"Empieza a crear"),E()()()(),I(43,"div",1)(44,"h1",2),R(45,"Comienza a usar Stable Diffusion"),E(),I(46,"div",3)(47,"h2"),R(48," 1.- replicate.com/ "),E(),F(49,"img",4),I(50,"p"),R(51,"Inicia seccion en replicate.com, para conseguir tu token personal, "),I(52,"a",5),R(53,"https://replicate.com"),E()()(),F(54,"hr"),I(55,"div",3)(56,"h2"),R(57," 2.- Ingresar a OpenAI "),E(),F(58,"img",6),I(59,"p"),R(60,"Deberas buscar openAi en la seccion de busqueda, y entra al primer resultado "),E()(),F(61,"hr"),I(62,"div",3)(63,"h2"),R(64," 3.- Activar api "),E(),F(65,"img",7),I(66,"p"),R(67," Deberas seleccionar la pricing y subscribirte al plan basico, ya que este es el gratuito "),E()(),F(68,"hr"),I(69,"div",3)(70,"h2"),R(71," 4.- Consigue la apikey "),E(),F(72,"img",8),I(73,"p"),R(74," Regresa a la seccion de Endpoints, y deslizate hacia abajo para encontrar el Api-key y el Host "),E()(),F(75,"hr"),I(76,"div",3)(77,"h2"),R(78," 5.- Pasa a crear "),E(),F(79,"img",8),I(80,"p"),R(81," Teniendo el apiKey y el Host ya puedes comenzar a crear tus imagenes "),I(82,"a",9),R(83,"Empieza a crear"),E()()()()()),2&n&&(ne(41),re("routerLink",Vi(2,gH)),ne(41),re("routerLink",Vi(3,gH)))},dependencies:[bl,rh],styles:[".viewTutorial[_ngcontent-%COMP%]{background-color:#222;color:#fff}.tutorial[_ngcontent-%COMP%]{width:70vw;margin:0 auto;justify-content:center;padding-bottom:5vw}.tutorial[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:4vw;text-decoration:underline}@media (max-width: 695px){.tutorial[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8vw}}.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3vw}@media (max-width: 695px){.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:6vw}}.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2vw}@media (max-width: 695px){.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:4vw}}.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{box-shadow:#0000003d 0 3px 8px;width:65vw}@media (max-width: 695px){.tutorial[_ngcontent-%COMP%]   .Pasos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:85vw}}@media (max-width: 695px){.tutorial[_ngcontent-%COMP%]{width:90vw}}"]}),t})()},{path:"crear2",component:(()=>{class t{constructor(n,r){this.RestService=n,this.firestoreService=r,this.promp="",this.negativePromp="",this.medidas="1024x1024",this.Token="",this.apiHost="openai80.p.rapidapi.com",this.responseSableDifusion={status:"success",generationTime:1.0769741535186768,id:12777029,output:["https://pub-8b49af329fae499aa563997f5d4068a4.r2.dev/generations/3727094c-a37f-48b5-8f8a-8bb75db3b637-0.png"],meta:{H:512,W:512,enable_attention_slicing:"true",file_prefix:"3727094c-a37f-48b5-8f8a-8bb75db3b637",guidance_scale:7.5,model:"runwayml/stable-diffusion-v1-5",n_samples:1,negative_prompt:"((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, (((skinny))), glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs)), anime ((out of frame)), ((extra fingers)), mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), (((tiling))), ((naked)), ((tile)), ((fleshpile)), ((ugly)), (((abstract))), blurry, ((bad anatomy)), ((bad proportions)), ((extra limbs)), cloned face, glitchy, ((extra breasts)), ((double torso)), ((extra arms)), ((extra hands)), ((mangled fingers)), ((missing breasts)), (missing lips), ((ugly face)), ((fat)), ((extra legs))",outdir:"out",prompt:"ultra realistic close up portrait ((beautiful pale cyberpunk female with heavy black eyeliner)), blue eyes, shaved side haircut, hyper detail, cinematic lighting, magic neon, dark red city, Canon EOS R3, nikon, f/1.4, ISO 200, 1/160s, 8K, RAW, unedited, symmetrical balance, in-frame, 8K DSLR photography, sharp focus, Unreal Engine 5, Octane Render, Redshift, ((cinematic lighting)), f/1.4, ISO 200, 1/160s, 8K, RAW, unedited, symmetrical balance, in-frame",revision:"fp16",safetychecker:"no",seed:3331968503,steps:20,vae:"stabilityai/sd-vae-ft-mse"}},this.response={created:1681268637,data:[{url:"../../assets/123.jpg"}]}}getdata(){var n=this;return g(function*(){n.user=yield n.firestoreService.getUser(),console.log(n.user)})()}Generar(){this.RestService.getStableDifusion("predictions",{version:"db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf",input:{guidance_scale:7.5,image_dimensions:"512x512",negative_prompt:this.negativePromp,num_inference_steps:50,num_outputs:1,prompt:this.promp,scheduler:"K_EULER"}},"a").subscribe(r=>{console.log(r),setTimeout(()=>{console.log("1 Segundo esperado"),this.RestService.getUrl(r,this.Token).subscribe(i=>{console.log(i),this.responseSableDifusion=i})},8e3)})}Generar2(){this.RestService.getStableDifusion("https://replicate.com/api/models/stability-ai/stable-diffusion/versions/db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf/predictions",{guidance_scale:7.5,image_dimensions:"512x512",negative_prompt:this.negativePromp,num_inference_steps:50,num_outputs:1,prompt:this.promp,scheduler:"K_EULER",seed:111111},"a").subscribe(r=>{this.response=r})}}return t.\u0275fac=function(n){return new(n||t)(D(pH),D(nh))},t.\u0275cmp=ti({type:t,selectors:[["app-crear-stable-diffusion"]],decls:29,vars:5,consts:[[1,"viewCrear"],[1,"Crear"],[1,"sidebard"],["for",""],["type","text","placeholder","720px*1080",3,"ngModel","ngModelChange"],["type","text","placeholder","...",3,"ngModel","ngModelChange"],["placeholder","...",3,"ngModel","ngModelChange"],[1,"btnGenerar",3,"click"],[1,"imgGenerada"],[1,"imgDiv"],["alt","",1,"imgGenerada",3,"src"]],template:function(n,r){1&n&&(I(0,"div",0),F(1,"app-nav-bar"),I(2,"div",1)(3,"div",2)(4,"h2"),R(5,"Imagen"),E(),I(6,"label",3),R(7,"Medidas"),E(),I(8,"input",4),X("ngModelChange",function(s){return r.medidas=s}),E(),F(9,"br"),I(10,"label",3),R(11,"Token"),E(),I(12,"input",5),X("ngModelChange",function(s){return r.Token=s}),E(),F(13,"br"),I(14,"label",3),R(15,"Prompt"),E(),F(16,"br"),I(17,"textarea",6),X("ngModelChange",function(s){return r.promp=s}),E(),F(18,"br"),I(19,"label",3),R(20,"Negative Prompt"),E(),F(21,"br"),I(22,"textarea",6),X("ngModelChange",function(s){return r.negativePromp=s}),E(),F(23,"br"),I(24,"button",7),X("click",function(){return r.Generar()}),R(25,"Generar"),E()(),I(26,"div",8)(27,"div",9),F(28,"img",10),E()()()()),2&n&&(ne(8),re("ngModel",r.medidas),ne(4),re("ngModel",r.Token),ne(5),re("ngModel",r.promp),ne(5),re("ngModel",r.negativePromp),ne(6),re("src",r.responseSableDifusion.output[0],Oi))},dependencies:[ac,Am,ch,rh],styles:[".viewCrear[_ngcontent-%COMP%]{background-color:#222;min-height:100vh}.Crear[_ngcontent-%COMP%]{display:flex;width:100%;margin:0 auto;justify-content:center;padding-top:10px;background-color:#222}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]{width:20vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2.5vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:2vw;font-family:inherit}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;margin-bottom:20px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:90%;margin-bottom:10px;font-family:inherit;width:100%;border:0;border-bottom:2px solid gray;outline:0;font-size:1.3rem;color:#fff;padding:7px 0;background:transparent;transition:border-color .2s}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;margin:0 5%;background-color:#13aa52;border:1px solid #13aa52;border-radius:4px;box-shadow:#0000001a 0 2px 4px;box-sizing:border-box;color:#fff;cursor:pointer;font-family:Akzidenz Grotesk BQ Medium,-apple-system,BlinkMacSystemFont,sans-serif;font-size:16px;font-weight:400;outline:none;outline:0;padding:10px 25px;text-align:center;transform:translateY(0);transition:transform .15s,box-shadow .15s;touch-action:manipulation}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:#00000026 0 3px 9px;transform:translateY(-2px)}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]{width:75vw}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]{width:90%;padding:5%}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}@media (max-width: 805px){.Crear[_ngcontent-%COMP%]{flex-direction:column-reverse;padding-bottom:50px}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]{margin:0 auto;width:80%}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:4vw}.Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .Crear[_ngcontent-%COMP%]   .sidebard[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:3.3vw}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]{width:90%;margin:0 auto}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]{width:90%;padding:5%}.Crear[_ngcontent-%COMP%]   .imgGenerada[_ngcontent-%COMP%]   .imgDiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}}"]}),t})()}];let sfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({imports:[uN.forRoot(ife),uN]}),t})(),ofe=(()=>{class t{constructor(){this.title="dalle"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ti({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&F(0,"router-outlet")},dependencies:[fw],styles:[".prueba[_ngcontent-%COMP%]{color:#7c4343}"]}),t})();const afe_firebase={projectId:"dall-e-2f682",appId:"1:213756026729:web:d41b2fc86acd4e115e27f8",storageBucket:"dall-e-2f682.appspot.com",apiKey:"AIzaSyBz5rmAiedp3ymepiZ9rUeU9oANfg8wZcU",authDomain:"dall-e-2f682.firebaseapp.com",messagingSenderId:"213756026729",measurementId:"G-CWC6Z80BGJ"};function lfe(t,e){return t===e}class lh{constructor(e){return e}}const mH="analytics",yH=Ap.async,ffe=Lt(Kee,!0),pfe=Lt(DF,!0),gfe=Lt(Xee,!0);let MS=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],ze("angularfire",xs.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),yH().then(()=>{const o=i.get(lh);o?this.disposables=[sV(n).subscribe(a=>{gfe(o,a?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(k(Iu),k(je),k(cn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const _H="firebase_screen_id",RS="outlet",dh="screen_class",vH="screen_name";let Sfe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const PS={},Afe=t=>{const e=[t[dh],t[RS]].join("#");if(PS.hasOwnProperty(e))return PS[e];{const n=Sfe++;return PS[e]=n,n}},xfe=(t,e,n)=>t.events.pipe(qr(i=>i instanceof CO)).pipe(Rr(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",u=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!u)return Y(null);let c=u;for(;c.firstChild;)c=c.firstChild;const l=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[vH]:l,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:l,[RS]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=u.component;if(h){if(h===ip){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return Y(Object.assign(Object.assign({},d),{[dh]:h}));if(h){const f=n.resolveComponentFactory(h);return Y(Object.assign(Object.assign({},d),{[dh]:f.selector}))}return Y(null)}),qr(i=>!!i),pe(i=>Object.assign({firebase_screen_class:i[dh],[_H]:Afe(i)},i)),function ufe(t,e,n,r){return bt((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,u=p=>{a.forEach(p),p(s)},c=p=>u(m=>m.error(p));let l=0,d=!1;const h=new VS(s,p=>{try{const m=t(p);let y=a.get(m);if(!y){a.set(m,y=r?r():new Xr);const _=function f(p,m){const y=new Je(_=>{l++;const C=m.subscribe(_);return()=>{C.unsubscribe(),0==--l&&d&&h.unsubscribe()}});return y.key=p,y}(m,y);if(s.next(_),n){const C=dt(y,()=>{y.complete(),C?.unsubscribe()},void 0,void 0,()=>a.delete(m));h.add(Ir(n(_)).subscribe(C))}}y.next(o?o(p):p)}catch(m){c(m)}},()=>u(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===l));i.subscribe(h)})}(i=>i[RS]),Kt(i=>i.pipe(function cfe(t,e=gs){return t=t??lfe,bt((n,r)=>{let i,s=!0;n.subscribe(dt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}((s,o)=>JSON.stringify(s)===JSON.stringify(o)),eO(void 0),function dfe(){return bt((t,e)=>{let n,r=!1;t.subscribe(dt(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),pe(([s,o])=>s?Object.assign({firebase_previous_class:s[dh],firebase_previous_screen:s[vH],firebase_previous_id:s[_H]},o):o))));let wH=(()=>{class t{constructor(n,r,i,s,o,a){ze("angularfire",xs.full,"screen-tracking"),yH().then(()=>{const u=a.get(lh);!n||!u||s.runOutsideAngular(()=>{this.disposable=xfe(n,r,i).pipe(Rr(c=>BS(this,void 0,void 0,function*(){return o&&(yield o.initialized),pfe(u,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(k(Dn,8),k($v,8),k(Ra),k(je),k(MS,8),k(cn))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const kS=new U("angularfire2.analytics-instances");function Rfe(t){return(e,n)=>{if(!Ap.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new lh(r)}}const Pfe={provide:class hfe{constructor(){return kl(mH)}},deps:[[new ft,kS]]},kfe={provide:lh,useFactory:function Mfe(t,e){if(!Ap.sync())return null;const n=Pl(mH,t,e);return n&&new lh(n)},deps:[[new ft,kS],Ms]};let Ofe=(()=>{class t{constructor(n,r){ze("angularfire",xs.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(k(wH,8),k(MS,8))},t.\u0275mod=sn({type:t}),t.\u0275inj=Qt({providers:[kfe,Pfe,{provide:Kc,useValue:Ap.async,multi:!0}]}),t})();function Nfe(t,...e){return{ngModule:Ofe,providers:[{provide:kS,useFactory:Rfe(t),multi:!0,deps:[je,cn,Ol,Nl,...e]}]}}var Ffe=be(650),bH=be.n(Ffe);let Lfe=(()=>{class t{constructor(n=new(bH())({auth:"553b574a414c15942269218e7741edc306711f18"})){this.replicate=n}replica(){const n=this.replicate.run("stability-ai/stable-diffusion:db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf",{input:{prompt:"a vision of paradise. unreal engine"}}).catch(r=>console.log(r));console.log(n)}}return t.\u0275fac=function(n){return new(n||t)(k(bH()))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Vfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=sn({type:t,bootstrap:[ofe]}),t.\u0275inj=Qt({providers:[aS,Lfe,wH,MS],imports:[OK,l9,sfe,Qhe,Yhe,pte(()=>gte(afe_firebase)),Nfe(()=>ffe()),ese(()=>nse()),Qce(()=>Zce()),Nde(()=>Fde())]}),t})();kK().bootstrapModule(Vfe).catch(t=>console.error(t))},650:(Z,qt,be)=>{var B=be(156).default,Ce=be(186).default,z=be(737).default,ie=be(131).default,Q=be(237).default;const rt=be(480),Ee=be(543),De=be(159),oe=be(895),Me=be(973);Z.exports=class rn{constructor(Te){this.auth=Te.auth,this.userAgent=Te.userAgent||`replicate-javascript/${Me.version}`,this.baseUrl=Te.baseUrl||"https://api.replicate.com/v1",this.fetch=Te.fetch||fetch,this.collections={get:rt.get.bind(this)},this.models={get:Ee.get.bind(this),versions:{list:Ee.versions.list.bind(this),get:Ee.versions.get.bind(this)}},this.predictions={create:De.create.bind(this),get:De.get.bind(this),cancel:De.cancel.bind(this),list:De.list.bind(this)},this.trainings={create:oe.create.bind(this),get:oe.get.bind(this),cancel:oe.cancel.bind(this),list:oe.list.bind(this)}}run(Te,Wt){var vn=this;return B(function*(){const qn=/[a-zA-Z0-9]+(?:(?:[._]|__|[-]*)[a-zA-Z0-9]+)*/,wt=new RegExp(`^(?<owner>${qn.source})/(?<name>${qn.source}):(?<version>[0-9a-fA-F]+)$`),br=Te.match(wt);if(!br||!br.groups)throw new Error('Invalid version. It must be in the format "owner/name:version"');const{version:Ei}=br.groups,Or=yield vn.predictions.create({wait:!0,...Wt,version:Ei});if("failed"===Or.status)throw new Error(`Prediction failed: ${Or.error}`);return Or.output})()}request(Te,Wt){var vn=this;return B(function*(){const{auth:qn,baseUrl:wt,userAgent:br}=vn,Ei=new URL(Te.startsWith("/")?Te.slice(1):Te,wt.endsWith("/")?wt:`${wt}/`),{method:Or="GET",params:eo={},data:ps}=Wt;Object.entries(eo).forEach(([la,Fm])=>{Ei.searchParams.append(la,Fm)});const cc={Authorization:`Token ${qn}`,"Content-Type":"application/json","User-Agent":br},Di=yield vn.fetch(Ei,{method:Or,headers:cc,body:ps?JSON.stringify(ps):void 0});if(!Di.ok)throw new Error(`API request failed: ${Di.statusText}`);return Di.json()})()}paginate(Te){var Wt=this;return Ce(function*(){const vn=yield z(Te());if(yield vn.results,vn.next){const qn=()=>Wt.request(vn.next,{method:"GET"});yield*ie(Q(Wt.paginate(qn)),z)}})()}wait(Te,Wt){var vn=this;return B(function*(){const{id:qn}=Te;if(!qn)throw new Error("Invalid prediction");if("succeeded"===Te.status||"failed"===Te.status||"canceled"===Te.status)return Te;let wt=yield vn.predictions.get(qn);const br=ps=>new Promise(cc=>setTimeout(cc,ps));let Ei=0;const Or=Wt.interval||250,eo=Wt.maxAttempts||null;for(;"succeeded"!==wt.status&&"failed"!==wt.status&&"canceled"!==wt.status;){if(Ei+=1,eo&&Ei>eo)throw new Error(`Prediction ${qn} did not finish after ${eo} attempts`);yield br(Or),wt=yield vn.predictions.get(Te.id)}if("failed"===wt.status)throw new Error(`Prediction failed: ${wt.error}`);return wt})()}}},480:(Z,qt,be)=>{var B=be(156).default;function z(){return(z=B(function*(ie){return this.request(`/collections/${ie}`,{method:"GET"})})).apply(this,arguments)}Z.exports={get:function Ce(ie){return z.apply(this,arguments)}}},543:(Z,qt,be)=>{var B=be(156).default;function z(){return(z=B(function*(De,oe){return this.request(`/models/${De}/${oe}`,{method:"GET"})})).apply(this,arguments)}function Q(){return(Q=B(function*(De,oe){return this.request(`/models/${De}/${oe}/versions`,{method:"GET"})})).apply(this,arguments)}function Ee(){return(Ee=B(function*(De,oe,Me){return this.request(`/models/${De}/${oe}/versions/${Me}`,{method:"GET"})})).apply(this,arguments)}Z.exports={get:function Ce(De,oe){return z.apply(this,arguments)},versions:{list:function ie(De,oe){return Q.apply(this,arguments)},get:function rt(De,oe,Me){return Ee.apply(this,arguments)}}}},159:(Z,qt,be)=>{var B=be(156).default;function z(){return(z=B(function*(Me){const{wait:rn,...Gn}=Me,Te=this.request("/predictions",{method:"POST",data:Gn});if(rn){const{maxAttempts:Wt,interval:vn}=rn;return this.wait(yield Te,{maxAttempts:Wt,interval:vn})}return Te})).apply(this,arguments)}function Q(){return(Q=B(function*(Me){return this.request(`/predictions/${Me}`,{method:"GET"})})).apply(this,arguments)}function Ee(){return(Ee=B(function*(Me){return this.request(`/predictions/${Me}/cancel`,{method:"POST"})})).apply(this,arguments)}function oe(){return(oe=B(function*(){return this.request("/predictions",{method:"GET"})})).apply(this,arguments)}Z.exports={create:function Ce(Me){return z.apply(this,arguments)},get:function ie(Me){return Q.apply(this,arguments)},cancel:function rt(Me){return Ee.apply(this,arguments)},list:function De(){return oe.apply(this,arguments)}}},895:(Z,qt,be)=>{var B=be(156).default;function z(){return(z=B(function*(Me,rn,Gn,Te){const{...Wt}=Te;return this.request(`/models/${Me}/${rn}/versions/${Gn}/trainings`,{method:"POST",data:Wt})})).apply(this,arguments)}function Q(){return(Q=B(function*(Me){return this.request(`/trainings/${Me}`,{method:"GET"})})).apply(this,arguments)}function Ee(){return(Ee=B(function*(Me){return this.request(`/trainings/${Me}/cancel`,{method:"POST"})})).apply(this,arguments)}function oe(){return(oe=B(function*(){return this.request("/trainings",{method:"GET"})})).apply(this,arguments)}Z.exports={create:function Ce(Me,rn,Gn,Te){return z.apply(this,arguments)},get:function ie(Me){return Q.apply(this,arguments)},cancel:function rt(Me){return Ee.apply(this,arguments)},list:function De(){return oe.apply(this,arguments)}}},642:(Z,qt,be)=>{var B=be(801);function Ce(z){var ie,Q;function rt(De,oe){try{var Me=z[De](oe),rn=Me.value,Gn=rn instanceof B;Promise.resolve(Gn?rn.v:rn).then(function(Te){if(Gn){var Wt="return"===De?"return":"next";if(!rn.k||Te.done)return rt(Wt,Te);Te=z[Wt](Te).value}Ee(Me.done?"return":"normal",Te)},function(Te){rt("throw",Te)})}catch(Te){Ee("throw",Te)}}function Ee(De,oe){switch(De){case"return":ie.resolve({value:oe,done:!0});break;case"throw":ie.reject(oe);break;default:ie.resolve({value:oe,done:!1})}(ie=ie.next)?rt(ie.key,ie.arg):Q=null}this._invoke=function(De,oe){return new Promise(function(Me,rn){var Gn={key:De,arg:oe,resolve:Me,reject:rn,next:null};Q?Q=Q.next=Gn:(ie=Q=Gn,rt(De,oe))})},"function"!=typeof z.return&&(this.return=void 0)}Ce.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ce.prototype.next=function(z){return this._invoke("next",z)},Ce.prototype.throw=function(z){return this._invoke("throw",z)},Ce.prototype.return=function(z){return this._invoke("return",z)},Z.exports=Ce,Z.exports.__esModule=!0,Z.exports.default=Z.exports},801:Z=>{Z.exports=function qt(be,B){this.v=be,this.k=B},Z.exports.__esModule=!0,Z.exports.default=Z.exports},131:(Z,qt,be)=>{var B=be(801);Z.exports=function Ce(z){var ie={},Q=!1;function rt(Ee,De){return Q=!0,De=new Promise(function(oe){oe(z[Ee](De))}),{done:!1,value:new B(De,1)}}return ie[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},ie.next=function(Ee){return Q?(Q=!1,Ee):rt("next",Ee)},"function"==typeof z.throw&&(ie.throw=function(Ee){if(Q)throw Q=!1,Ee;return rt("throw",Ee)}),"function"==typeof z.return&&(ie.return=function(Ee){return Q?(Q=!1,Ee):rt("return",Ee)}),ie},Z.exports.__esModule=!0,Z.exports.default=Z.exports},237:Z=>{function be(B){function Ce(z){if(Object(z)!==z)return Promise.reject(new TypeError(z+" is not an object."));var ie=z.done;return Promise.resolve(z.value).then(function(Q){return{value:Q,done:ie}})}return(be=function(ie){this.s=ie,this.n=ie.next}).prototype={s:null,n:null,next:function(){return Ce(this.n.apply(this.s,arguments))},return:function(ie){var Q=this.s.return;return void 0===Q?Promise.resolve({value:ie,done:!0}):Ce(Q.apply(this.s,arguments))},throw:function(ie){var Q=this.s.return;return void 0===Q?Promise.reject(ie):Ce(Q.apply(this.s,arguments))}},new be(B)}Z.exports=function qt(B){var Ce,z,ie,Q=2;for(typeof Symbol<"u"&&(z=Symbol.asyncIterator,ie=Symbol.iterator);Q--;){if(z&&null!=(Ce=B[z]))return Ce.call(B);if(ie&&null!=(Ce=B[ie]))return new be(Ce.call(B));z="@@asyncIterator",ie="@@iterator"}throw new TypeError("Object is not async iterable")},Z.exports.__esModule=!0,Z.exports.default=Z.exports},156:Z=>{function qt(B,Ce,z,ie,Q,rt,Ee){try{var De=B[rt](Ee),oe=De.value}catch(Me){return void z(Me)}De.done?Ce(oe):Promise.resolve(oe).then(ie,Q)}Z.exports=function be(B){return function(){var Ce=this,z=arguments;return new Promise(function(ie,Q){var rt=B.apply(Ce,z);function Ee(oe){qt(rt,ie,Q,Ee,De,"next",oe)}function De(oe){qt(rt,ie,Q,Ee,De,"throw",oe)}Ee(void 0)})}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},737:(Z,qt,be)=>{var B=be(801);Z.exports=function Ce(z){return new B(z,0)},Z.exports.__esModule=!0,Z.exports.default=Z.exports},186:(Z,qt,be)=>{var B=be(642);Z.exports=function Ce(z){return function(){return new B(z.apply(this,arguments))}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},973:Z=>{"use strict";Z.exports=JSON.parse('{"name":"replicate","version":"0.11.0","description":"JavaScript client for Replicate","repository":"github:replicate/replicate-javascript","homepage":"https://github.com/replicate/replicate-javascript#readme","bugs":"https://github.com/replicate/replicate-javascript/issues","license":"Apache-2.0","main":"index.js","scripts":{"lint":"eslint .","test":"jest"},"devDependencies":{"@types/jest":"^29.5.0","@typescript-eslint/eslint-plugin":"^5.56.0","cross-fetch":"^3.1.5","eslint":"^8.36.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.27.5","eslint-plugin-jest":"^27.2.1","eslint-plugin-jsdoc":"^40.1.0","eslint-plugin-n":"^15.6.1","eslint-plugin-promise":"^6.1.1","jest":"^29.5.0","nock":"^13.3.0","ts-jest":"^29.1.0","typescript":"^5.0.2"}}')}},Z=>{Z(Z.s=751)}]);